(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _E(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lp={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function gA(){if(Ev)return Gc;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var bv;function _A(){return bv||(bv=1,lp.exports=gA()),lp.exports}var S=_A(),up={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function yA(){if(Tv)return Je;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function Q(C,oe,fe){this.props=C,this.context=oe,this.refs=Y,this.updater=fe||z}Q.prototype.isReactComponent={},Q.prototype.setState=function(C,oe){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,oe,"setState")},Q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ie(){}ie.prototype=Q.prototype;function Z(C,oe,fe){this.props=C,this.context=oe,this.refs=Y,this.updater=fe||z}var de=Z.prototype=new ie;de.constructor=Z,L(de,Q.prototype),de.isPureReactComponent=!0;var Ae=Array.isArray,Ce={H:null,A:null,T:null,S:null,V:null},Fe=Object.prototype.hasOwnProperty;function U(C,oe,fe,he,_e,$e){return fe=$e.ref,{$$typeof:r,type:C,key:oe,ref:fe!==void 0?fe:null,props:$e}}function D(C,oe){return U(C.type,oe,void 0,void 0,void 0,C.props)}function M(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var oe={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(fe){return oe[fe]})}var O=/\/+/g;function j(C,oe){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):oe.toString(36)}function k(){}function Pt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(k,k):(C.status="pending",C.then(function(oe){C.status==="pending"&&(C.status="fulfilled",C.value=oe)},function(oe){C.status==="pending"&&(C.status="rejected",C.reason=oe)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Pe(C,oe,fe,he,_e){var $e=typeof C;($e==="undefined"||$e==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch($e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case r:case e:xe=!0;break;case T:return xe=C._init,Pe(xe(C._payload),oe,fe,he,_e)}}if(xe)return _e=_e(C),xe=he===""?"."+j(C,0):he,Ae(_e)?(fe="",xe!=null&&(fe=xe.replace(O,"$&/")+"/"),Pe(_e,oe,fe,"",function(Cn){return Cn})):_e!=null&&(M(_e)&&(_e=D(_e,fe+(_e.key==null||C&&C.key===_e.key?"":(""+_e.key).replace(O,"$&/")+"/")+xe)),oe.push(_e)),1;xe=0;var kt=he===""?".":he+":";if(Ae(C))for(var ve=0;ve<C.length;ve++)he=C[ve],$e=kt+j(he,ve),xe+=Pe(he,oe,fe,$e,_e);else if(ve=x(C),typeof ve=="function")for(C=ve.call(C),ve=0;!(he=C.next()).done;)he=he.value,$e=kt+j(he,ve++),xe+=Pe(he,oe,fe,$e,_e);else if($e==="object"){if(typeof C.then=="function")return Pe(Pt(C),oe,fe,he,_e);throw oe=String(C),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ee(C,oe,fe){if(C==null)return C;var he=[],_e=0;return Pe(C,he,"","",function($e){return oe.call(fe,$e,_e++)}),he}function me(C){if(C._status===-1){var oe=C._result;oe=oe(),oe.then(function(fe){(C._status===0||C._status===-1)&&(C._status=1,C._result=fe)},function(fe){(C._status===0||C._status===-1)&&(C._status=2,C._result=fe)}),C._status===-1&&(C._status=0,C._result=oe)}if(C._status===1)return C._result.default;throw C._result}var ge=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Oe(){}return Je.Children={map:ee,forEach:function(C,oe,fe){ee(C,function(){oe.apply(this,arguments)},fe)},count:function(C){var oe=0;return ee(C,function(){oe++}),oe},toArray:function(C){return ee(C,function(oe){return oe})||[]},only:function(C){if(!M(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Je.Component=Q,Je.Fragment=n,Je.Profiler=o,Je.PureComponent=Z,Je.StrictMode=s,Je.Suspense=g,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce,Je.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Ce.H.useMemoCache(C)}},Je.cache=function(C){return function(){return C.apply(null,arguments)}},Je.cloneElement=function(C,oe,fe){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var he=L({},C.props),_e=C.key,$e=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&($e=void 0),oe.key!==void 0&&(_e=""+oe.key),oe)!Fe.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(he[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)he.children=fe;else if(1<xe){for(var kt=Array(xe),ve=0;ve<xe;ve++)kt[ve]=arguments[ve+2];he.children=kt}return U(C.type,_e,void 0,void 0,$e,he)},Je.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Je.createElement=function(C,oe,fe){var he,_e={},$e=null;if(oe!=null)for(he in oe.key!==void 0&&($e=""+oe.key),oe)Fe.call(oe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=oe[he]);var xe=arguments.length-2;if(xe===1)_e.children=fe;else if(1<xe){for(var kt=Array(xe),ve=0;ve<xe;ve++)kt[ve]=arguments[ve+2];_e.children=kt}if(C&&C.defaultProps)for(he in xe=C.defaultProps,xe)_e[he]===void 0&&(_e[he]=xe[he]);return U(C,$e,void 0,void 0,null,_e)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(C){return{$$typeof:p,render:C}},Je.isValidElement=M,Je.lazy=function(C){return{$$typeof:T,_payload:{_status:-1,_result:C},_init:me}},Je.memo=function(C,oe){return{$$typeof:_,type:C,compare:oe===void 0?null:oe}},Je.startTransition=function(C){var oe=Ce.T,fe={};Ce.T=fe;try{var he=C(),_e=Ce.S;_e!==null&&_e(fe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Oe,ge)}catch($e){ge($e)}finally{Ce.T=oe}},Je.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()},Je.use=function(C){return Ce.H.use(C)},Je.useActionState=function(C,oe,fe){return Ce.H.useActionState(C,oe,fe)},Je.useCallback=function(C,oe){return Ce.H.useCallback(C,oe)},Je.useContext=function(C){return Ce.H.useContext(C)},Je.useDebugValue=function(){},Je.useDeferredValue=function(C,oe){return Ce.H.useDeferredValue(C,oe)},Je.useEffect=function(C,oe,fe){var he=Ce.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(C,oe)},Je.useId=function(){return Ce.H.useId()},Je.useImperativeHandle=function(C,oe,fe){return Ce.H.useImperativeHandle(C,oe,fe)},Je.useInsertionEffect=function(C,oe){return Ce.H.useInsertionEffect(C,oe)},Je.useLayoutEffect=function(C,oe){return Ce.H.useLayoutEffect(C,oe)},Je.useMemo=function(C,oe){return Ce.H.useMemo(C,oe)},Je.useOptimistic=function(C,oe){return Ce.H.useOptimistic(C,oe)},Je.useReducer=function(C,oe,fe){return Ce.H.useReducer(C,oe,fe)},Je.useRef=function(C){return Ce.H.useRef(C)},Je.useState=function(C){return Ce.H.useState(C)},Je.useSyncExternalStore=function(C,oe,fe){return Ce.H.useSyncExternalStore(C,oe,fe)},Je.useTransition=function(){return Ce.H.useTransition()},Je.version="19.1.0",Je}var Av;function ig(){return Av||(Av=1,up.exports=yA()),up.exports}var X=ig();const _o=_E(X);var cp={exports:{}},Kc={},hp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function vA(){return wv||(wv=1,function(r){function e(ee,me){var ge=ee.length;ee.push(me);e:for(;0<ge;){var Oe=ge-1>>>1,C=ee[Oe];if(0<o(C,me))ee[Oe]=me,ee[ge]=C,ge=Oe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var me=ee[0],ge=ee.pop();if(ge!==me){ee[0]=ge;e:for(var Oe=0,C=ee.length,oe=C>>>1;Oe<oe;){var fe=2*(Oe+1)-1,he=ee[fe],_e=fe+1,$e=ee[_e];if(0>o(he,ge))_e<C&&0>o($e,he)?(ee[Oe]=$e,ee[_e]=ge,Oe=_e):(ee[Oe]=he,ee[fe]=ge,Oe=fe);else if(_e<C&&0>o($e,ge))ee[Oe]=$e,ee[_e]=ge,Oe=_e;else break e}}return me}function o(ee,me){var ge=ee.sortIndex-me.sortIndex;return ge!==0?ge:ee.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],T=1,N=null,x=3,z=!1,L=!1,Y=!1,Q=!1,ie=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ae(ee){for(var me=n(_);me!==null;){if(me.callback===null)s(_);else if(me.startTime<=ee)s(_),me.sortIndex=me.expirationTime,e(g,me);else break;me=n(_)}}function Ce(ee){if(Y=!1,Ae(ee),!L)if(n(g)!==null)L=!0,Fe||(Fe=!0,j());else{var me=n(_);me!==null&&Pe(Ce,me.startTime-ee)}}var Fe=!1,U=-1,D=5,M=-1;function V(){return Q?!0:!(r.unstable_now()-M<D)}function O(){if(Q=!1,Fe){var ee=r.unstable_now();M=ee;var me=!0;try{e:{L=!1,Y&&(Y=!1,Z(U),U=-1),z=!0;var ge=x;try{t:{for(Ae(ee),N=n(g);N!==null&&!(N.expirationTime>ee&&V());){var Oe=N.callback;if(typeof Oe=="function"){N.callback=null,x=N.priorityLevel;var C=Oe(N.expirationTime<=ee);if(ee=r.unstable_now(),typeof C=="function"){N.callback=C,Ae(ee),me=!0;break t}N===n(g)&&s(g),Ae(ee)}else s(g);N=n(g)}if(N!==null)me=!0;else{var oe=n(_);oe!==null&&Pe(Ce,oe.startTime-ee),me=!1}}break e}finally{N=null,x=ge,z=!1}me=void 0}}finally{me?j():Fe=!1}}}var j;if(typeof de=="function")j=function(){de(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Pt=k.port2;k.port1.onmessage=O,j=function(){Pt.postMessage(null)}}else j=function(){ie(O,0)};function Pe(ee,me){U=ie(function(){ee(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var me=3;break;default:me=x}var ge=x;x=me;try{return ee()}finally{x=ge}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=x;x=ee;try{return me()}finally{x=ge}},r.unstable_scheduleCallback=function(ee,me,ge){var Oe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Oe+ge:Oe):ge=Oe,ee){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ge+C,ee={id:T++,callback:me,priorityLevel:ee,startTime:ge,expirationTime:C,sortIndex:-1},ge>Oe?(ee.sortIndex=ge,e(_,ee),n(g)===null&&ee===n(_)&&(Y?(Z(U),U=-1):Y=!0,Pe(Ce,ge-Oe))):(ee.sortIndex=C,e(g,ee),L||z||(L=!0,Fe||(Fe=!0,j()))),ee},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ee){var me=x;return function(){var ge=x;x=me;try{return ee.apply(this,arguments)}finally{x=ge}}}}(fp)),fp}var Sv;function EA(){return Sv||(Sv=1,hp.exports=vA()),hp.exports}var dp={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function bA(){if(Cv)return Wn;Cv=1;var r=ig();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:g,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wn.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,T)},Wn.flushSync=function(g){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=T,s.d.f()}},Wn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Wn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,N=p(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:x,fetchPriority:z}):T==="script"&&s.d.X(g,{crossOrigin:N,integrity:x,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Wn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,N=p(T,_.crossOrigin);s.d.L(g,T,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wn.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Wn.requestFormReset=function(g){s.d.r(g)},Wn.unstable_batchedUpdates=function(g,_){return g(_)},Wn.useFormState=function(g,_,T){return f.H.useFormState(g,_,T)},Wn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var Rv;function TA(){if(Rv)return dp.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dp.exports=bA(),dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function AA(){if(Iv)return Kc;Iv=1;var r=EA(),e=ig(),n=TA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),t;if(m===l)return p(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var b=!1,w=h.child;w;){if(w===a){b=!0,a=h,l=m;break}if(w===l){b=!0,l=h,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,l=h;break}if(w===l){b=!0,l=m,a=h;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case Q:return"Profiler";case Y:return"StrictMode";case Ce:return"Suspense";case Fe:return"SuspenseList";case M:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case de:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return i=t.displayName||null,i!==null?i:Pt(t.type)||"Memo";case D:i=t._payload,t=t._init;try{return Pt(t(i))}catch{}}return null}var Pe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Oe=[],C=-1;function oe(t){return{current:t}}function fe(t){0>C||(t.current=Oe[C],Oe[C]=null,C--)}function he(t,i){C++,Oe[C]=t.current,t.current=i}var _e=oe(null),$e=oe(null),xe=oe(null),kt=oe(null);function ve(t,i){switch(he(xe,i),he($e,t),he(_e,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Yy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Yy(i),t=Qy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(_e),he(_e,t)}function Cn(){fe(_e),fe($e),fe(xe)}function xi(t){t.memoizedState!==null&&he(kt,t);var i=_e.current,a=Qy(i,t.type);i!==a&&(he($e,t),he(_e,a))}function br(t){$e.current===t&&(fe(_e),fe($e)),kt.current===t&&(fe(kt),Bc._currentValue=ge)}var Rs=Object.prototype.hasOwnProperty,Ni=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,Tr=r.unstable_shouldYield,Ar=r.unstable_requestPaint,hi=r.unstable_now,Vu=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Aa=r.unstable_UserBlockingPriority,Is=r.unstable_NormalPriority,Lu=r.unstable_LowPriority,wa=r.unstable_IdlePriority,Xr=r.log,Di=r.unstable_setDisableYieldValue,Vt=null,yt=null;function ii(t){if(typeof Xr=="function"&&Di(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Vt,t)}catch{}}var Ht=Math.clz32?Math.clz32:Wi,wr=Math.log,Wr=Math.LN2;function Wi(t){return t>>>=0,t===0?32:31-(wr(t)/Wr|0)|0}var xs=256,Sr=4194304;function Oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?h=Oi(l):(b&=w,b!==0?h=Oi(b):a||(a=w&~t,a!==0&&(h=Oi(a))))):(w=l&~m,w!==0?h=Oi(w):b!==0?h=Oi(b):a||(a=l&~t,a!==0&&(h=Oi(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Ns(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Po(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),t}function Vo(){var t=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),t}function Zi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function fi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ca(t,i,a,l,h,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,P=t.expirationTimes,K=t.hiddenUpdates;for(a=b&~a;0<a;){var re=31-Ht(a),le=1<<re;w[re]=0,P[re]=-1;var W=K[re];if(W!==null)for(K[re]=null,re=0;re<W.length;re++){var J=W[re];J!==null&&(J.lane&=-536870913)}a&=~le}l!==0&&Mi(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function Mi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ht(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ht(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jr(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function Cr(t,i){var a=me.p;try{return me.p=t,i()}finally{me.p=a}}var vt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+vt,Ft="__reactProps$"+vt,di="__reactContainer$"+vt,Uo="__reactEvents$"+vt,Uu="__reactListeners$"+vt,Ji="__reactHandles$"+vt,Rr="__reactResources$"+vt,er="__reactMarker$"+vt;function es(t){delete t[Yt],delete t[Ft],delete t[Uo],delete t[Uu],delete t[Ji]}function Pi(t){var i=t[Yt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Yt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Jy(t);t!==null;){if(a=t[Yt])return a;t=Jy(t)}return i}t=a,a=t.parentNode}return null}function tr(t){if(t=t[Yt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function nr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function $t(t){var i=t[Rr];return i||(i=t[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[er]=!0}var dn=new Set,sn={};function xt(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(sn[t]=i,t=0;t<i.length;t++)dn.add(i[t])}var Ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},pi={};function jo(t){return Rs.call(pi,t)?!0:Rs.call(ir,t)?!1:Ir.test(t)?pi[t]=!0:(ir[t]=!0,!1)}function rr(t,i,a){if(jo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function an(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var xr,Ia;function sr(t){if(xr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xr=i&&i[1]||"",Ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+Ia}var Ds=!1;function Os(t,i){if(!t||Ds)return"";Ds=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var W=J}Reflect.construct(t,[],le)}else{try{le.call()}catch(J){W=J}t.call(le.prototype)}}else{try{throw Error()}catch(J){W=J}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var P=b.split(`
`),K=w.split(`
`);for(h=l=0;l<P.length&&!P[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===P.length||h===K.length)for(l=P.length-1,h=K.length-1;1<=l&&0<=h&&P[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(P[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||P[l]!==K[h]){var re=`
`+P[l].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=l&&0<=h);break}}}finally{Ds=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sr(a):""}function xa(t){switch(t.tag){case 26:case 27:case 5:return sr(t.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return Os(t.type,!1);case 11:return Os(t.type.render,!1);case 1:return Os(t.type,!0);case 31:return sr("Activity");default:return""}}function Ms(t){try{var i="";do i+=xa(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Na(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bl(t){var i=Na(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ps(t){t._valueTracker||(t._valueTracker=bl(t))}function Da(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Na(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function In(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kn=/[\n"\\]/g;function St(t){return t.replace(kn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dt(t,i,a,l,h,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Rn(i)):t.value!==""+Rn(i)&&(t.value=""+Rn(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?ar(t,b,Rn(i)):a!=null?ar(t,b,Rn(a)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Rn(w):t.removeAttribute("name")}function Nr(t,i,a,l,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Rn(a):"",i=i!=null?""+Rn(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ar(t,i,a){i==="number"&&In(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function on(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function st(t,i,a){if(i!=null&&(i=""+Rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Rn(a):""}function or(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function lr(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(t,h,l)}else for(var m in i)i.hasOwnProperty(m)&&zo(t,m,i[m])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xn=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ur=null,ri=null;function Vs(t){var i=tr(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(s(90));Dt(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Da(l)}break e;case"textarea":st(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&on(t,!!a.multiple,i,!1)}}}var $n=!1;function Bo(t,i,a){if($n)return t(i,a);$n=!0;try{var l=t(i);return l}finally{if($n=!1,(ur!==null||ri!==null)&&(vf(),ur&&(i=ur,t=ri,ri=ur=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function ts(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(gi)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{pn=!1}var Vi=null,cr=null,_i=null;function Us(){if(_i)return _i;var t,i=cr,a=i.length,l,h="value"in Vi?Vi.value:Vi.textContent,m=h.length;for(t=0;t<a&&i[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===h[m-l];l++);return _i=h.slice(t,1<l?1-l:void 0)}function hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function qo(){return!1}function Qt(t){function i(a,l,h,m,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?si:qo,this.isPropagationStopped=qo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Qt(ht),Or=T({},ht,{view:0,detail:0}),Ho=Qt(Or),fr,is,Li,rs=T({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(fr=t.screenX-Li.screenX,is=t.screenY-Li.screenY):is=fr=0,Li=t),fr)},movementY:function(t){return"movementY"in t?t.movementY:is}}),gn=Qt(rs),Al=T({},rs,{dataTransfer:0}),wl=Qt(Al),ss=T({},Or,{relatedTarget:0}),js=Qt(ss),Ma=T({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Qt(Ma),Pa=T({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bs=Qt(Pa),ju=T({},ht,{data:0}),Fo=Qt(ju),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qs[t])?!!i[t]:!1}function Hs(){return Go}var ka=T({},Or,{key:function(t){if(t.key){var i=as[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fs=Qt(ka),Ko=T({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Qt(Ko),ji=T({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Sl=Qt(ji),Yo=T({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cl=Qt(Yo),Rl=T({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Qt(Rl),Ln=T({},ht,{newState:0,oldState:0}),Qo=Qt(Ln),Xo=[9,13,27,32],dr=gi&&"CompositionEvent"in window,c=null;gi&&"documentMode"in document&&(c=document.documentMode);var y=gi&&"TextEvent"in window&&!c,E=gi&&(!dr||c&&8<c&&11>=c),I=" ",$=!1;function te(t,i){switch(t){case"keyup":return Xo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var at=!1;function Xt(t,i){switch(t){case"compositionend":return ye(i);case"keypress":return i.which!==32?null:($=!0,I);case"textInput":return t=i.data,t===I&&$?null:t;default:return null}}function ot(t,i){if(at)return t==="compositionend"||!dr&&te(t,i)?(t=Us(),_i=cr=Vi=null,at=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ln[t.type]:i==="textarea"}function Zt(t,i,a,l){ur?ri?ri.push(l):ri=[l]:ur=l,i=Sf(i,"onChange"),0<i.length&&(a=new ns("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var un=null,zi=null;function La(t){Hy(t,0)}function Il(t){var i=nr(t);if(Da(i))return t}function Dh(t,i){if(t==="change")return i}var zu=!1;if(gi){var Ua;if(gi){var Bu="oninput"in document;if(!Bu){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Bu=typeof Oh.oninput=="function"}Ua=Bu}else Ua=!1;zu=Ua&&(!document.documentMode||9<document.documentMode)}function qu(){un&&(un.detachEvent("onpropertychange",Mh),zi=un=null)}function Mh(t){if(t.propertyName==="value"&&Il(zi)){var i=[];Zt(i,zi,t,Vn(t)),Bo(La,i)}}function Wd(t,i,a){t==="focusin"?(qu(),un=i,zi=a,un.attachEvent("onpropertychange",Mh)):t==="focusout"&&qu()}function Ph(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Il(zi)}function kh(t,i){if(t==="click")return Il(i)}function Vh(t,i){if(t==="input"||t==="change")return Il(i)}function xl(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gn=typeof Object.is=="function"?Object.is:xl;function $s(t,i){if(Gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Rs.call(i,h)||!Gn(t[h],i[h]))return!1}return!0}function ai(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,i){var a=ai(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ai(a)}}function Uh(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Uh(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=In(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=In(t.document)}return i}function Nl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Zd=gi&&"documentMode"in document&&11>=document.documentMode,ja=null,Fu=null,Wo=null,$u=!1;function jh(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$u||ja==null||ja!==In(l)||(l=ja,"selectionStart"in l&&Nl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&$s(Wo,l)||(Wo=l,l=Sf(Fu,"onSelect"),0<l.length&&(i=new ns("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ja)))}function os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Gs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Zo={},zh={};gi&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ks(t){if(Zo[t])return Zo[t];if(!Gs[t])return t;var i=Gs[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zh)return Zo[t]=i[a];return t}var ls=Ks("animationend"),mr=Ks("animationiteration"),Gu=Ks("animationstart"),Jd=Ks("transitionrun"),Bh=Ks("transitionstart"),qh=Ks("transitioncancel"),Ku=Ks("transitionend"),Yu=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Bi(t,i){Yu.set(t,i),xt(i,[t])}var Hh=new WeakMap;function oi(t,i){if(typeof t=="object"&&t!==null){var a=Hh.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ms(i)},Hh.set(t,i),i)}return{value:t,source:i,stack:Ms(i)}}var li=[],za=0,Xu=0;function Dl(){for(var t=za,i=Xu=za=0;i<t;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var h=li[i];li[i++]=null;var m=li[i];if(li[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&Zu(a,h,m)}}function Ol(t,i,a,l){li[za++]=t,li[za++]=i,li[za++]=a,li[za++]=l,Xu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wu(t,i,a,l){return Ol(t,i,a,l),Ml(t)}function Kn(t,i){return Ol(t,null,null,i),Ml(t)}function Zu(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Ht(a),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function Ml(t){if(50<Mc)throw Mc=0,Om=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={};function em(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,i,a,l){return new em(t,i,a,l)}function Ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,i){var a=t.alternate;return a===null?(a=ui(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fh(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pl(t,i,a,l,h,m){var b=0;if(l=t,typeof t=="function")Ju(t)&&(b=1);else if(typeof t=="string")b=iA(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case M:return t=ui(31,a,i,h),t.elementType=M,t.lanes=m,t;case L:return Pr(a.children,h,m,i);case Y:b=8,h|=24;break;case Q:return t=ui(12,a,i,h|2),t.elementType=Q,t.lanes=m,t;case Ce:return t=ui(13,a,i,h),t.elementType=Ce,t.lanes=m,t;case Fe:return t=ui(19,a,i,h),t.elementType=Fe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:case de:b=10;break e;case Z:b=9;break e;case Ae:b=11;break e;case U:b=14;break e;case D:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ui(b,a,i,h),i.elementType=t,i.type=l,i.lanes=m,i}function Pr(t,i,a,l){return t=ui(7,t,l,i),t.lanes=a,t}function qa(t,i,a){return t=ui(6,t,null,i),t.lanes=a,t}function ec(t,i,a){return i=ui(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ys=[],Qs=0,us=null,Ha=0,Yn=[],yi=0,Xs=null,kr=1,Un="";function Ws(t,i){Ys[Qs++]=Ha,Ys[Qs++]=us,us=t,Ha=i}function $h(t,i,a){Yn[yi++]=kr,Yn[yi++]=Un,Yn[yi++]=Xs,Xs=t;var l=kr;t=Un;var h=32-Ht(l)-1;l&=~(1<<h),a+=1;var m=32-Ht(i)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,kr=1<<32-Ht(i)+h|a<<h|l,Un=m+t}else kr=1<<m|a<<h|l,Un=t}function tc(t){t.return!==null&&(Ws(t,1),$h(t,1,0))}function nc(t){for(;t===us;)us=Ys[--Qs],Ys[Qs]=null,Ha=Ys[--Qs],Ys[Qs]=null;for(;t===Xs;)Xs=Yn[--yi],Yn[yi]=null,Un=Yn[--yi],Yn[yi]=null,kr=Yn[--yi],Yn[yi]=null}var cn=null,Ot=null,pt=!1,cs=null,pr=!1,hs=Error(s(519));function Vr(t){var i=Error(s(418,""));throw qi(oi(i,t)),hs}function ic(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Yt]=t,i[Ft]=l,a){case"dialog":rt("cancel",i),rt("close",i);break;case"iframe":case"object":case"embed":rt("load",i);break;case"video":case"audio":for(a=0;a<kc.length;a++)rt(kc[a],i);break;case"source":rt("error",i);break;case"img":case"image":case"link":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"input":rt("invalid",i),Nr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ps(i);break;case"select":rt("invalid",i);break;case"textarea":rt("invalid",i),or(i,l.value,l.defaultValue,l.children),Ps(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ky(i.textContent,a)?(l.popover!=null&&(rt("beforetoggle",i),rt("toggle",i)),l.onScroll!=null&&rt("scroll",i),l.onScrollEnd!=null&&rt("scrollend",i),l.onClick!=null&&(i.onclick=Cf),i=!0):i=!1,i||Vr(t)}function Gh(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:cn=cn.return}}function Jo(t){if(t!==cn)return!1;if(!pt)return Gh(t),pt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ym(t.type,t.memoizedProps)),a=!a),a&&Ot&&Vr(t),Gh(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ot=zr(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ro(t.type)?(t=Zm,Zm=null,Ot=t):Ot=i):Ot=cn?zr(t.stateNode.nextSibling):null;return!0}function el(){Ot=cn=null,pt=!1}function Fa(){var t=cs;return t!==null&&(wi===null?wi=t:wi.push.apply(wi,t),cs=null),t}function qi(t){cs===null?cs=[t]:cs.push(t)}var rc=oe(null),Zs=null,Lr=null;function fs(t,i,a){he(rc,i._currentValue),i._currentValue=a}function Ur(t){t._currentValue=rc.current,fe(rc)}function sc(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ac(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var P=0;P<i.length;P++)if(w.context===i[P]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),sc(m.return,a,t),l||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),sc(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function tl(t,i,a,l){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=h.type;Gn(h.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(h===kt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bc):t=[Bc])}h=h.return}t!==null&&ac(i,t,a,l),i.flags|=262144}function nl(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return oc(Zs,t)}function $a(t,i){return Zs===null&&Js(t),oc(t,i)}function oc(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lr===null){if(t===null)throw Error(s(308));Lr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Lr=Lr.next=i;return a}var ea=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Kh=r.unstable_scheduleCallback,lc=r.unstable_NormalPriority,Gt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function il(){return{controller:new ea,data:new Map,refCount:0}}function Ga(t){t.refCount--,t.refCount===0&&Kh(lc,function(){t.controller.abort()})}var ta=null,uc=0,vi=0,ci=null;function tm(t,i){if(ta===null){var a=ta=[];uc=0,vi=jm(),ci={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uc++,i.then(Yh,Yh),i}function Yh(){if(--uc===0&&ta!==null){ci!==null&&(ci.status="fulfilled");var t=ta;ta=null,vi=0,ci=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nm(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qh=ee.S;ee.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tm(t,i),Qh!==null&&Qh(t,i)};var na=oe(null);function cc(){var t=na.current;return t!==null?t:Mt.pooledCache}function kl(t,i){i===null?he(na,na.current):he(na,i.pool)}function Xh(){var t=cc();return t===null?null:{parent:Gt._currentValue,pool:t}}var Ka=Error(s(460)),rl=Error(s(474)),ia=Error(s(542)),hc={then:function(){}};function Wh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ds(){}function A(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ds,ds),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,R(t),t;default:if(typeof i.status=="string")i.then(ds,ds);else{if(t=Mt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,R(t),t}throw d=i,Ka}}var d=null;function v(){if(d===null)throw Error(s(459));var t=d;return d=null,t}function R(t){if(t===Ka||t===ia)throw Error(s(483))}var q=!1;function H(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ne(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function se(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pe(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ml(t),Zu(t,null,a),i}return Ol(t,l,i,a),Ml(t)}function Te(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function we(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ee=!1;function Ke(){if(Ee){var t=ci;if(t!==null)throw t}}function Me(t,i,a,l){Ee=!1;var h=t.updateQueue;q=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var P=w,K=P.next;P.next=null,b===null?m=K:b.next=K,b=P;var re=t.alternate;re!==null&&(re=re.updateQueue,w=re.lastBaseUpdate,w!==b&&(w===null?re.firstBaseUpdate=K:w.next=K,re.lastBaseUpdate=P))}if(m!==null){var le=h.baseState;b=0,re=K=P=null,w=m;do{var W=w.lane&-536870913,J=W!==w.lane;if(J?(dt&W)===W:(l&W)===W){W!==0&&W===vi&&(Ee=!0),re!==null&&(re=re.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ge=t,Le=w;W=i;var It=a;switch(Le.tag){case 1:if(Ge=Le.payload,typeof Ge=="function"){le=Ge.call(It,le,W);break e}le=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Le.payload,W=typeof Ge=="function"?Ge.call(It,le,W):Ge,W==null)break e;le=T({},le,W);break e;case 2:q=!0}}W=w.callback,W!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[W]:J.push(W))}else J={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},re===null?(K=re=J,P=le):re=re.next=J,b|=W;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;J=w,w=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);re===null&&(P=le),h.baseState=P,h.firstBaseUpdate=K,h.lastBaseUpdate=re,m===null&&(h.shared.lanes=0),eo|=b,t.lanes=b,t.memoizedState=le}}function Ye(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function je(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ye(a[t],i)}var Ve=oe(null),gt=oe(0);function bt(t,i){t=ca,he(gt,t),he(Ve,i),ca=t|i.baseLanes}function Ze(){he(gt,ca),he(Ve,Ve.current)}function ct(){ca=gt.current,fe(Ve),fe(gt)}var ze=0,be=null,Ne=null,Be=null,ft=!1,Ct=!1,Jt=!1,Qn=0,en=0,yn=null,Ei=0;function Xe(){throw Error(s(321))}function bi(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Gn(t[a],i[a]))return!1;return!0}function Ti(t,i,a,l,h,m){return ze=m,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?R_:I_,Jt=!1,m=a(l,h),Jt=!1,Ct&&(m=tn(i,a,l,h)),ra(t),m}function ra(t){ee.H=af;var i=Ne!==null&&Ne.next!==null;if(ze=0,Be=Ne=be=null,ft=!1,en=0,yn=null,i)throw Error(s(300));t===null||Nn||(t=t.dependencies,t!==null&&nl(t)&&(Nn=!0))}function tn(t,i,a,l){be=t;var h=0;do{if(Ct&&(yn=null),en=0,Ct=!1,25<=h)throw Error(s(301));if(h+=1,Be=Ne=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=m1,m=i(a,l)}while(Ct);return m}function Tt(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?ms(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(be.flags|=1024),i}function vn(){var t=Qn!==0;return Qn=0,t}function Xn(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function gr(t){if(ft){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ft=!1}ze=0,Be=Ne=be=null,Ct=!1,en=Qn=0,yn=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?be.memoizedState=Be=t:Be=Be.next=t,Be}function zt(){if(Ne===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=Be===null?be.memoizedState:Be.next;if(i!==null)Be=i,Ne=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Be===null?be.memoizedState=Be=t:Be=Be.next=t}return Be}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(t){var i=en;return en+=1,yn===null&&(yn=[]),t=A(yn,t,i),i=be,(Be===null?i.memoizedState:Be.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?R_:I_),t}function Ll(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ms(t);if(t.$$typeof===de)return _n(t)}throw Error(s(438,String(t)))}function fc(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vl(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Hi(t,i){return typeof i=="function"?i(t):i}function Ul(t){var i=zt();return jl(i,Ne,t)}function jl(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}i.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var w=b=null,P=null,K=i,re=!1;do{var le=K.lane&-536870913;if(le!==K.lane?(dt&le)===le:(ze&le)===le){var W=K.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),le===vi&&(re=!0);else if((ze&W)===W){K=K.next,W===vi&&(re=!0);continue}else le={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(w=P=le,b=m):P=P.next=le,be.lanes|=W,eo|=W;le=K.action,Jt&&a(m,le),m=K.hasEagerState?K.eagerState:a(m,le)}else W={lane:le,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(w=P=W,b=m):P=P.next=W,be.lanes|=le,eo|=le;K=K.next}while(K!==null&&K!==i);if(P===null?b=m:P.next=w,!Gn(m,t.memoizedState)&&(Nn=!0,re&&(a=ci,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=P,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dc(t){var i=zt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);Gn(m,i.memoizedState)||(Nn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function mc(t,i,a){var l=be,h=zt(),m=pt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!Gn((Ne||h).memoizedState,a);b&&(h.memoizedState=a,Nn=!0),h=h.queue;var w=Jh.bind(null,l,h,t);if(Tc(2048,8,w,[t]),h.getSnapshot!==i||b||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,Hl(9,nf(),Zh.bind(null,l,h,a,i),null),Mt===null)throw Error(s(349));m||(ze&124)!==0||pc(l,i,a)}return a}function pc(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=Vl(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zh(t,i,a,l){i.value=a,i.getSnapshot=l,ps(i)&&sl(t)}function Jh(t,i,a){return a(function(){ps(i)&&sl(t)})}function ps(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Gn(t,a)}catch{return!0}}function sl(t){var i=Kn(t,2);i!==null&&Yi(i,t,2)}function zl(t){var i=En();if(typeof t=="function"){var a=t;if(t=a(),Jt){ii(!0);try{a()}finally{ii(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function gc(t,i,a,l){return t.baseState=a,jl(t,Ne,typeof l=="function"?l:Hi)}function _c(t,i,a,l,h){if(sf(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};ee.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,yc(i,m)):(m.next=a.next,i.pending=a.next=m)}}function yc(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var m=ee.T,b={};ee.T=b;try{var w=a(h,l),P=ee.S;P!==null&&P(b,w),vc(t,i,w)}catch(K){Bl(t,i,K)}finally{ee.T=m}}else try{m=a(h,l),vc(t,i,m)}catch(K){Bl(t,i,K)}}function vc(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ec(t,i,l)},function(l){return Bl(t,i,l)}):Ec(t,i,a)}function Ec(t,i,a){i.status="fulfilled",i.value=a,ef(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yc(t,a)))}function Bl(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ef(i),i=i.next;while(i!==l)}t.action=null}function ef(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function tf(t,i){return i}function ql(t,i){if(pt){var a=Mt.formState;if(a!==null){e:{var l=be;if(pt){if(Ot){t:{for(var h=Ot,m=pr;h.nodeType!==8;){if(!m){h=null;break t}if(h=zr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ot=zr(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=En(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:i},a.queue=l,a=w_.bind(null,be,l),l.dispatch=a,l=zl(!1),m=om.bind(null,be,!1,l.queue),l=En(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=_c.bind(null,be,h,m,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function bc(t){var i=zt();return o_(i,Ne,t)}function o_(t,i,a){if(i=jl(t,i,tf)[0],t=Ul(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ms(i)}catch(b){throw b===Ka?ia:b}else l=i;i=zt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(be.flags|=2048,Hl(9,nf(),c1.bind(null,h,a),null)),[l,m,t]}function c1(t,i){t.action=i}function l_(t){var i=zt(),a=Ne;if(a!==null)return o_(i,a,t);zt(),i=i.memoizedState,a=zt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Hl(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=be.updateQueue,i===null&&(i=Vl(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function nf(){return{destroy:void 0,resource:void 0}}function u_(){return zt().memoizedState}function rf(t,i,a,l){var h=En();l=l===void 0?null:l,be.flags|=t,h.memoizedState=Hl(1|i,nf(),a,l)}function Tc(t,i,a,l){var h=zt();l=l===void 0?null:l;var m=h.memoizedState.inst;Ne!==null&&l!==null&&bi(l,Ne.memoizedState.deps)?h.memoizedState=Hl(i,m,a,l):(be.flags|=t,h.memoizedState=Hl(1|i,m,a,l))}function c_(t,i){rf(8390656,8,t,i)}function h_(t,i){Tc(2048,8,t,i)}function f_(t,i){return Tc(4,2,t,i)}function d_(t,i){return Tc(4,4,t,i)}function m_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function p_(t,i,a){a=a!=null?a.concat([t]):null,Tc(4,4,m_.bind(null,i,t),a)}function im(){}function g_(t,i){var a=zt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bi(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function __(t,i){var a=zt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bi(i,l[1]))return l[0];if(l=t(),Jt){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l}function rm(t,i,a){return a===void 0||(ze&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ey(),be.lanes|=t,eo|=t,a)}function y_(t,i,a,l){return Gn(a,i)?a:Ve.current!==null?(t=rm(t,a,l),Gn(t,i)||(Nn=!0),t):(ze&42)===0?(Nn=!0,t.memoizedState=a):(t=Ey(),be.lanes|=t,eo|=t,i)}function v_(t,i,a,l,h){var m=me.p;me.p=m!==0&&8>m?m:8;var b=ee.T,w={};ee.T=w,om(t,!1,i,a);try{var P=h(),K=ee.S;if(K!==null&&K(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=nm(P,l);Ac(t,i,re,Ki(t))}else Ac(t,i,l,Ki(t))}catch(le){Ac(t,i,{then:function(){},status:"rejected",reason:le},Ki())}finally{me.p=m,ee.T=b}}function h1(){}function sm(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=E_(t).queue;v_(t,h,i,ge,a===null?h1:function(){return b_(t),a(l)})}function E_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function b_(t){var i=E_(t).next.queue;Ac(t,i,{},Ki())}function am(){return _n(Bc)}function T_(){return zt().memoizedState}function A_(){return zt().memoizedState}function f1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ki();t=se(a);var l=pe(i,t,a);l!==null&&(Yi(l,i,a),Te(l,i,a)),i={cache:il()},t.payload=i;return}i=i.return}}function d1(t,i,a){var l=Ki();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sf(t)?S_(i,a):(a=Wu(t,i,a,l),a!==null&&(Yi(a,t,l),C_(a,i,l)))}function w_(t,i,a){var l=Ki();Ac(t,i,a,l)}function Ac(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sf(t))S_(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(h.hasEagerState=!0,h.eagerState=w,Gn(w,b))return Ol(t,i,h,0),Mt===null&&Dl(),!1}catch{}finally{}if(a=Wu(t,i,h,l),a!==null)return Yi(a,t,l),C_(a,i,l),!0}return!1}function om(t,i,a,l){if(l={lane:2,revertLane:jm(),action:l,hasEagerState:!1,eagerState:null,next:null},sf(t)){if(i)throw Error(s(479))}else i=Wu(t,a,l,2),i!==null&&Yi(i,t,2)}function sf(t){var i=t.alternate;return t===be||i!==null&&i===be}function S_(t,i){Ct=ft=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function C_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var af={readContext:_n,use:Ll,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},R_={readContext:_n,use:Ll,useCallback:function(t,i){return En().memoizedState=[t,i===void 0?null:i],t},useContext:_n,useEffect:c_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rf(4194308,4,m_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rf(4194308,4,t,i)},useInsertionEffect:function(t,i){rf(4,2,t,i)},useMemo:function(t,i){var a=En();i=i===void 0?null:i;var l=t();if(Jt){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=En();if(a!==void 0){var h=a(i);if(Jt){ii(!0);try{a(i)}finally{ii(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=d1.bind(null,be,t),[l.memoizedState,t]},useRef:function(t){var i=En();return t={current:t},i.memoizedState=t},useState:function(t){t=zl(t);var i=t.queue,a=w_.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:im,useDeferredValue:function(t,i){var a=En();return rm(a,t,i)},useTransition:function(){var t=zl(!1);return t=v_.bind(null,be,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=be,h=En();if(pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Mt===null)throw Error(s(349));(dt&124)!==0||pc(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,c_(Jh.bind(null,l,m,t),[t]),l.flags|=2048,Hl(9,nf(),Zh.bind(null,l,m,a,i),null),a},useId:function(){var t=En(),i=Mt.identifierPrefix;if(pt){var a=Un,l=kr;a=(l&~(1<<32-Ht(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Qn++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ei++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:am,useFormState:ql,useActionState:ql,useOptimistic:function(t){var i=En();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=om.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:fc,useCacheRefresh:function(){return En().memoizedState=f1.bind(null,be)}},I_={readContext:_n,use:Ll,useCallback:g_,useContext:_n,useEffect:h_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:__,useReducer:Ul,useRef:u_,useState:function(){return Ul(Hi)},useDebugValue:im,useDeferredValue:function(t,i){var a=zt();return y_(a,Ne.memoizedState,t,i)},useTransition:function(){var t=Ul(Hi)[0],i=zt().memoizedState;return[typeof t=="boolean"?t:ms(t),i]},useSyncExternalStore:mc,useId:T_,useHostTransitionStatus:am,useFormState:bc,useActionState:bc,useOptimistic:function(t,i){var a=zt();return gc(a,Ne,t,i)},useMemoCache:fc,useCacheRefresh:A_},m1={readContext:_n,use:Ll,useCallback:g_,useContext:_n,useEffect:h_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:__,useReducer:dc,useRef:u_,useState:function(){return dc(Hi)},useDebugValue:im,useDeferredValue:function(t,i){var a=zt();return Ne===null?rm(a,t,i):y_(a,Ne.memoizedState,t,i)},useTransition:function(){var t=dc(Hi)[0],i=zt().memoizedState;return[typeof t=="boolean"?t:ms(t),i]},useSyncExternalStore:mc,useId:T_,useHostTransitionStatus:am,useFormState:l_,useActionState:l_,useOptimistic:function(t,i){var a=zt();return Ne!==null?gc(a,Ne,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fc,useCacheRefresh:A_},Fl=null,wc=0;function of(t){var i=wc;return wc+=1,Fl===null&&(Fl=[]),A(Fl,t,i)}function Sc(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lf(t,i){throw i.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function x_(t){var i=t._init;return i(t._payload)}function N_(t){function i(F,B){if(t){var G=F.deletions;G===null?(F.deletions=[B],F.flags|=16):G.push(B)}}function a(F,B){if(!t)return null;for(;B!==null;)i(F,B),B=B.sibling;return null}function l(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function h(F,B){return F=Mr(F,B),F.index=0,F.sibling=null,F}function m(F,B,G){return F.index=G,t?(G=F.alternate,G!==null?(G=G.index,G<B?(F.flags|=67108866,B):G):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function w(F,B,G,ae){return B===null||B.tag!==6?(B=qa(G,F.mode,ae),B.return=F,B):(B=h(B,G),B.return=F,B)}function P(F,B,G,ae){var Re=G.type;return Re===L?re(F,B,G.props.children,ae,G.key):B!==null&&(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&x_(Re)===B.type)?(B=h(B,G.props),Sc(B,G),B.return=F,B):(B=Pl(G.type,G.key,G.props,null,F.mode,ae),Sc(B,G),B.return=F,B)}function K(F,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=ec(G,F.mode,ae),B.return=F,B):(B=h(B,G.children||[]),B.return=F,B)}function re(F,B,G,ae,Re){return B===null||B.tag!==7?(B=Pr(G,F.mode,ae,Re),B.return=F,B):(B=h(B,G),B.return=F,B)}function le(F,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=qa(""+B,F.mode,G),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return G=Pl(B.type,B.key,B.props,null,F.mode,G),Sc(G,B),G.return=F,G;case z:return B=ec(B,F.mode,G),B.return=F,B;case D:var ae=B._init;return B=ae(B._payload),le(F,B,G)}if(Pe(B)||j(B))return B=Pr(B,F.mode,G,null),B.return=F,B;if(typeof B.then=="function")return le(F,of(B),G);if(B.$$typeof===de)return le(F,$a(F,B),G);lf(F,B)}return null}function W(F,B,G,ae){var Re=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Re!==null?null:w(F,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===Re?P(F,B,G,ae):null;case z:return G.key===Re?K(F,B,G,ae):null;case D:return Re=G._init,G=Re(G._payload),W(F,B,G,ae)}if(Pe(G)||j(G))return Re!==null?null:re(F,B,G,ae,null);if(typeof G.then=="function")return W(F,B,of(G),ae);if(G.$$typeof===de)return W(F,B,$a(F,G),ae);lf(F,G)}return null}function J(F,B,G,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return F=F.get(G)||null,w(B,F,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return F=F.get(ae.key===null?G:ae.key)||null,P(B,F,ae,Re);case z:return F=F.get(ae.key===null?G:ae.key)||null,K(B,F,ae,Re);case D:var tt=ae._init;return ae=tt(ae._payload),J(F,B,G,ae,Re)}if(Pe(ae)||j(ae))return F=F.get(G)||null,re(B,F,ae,Re,null);if(typeof ae.then=="function")return J(F,B,G,of(ae),Re);if(ae.$$typeof===de)return J(F,B,G,$a(B,ae),Re);lf(B,ae)}return null}function Ge(F,B,G,ae){for(var Re=null,tt=null,De=B,Ue=B=0,On=null;De!==null&&Ue<G.length;Ue++){De.index>Ue?(On=De,De=null):On=De.sibling;var _t=W(F,De,G[Ue],ae);if(_t===null){De===null&&(De=On);break}t&&De&&_t.alternate===null&&i(F,De),B=m(_t,B,Ue),tt===null?Re=_t:tt.sibling=_t,tt=_t,De=On}if(Ue===G.length)return a(F,De),pt&&Ws(F,Ue),Re;if(De===null){for(;Ue<G.length;Ue++)De=le(F,G[Ue],ae),De!==null&&(B=m(De,B,Ue),tt===null?Re=De:tt.sibling=De,tt=De);return pt&&Ws(F,Ue),Re}for(De=l(De);Ue<G.length;Ue++)On=J(De,F,Ue,G[Ue],ae),On!==null&&(t&&On.alternate!==null&&De.delete(On.key===null?Ue:On.key),B=m(On,B,Ue),tt===null?Re=On:tt.sibling=On,tt=On);return t&&De.forEach(function(uo){return i(F,uo)}),pt&&Ws(F,Ue),Re}function Le(F,B,G,ae){if(G==null)throw Error(s(151));for(var Re=null,tt=null,De=B,Ue=B=0,On=null,_t=G.next();De!==null&&!_t.done;Ue++,_t=G.next()){De.index>Ue?(On=De,De=null):On=De.sibling;var uo=W(F,De,_t.value,ae);if(uo===null){De===null&&(De=On);break}t&&De&&uo.alternate===null&&i(F,De),B=m(uo,B,Ue),tt===null?Re=uo:tt.sibling=uo,tt=uo,De=On}if(_t.done)return a(F,De),pt&&Ws(F,Ue),Re;if(De===null){for(;!_t.done;Ue++,_t=G.next())_t=le(F,_t.value,ae),_t!==null&&(B=m(_t,B,Ue),tt===null?Re=_t:tt.sibling=_t,tt=_t);return pt&&Ws(F,Ue),Re}for(De=l(De);!_t.done;Ue++,_t=G.next())_t=J(De,F,Ue,_t.value,ae),_t!==null&&(t&&_t.alternate!==null&&De.delete(_t.key===null?Ue:_t.key),B=m(_t,B,Ue),tt===null?Re=_t:tt.sibling=_t,tt=_t);return t&&De.forEach(function(pA){return i(F,pA)}),pt&&Ws(F,Ue),Re}function It(F,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var Re=G.key;B!==null;){if(B.key===Re){if(Re=G.type,Re===L){if(B.tag===7){a(F,B.sibling),ae=h(B,G.props.children),ae.return=F,F=ae;break e}}else if(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&x_(Re)===B.type){a(F,B.sibling),ae=h(B,G.props),Sc(ae,G),ae.return=F,F=ae;break e}a(F,B);break}else i(F,B);B=B.sibling}G.type===L?(ae=Pr(G.props.children,F.mode,ae,G.key),ae.return=F,F=ae):(ae=Pl(G.type,G.key,G.props,null,F.mode,ae),Sc(ae,G),ae.return=F,F=ae)}return b(F);case z:e:{for(Re=G.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(F,B.sibling),ae=h(B,G.children||[]),ae.return=F,F=ae;break e}else{a(F,B);break}else i(F,B);B=B.sibling}ae=ec(G,F.mode,ae),ae.return=F,F=ae}return b(F);case D:return Re=G._init,G=Re(G._payload),It(F,B,G,ae)}if(Pe(G))return Ge(F,B,G,ae);if(j(G)){if(Re=j(G),typeof Re!="function")throw Error(s(150));return G=Re.call(G),Le(F,B,G,ae)}if(typeof G.then=="function")return It(F,B,of(G),ae);if(G.$$typeof===de)return It(F,B,$a(F,G),ae);lf(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(F,B.sibling),ae=h(B,G),ae.return=F,F=ae):(a(F,B),ae=qa(G,F.mode,ae),ae.return=F,F=ae),b(F)):a(F,B)}return function(F,B,G,ae){try{wc=0;var Re=It(F,B,G,ae);return Fl=null,Re}catch(De){if(De===Ka||De===ia)throw De;var tt=ui(29,De,null,F.mode);return tt.lanes=ae,tt.return=F,tt}finally{}}}var $l=N_(!0),D_=N_(!1),_r=oe(null),gs=null;function Ya(t){var i=t.alternate;he(bn,bn.current&1),he(_r,t),gs===null&&(i===null||Ve.current!==null||i.memoizedState!==null)&&(gs=t)}function O_(t){if(t.tag===22){if(he(bn,bn.current),he(_r,t),gs===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(gs=t)}}else Qa()}function Qa(){he(bn,bn.current),he(_r,_r.current)}function sa(t){fe(_r),gs===t&&(gs=null),fe(bn)}var bn=oe(0);function uf(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lm(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var um={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ki(),h=se(l);h.payload=i,a!=null&&(h.callback=a),i=pe(t,h,l),i!==null&&(Yi(i,t,l),Te(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ki(),h=se(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pe(t,h,l),i!==null&&(Yi(i,t,l),Te(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ki(),l=se(a);l.tag=2,i!=null&&(l.callback=i),i=pe(t,l,a),i!==null&&(Yi(i,t,a),Te(i,t,a))}};function M_(t,i,a,l,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!$s(a,l)||!$s(h,m):!0}function P_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&um.enqueueReplaceState(i,i.state,null)}function al(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function k_(t){cf(t)}function V_(t){console.error(t)}function L_(t){cf(t)}function hf(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function U_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cm(t,i,a){return a=se(a),a.tag=3,a.payload={element:null},a.callback=function(){hf(t,i)},a}function j_(t){return t=se(t),t.tag=3,t}function z_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){U_(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){U_(i,a,l),typeof h!="function"&&(to===null?to=new Set([this]):to.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function p1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&tl(i,a,h,!0),a=_r.current,a!==null){switch(a.tag){case 13:return gs===null?Pm():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vm(t,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vm(t,l,h)),!1}throw Error(s(435,a.tag))}return Vm(t,l,h),Pm(),!1}if(pt)return i=_r.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==hs&&(t=Error(s(422),{cause:l}),qi(oi(t,a)))):(l!==hs&&(i=Error(s(423),{cause:l}),qi(oi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=oi(l,a),h=cm(t.stateNode,l,h),we(t,h),Kt!==4&&(Kt=2)),!1;var m=Error(s(520),{cause:l});if(m=oi(m,a),Oc===null?Oc=[m]:Oc.push(m),Kt!==4&&(Kt=2),i===null)return!0;l=oi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cm(a.stateNode,l,t),we(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(to===null||!to.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=j_(h),z_(h,t,a,l),we(a,h),!1}a=a.return}while(a!==null);return!1}var B_=Error(s(461)),Nn=!1;function jn(t,i,a,l){i.child=t===null?D_(i,null,a,l):$l(i,t.child,a,l)}function q_(t,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Js(i),l=Ti(t,i,a,b,m,h),w=vn(),t!==null&&!Nn?(Xn(t,i,h),aa(t,i,h)):(pt&&w&&tc(i),i.flags|=1,jn(t,i,l,h),i.child)}function H_(t,i,a,l,h){if(t===null){var m=a.type;return typeof m=="function"&&!Ju(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,F_(t,i,m,l,h)):(t=Pl(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!ym(t,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(b,l)&&t.ref===i.ref)return aa(t,i,h)}return i.flags|=1,t=Mr(m,l),t.ref=i.ref,t.return=i,i.child=t}function F_(t,i,a,l,h){if(t!==null){var m=t.memoizedProps;if($s(m,l)&&t.ref===i.ref)if(Nn=!1,i.pendingProps=l=m,ym(t,h))(t.flags&131072)!==0&&(Nn=!0);else return i.lanes=t.lanes,aa(t,i,h)}return hm(t,i,a,l,h)}function $_(t,i,a){var l=i.pendingProps,h=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(h=i.child=t.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return G_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(i,m!==null?m.cachePool:null),m!==null?bt(i,m):Ze(),O_(i);else return i.lanes=i.childLanes=536870912,G_(t,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(kl(i,m.cachePool),bt(i,m),Qa(),i.memoizedState=null):(t!==null&&kl(i,null),Ze(),Qa());return jn(t,i,h,a),i.child}function G_(t,i,a,l){var h=cc();return h=h===null?null:{parent:Gt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&kl(i,null),Ze(),O_(i),t!==null&&tl(t,i,l,!0),null}function ff(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hm(t,i,a,l,h){return Js(i),a=Ti(t,i,a,l,void 0,h),l=vn(),t!==null&&!Nn?(Xn(t,i,h),aa(t,i,h)):(pt&&l&&tc(i),i.flags|=1,jn(t,i,a,h),i.child)}function K_(t,i,a,l,h,m){return Js(i),i.updateQueue=null,a=tn(i,l,a,h),ra(t),l=vn(),t!==null&&!Nn?(Xn(t,i,m),aa(t,i,m)):(pt&&l&&tc(i),i.flags|=1,jn(t,i,a,m),i.child)}function Y_(t,i,a,l,h){if(Js(i),i.stateNode===null){var m=Ba,b=a.contextType;typeof b=="object"&&b!==null&&(m=_n(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=um,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},H(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?_n(b):Ba,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(lm(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&um.enqueueReplaceState(m,m.state,null),Me(i,l,m,h),Ke(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var w=i.memoizedProps,P=al(a,w);m.props=P;var K=m.context,re=a.contextType;b=Ba,typeof re=="object"&&re!==null&&(b=_n(re));var le=a.getDerivedStateFromProps;re=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||K!==b)&&P_(i,m,l,b),q=!1;var W=i.memoizedState;m.state=W,Me(i,l,m,h),Ke(),K=i.memoizedState,w||W!==K||q?(typeof le=="function"&&(lm(i,a,le,l),K=i.memoizedState),(P=q||M_(i,a,P,l,W,K,b))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),m.props=l,m.state=K,m.context=b,l=P):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,ne(t,i),b=i.memoizedProps,re=al(a,b),m.props=re,le=i.pendingProps,W=m.context,K=a.contextType,P=Ba,typeof K=="object"&&K!==null&&(P=_n(K)),w=a.getDerivedStateFromProps,(K=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==le||W!==P)&&P_(i,m,l,P),q=!1,W=i.memoizedState,m.state=W,Me(i,l,m,h),Ke();var J=i.memoizedState;b!==le||W!==J||q||t!==null&&t.dependencies!==null&&nl(t.dependencies)?(typeof w=="function"&&(lm(i,a,w,l),J=i.memoizedState),(re=q||M_(i,a,re,l,W,J,P)||t!==null&&t.dependencies!==null&&nl(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,J,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,J,P)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),m.props=l,m.state=J,m.context=P,l=re):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&W===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,ff(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=$l(i,t.child,null,h),i.child=$l(i,null,a,h)):jn(t,i,a,h),i.memoizedState=m.state,t=i.child):t=aa(t,i,h),t}function Q_(t,i,a,l){return el(),i.flags|=256,jn(t,i,a,l),i.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(t){return{baseLanes:t,cachePool:Xh()}}function mm(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=yr),t}function X_(t,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(bn.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(pt){if(h?Ya(i):Qa(),pt){var w=Ot,P;if(P=w){e:{for(P=w,w=pr;P.nodeType!==8;){if(!w){w=null;break e}if(P=zr(P.nextSibling),P===null){w=null;break e}}w=P}w!==null?(i.memoizedState={dehydrated:w,treeContext:Xs!==null?{id:kr,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},P=ui(18,null,null,0),P.stateNode=w,P.return=i,i.child=P,cn=i,Ot=null,P=!0):P=!1}P||Vr(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Wm(w)?i.lanes=32:i.lanes=536870912,null;sa(i)}return w=l.children,l=l.fallback,h?(Qa(),h=i.mode,w=df({mode:"hidden",children:w},h),l=Pr(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=dm(a),h.childLanes=mm(t,b,a),i.memoizedState=fm,l):(Ya(i),pm(i,w))}if(P=t.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(m)i.flags&256?(Ya(i),i.flags&=-257,i=gm(t,i,a)):i.memoizedState!==null?(Qa(),i.child=t.child,i.flags|=128,i=null):(Qa(),h=l.fallback,w=i.mode,l=df({mode:"visible",children:l.children},w),h=Pr(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,$l(i,t.child,null,a),l=i.child,l.memoizedState=dm(a),l.childLanes=mm(t,b,a),i.memoizedState=fm,i=h);else if(Ya(i),Wm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var K=b.dgst;b=K,l=Error(s(419)),l.stack="",l.digest=b,qi({value:l,source:null,stack:null}),i=gm(t,i,a)}else if(Nn||tl(t,i,a,!1),b=(a&t.childLanes)!==0,Nn||b){if(b=Mt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Zr(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==P.retryLane))throw P.retryLane=l,Kn(t,l),Yi(b,t,l),B_;w.data==="$?"||Pm(),i=gm(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=P.treeContext,Ot=zr(w.nextSibling),cn=i,pt=!0,cs=null,pr=!1,t!==null&&(Yn[yi++]=kr,Yn[yi++]=Un,Yn[yi++]=Xs,kr=t.id,Un=t.overflow,Xs=i),i=pm(i,l.children),i.flags|=4096);return i}return h?(Qa(),h=l.fallback,w=i.mode,P=t.child,K=P.sibling,l=Mr(P,{mode:"hidden",children:l.children}),l.subtreeFlags=P.subtreeFlags&65011712,K!==null?h=Mr(K,h):(h=Pr(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=dm(a):(P=w.cachePool,P!==null?(K=Gt._currentValue,P=P.parent!==K?{parent:K,pool:K}:P):P=Xh(),w={baseLanes:w.baseLanes|a,cachePool:P}),h.memoizedState=w,h.childLanes=mm(t,b,a),i.memoizedState=fm,l):(Ya(i),a=t.child,t=a.sibling,a=Mr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function pm(t,i){return i=df({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function df(t,i){return t=ui(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gm(t,i,a){return $l(i,t.child,null,a),t=pm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function W_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),sc(t.return,i,a)}function _m(t,i,a,l,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Z_(t,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(jn(t,i,l.children,a),l=bn.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W_(t,a,i);else if(t.tag===19)W_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(he(bn,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&uf(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),_m(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&uf(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_m(i,!0,a,null,m);break;case"together":_m(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function aa(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),eo|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(tl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ym(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nl(t)))}function g1(t,i,a){switch(i.tag){case 3:ve(i,i.stateNode.containerInfo),fs(i,Gt,t.memoizedState.cache),el();break;case 27:case 5:xi(i);break;case 4:ve(i,i.stateNode.containerInfo);break;case 10:fs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ya(i),i.flags|=128,null):(a&i.child.childLanes)!==0?X_(t,i,a):(Ya(i),t=aa(t,i,a),t!==null?t.sibling:null);Ya(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(tl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Z_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(bn,bn.current),l)break;return null;case 22:case 23:return i.lanes=0,$_(t,i,a);case 24:fs(i,Gt,t.memoizedState.cache)}return aa(t,i,a)}function J_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nn=!0;else{if(!ym(t,a)&&(i.flags&128)===0)return Nn=!1,g1(t,i,a);Nn=(t.flags&131072)!==0}else Nn=!1,pt&&(i.flags&1048576)!==0&&$h(i,Ha,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ju(l)?(t=al(l,t),i.tag=1,i=Y_(null,i,l,t,a)):(i.tag=0,i=hm(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ae){i.tag=11,i=q_(null,i,l,t,a);break e}else if(h===U){i.tag=14,i=H_(null,i,l,t,a);break e}}throw i=Pt(l)||l,Error(s(306,i,""))}}return i;case 0:return hm(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=al(l,i.pendingProps),Y_(t,i,l,h,a);case 3:e:{if(ve(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,ne(t,i),Me(i,l,null,a);var b=i.memoizedState;if(l=b.cache,fs(i,Gt,l),l!==m.cache&&ac(i,[Gt],a,!0),Ke(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Q_(t,i,l,a);break e}else if(l!==h){h=oi(Error(s(424)),i),qi(h),i=Q_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=zr(t.firstChild),cn=i,pt=!0,cs=null,pr=!0,a=D_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===h){i=aa(t,i,a);break e}jn(t,i,l,a)}i=i.child}return i;case 26:return ff(t,i),t===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:pt||(a=i.type,t=i.pendingProps,l=Rf(xe.current).createElement(a),l[Yt]=i,l[Ft]=t,Bn(l,a,t),nt(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xi(i),t===null&&pt&&(l=i.stateNode=ev(i.type,i.pendingProps,xe.current),cn=i,pr=!0,h=Ot,ro(i.type)?(Zm=h,Ot=zr(l.firstChild)):Ot=h),jn(t,i,i.pendingProps.children,a),ff(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&pt&&((h=l=Ot)&&(l=F1(l,i.type,i.pendingProps,pr),l!==null?(i.stateNode=l,cn=i,Ot=zr(l.firstChild),pr=!1,h=!0):h=!1),h||Vr(i)),xi(i),h=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Ym(h,m)?l=null:b!==null&&Ym(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=Ti(t,i,Tt,null,null,a),Bc._currentValue=h),ff(t,i),jn(t,i,l,a),i.child;case 6:return t===null&&pt&&((t=a=Ot)&&(a=$1(a,i.pendingProps,pr),a!==null?(i.stateNode=a,cn=i,Ot=null,t=!0):t=!1),t||Vr(i)),null;case 13:return X_(t,i,a);case 4:return ve(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$l(i,null,l,a):jn(t,i,l,a),i.child;case 11:return q_(t,i,i.type,i.pendingProps,a);case 7:return jn(t,i,i.pendingProps,a),i.child;case 8:return jn(t,i,i.pendingProps.children,a),i.child;case 12:return jn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fs(i,i.type,l.value),jn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Js(i),h=_n(h),l=l(h),i.flags|=1,jn(t,i,l,a),i.child;case 14:return H_(t,i,i.type,i.pendingProps,a);case 15:return F_(t,i,i.type,i.pendingProps,a);case 19:return Z_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=df(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return $_(t,i,a);case 24:return Js(i),l=_n(Gt),t===null?(h=cc(),h===null&&(h=Mt,m=il(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},H(i),fs(i,Gt,h)):((t.lanes&a)!==0&&(ne(t,i),Me(i,null,null,a),Ke()),h=t.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fs(i,Gt,l)):(l=m.cache,fs(i,Gt,l),l!==h.cache&&ac(i,[Gt],a,!0))),jn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oa(t){t.flags|=4}function ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i)){if(i=_r.current,i!==null&&((dt&4194048)===dt?gs!==null:(dt&62914560)!==dt&&(dt&536870912)===0||i!==gs))throw d=hc,rl;t.flags|=8192}}function mf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vo():536870912,t.lanes|=i,Ql|=i)}function Cc(t,i){if(!pt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Bt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function _1(t,i,a){var l=i.pendingProps;switch(nc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return Bt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ur(Gt),Cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jo(i)?oa(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fa())),Bt(i),null;case 26:return a=i.memoizedState,t===null?(oa(i),a!==null?(Bt(i),ey(i,a)):(Bt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(oa(i),Bt(i),ey(i,a)):(Bt(i),i.flags&=-16777217):(t.memoizedProps!==l&&oa(i),Bt(i),i.flags&=-16777217),null;case 27:br(i),a=xe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Bt(i),null}t=_e.current,Jo(i)?ic(i):(t=ev(h,l,a),i.stateNode=t,oa(i))}return Bt(i),null;case 5:if(br(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oa(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Bt(i),null}if(t=_e.current,Jo(i))ic(i);else{switch(h=Rf(xe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Yt]=i,t[Ft]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&oa(i)}}return Bt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&oa(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Jo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Yt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ky(t.nodeValue,a)),t||Vr(i)}else t=Rf(t).createTextNode(l),t[Yt]=i,i.stateNode=t}return Bt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Yt]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bt(i),h=!1}else h=Fa(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(sa(i),i):(sa(i),null)}if(sa(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),mf(i,i.updateQueue),Bt(i),null;case 4:return Cn(),t===null&&Hm(i.stateNode.containerInfo),Bt(i),null;case 10:return Ur(i.type),Bt(i),null;case 19:if(fe(bn),h=i.memoizedState,h===null)return Bt(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)Cc(h,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=uf(t),m!==null){for(i.flags|=128,Cc(h,!1),t=m.updateQueue,i.updateQueue=t,mf(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fh(a,t),a=a.sibling;return he(bn,bn.current&1|2),i.child}t=t.sibling}h.tail!==null&&hi()>_f&&(i.flags|=128,l=!0,Cc(h,!1),i.lanes=4194304)}else{if(!l)if(t=uf(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,mf(i,t),Cc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!pt)return Bt(i),null}else 2*hi()-h.renderingStartTime>_f&&a!==536870912&&(i.flags|=128,l=!0,Cc(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(t=h.last,t!==null?t.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hi(),i.sibling=null,t=bn.current,he(bn,l?t&1|2:t&1),i):(Bt(i),null);case 22:case 23:return sa(i),ct(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),a=i.updateQueue,a!==null&&mf(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&fe(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ur(Gt),Bt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function y1(t,i){switch(nc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ur(Gt),Cn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return br(i),null;case 13:if(sa(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));el()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return fe(bn),null;case 4:return Cn(),null;case 10:return Ur(i.type),null;case 22:case 23:return sa(i),ct(),t!==null&&fe(na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ur(Gt),null;case 25:return null;default:return null}}function ty(t,i){switch(nc(i),i.tag){case 3:Ur(Gt),Cn();break;case 26:case 27:case 5:br(i);break;case 4:Cn();break;case 13:sa(i);break;case 19:fe(bn);break;case 10:Ur(i.type);break;case 22:case 23:sa(i),ct(),t!==null&&fe(na);break;case 24:Ur(Gt)}}function Rc(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==h)}}catch(w){Nt(i,i.return,w)}}function Xa(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=i;var P=a,K=w;try{K()}catch(re){Nt(h,P,re)}}}l=l.next}while(l!==m)}}catch(re){Nt(i,i.return,re)}}function ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{je(i,a)}catch(l){Nt(t,t.return,l)}}}function iy(t,i,a){a.props=al(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Nt(t,i,l)}}function Ic(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Nt(t,i,h)}}function _s(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Nt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Nt(t,i,h)}else a.current=null}function ry(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Nt(t,t.return,h)}}function vm(t,i,a){try{var l=t.stateNode;j1(l,t.type,a,i),l[Ft]=i}catch(h){Nt(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ro(t.type)||t.tag===4}function Em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ro(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Cf));else if(l!==4&&(l===27&&ro(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(bm(t,i,a),t=t.sibling;t!==null;)bm(t,i,a),t=t.sibling}function pf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ro(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pf(t,i,a),t=t.sibling;t!==null;)pf(t,i,a),t=t.sibling}function ay(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bn(i,l,a),i[Yt]=t,i[Ft]=a}catch(m){Nt(t,t.return,m)}}var la=!1,nn=!1,Tm=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function v1(t,i){if(t=t.containerInfo,Gm=Mf,t=Hu(t),Nl(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,w=-1,P=-1,K=0,re=0,le=t,W=null;t:for(;;){for(var J;le!==a||h!==0&&le.nodeType!==3||(w=b+h),le!==m||l!==0&&le.nodeType!==3||(P=b+l),le.nodeType===3&&(b+=le.nodeValue.length),(J=le.firstChild)!==null;)W=le,le=J;for(;;){if(le===t)break t;if(W===a&&++K===h&&(w=b),W===m&&++re===l&&(P=b),(J=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=J}a=w===-1||P===-1?null:{start:w,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Km={focusedElem:t,selectionRange:a},Mf=!1,Dn=i;Dn!==null;)if(i=Dn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dn=t;else for(;Dn!==null;){switch(i=Dn,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ge=al(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ge,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Le){Nt(a,a.return,Le)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Xm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dn=t;break}Dn=i.return}}function ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(t,a),l&4&&Rc(5,a);break;case 1:if(Wa(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){Nt(a,a.return,b)}else{var h=al(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Nt(a,a.return,b)}}l&64&&ny(a),l&512&&Ic(a,a.return);break;case 3:if(Wa(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{je(t,i)}catch(b){Nt(a,a.return,b)}}break;case 27:i===null&&l&4&&ay(a);case 26:case 5:Wa(t,a),i===null&&l&4&&ry(a),l&512&&Ic(a,a.return);break;case 12:Wa(t,a);break;case 13:Wa(t,a),l&4&&hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=I1.bind(null,a),G1(t,a))));break;case 22:if(l=a.memoizedState!==null||la,!l){i=i!==null&&i.memoizedState!==null||nn,h=la;var m=nn;la=l,(nn=i)&&!m?Za(t,a,(a.subtreeFlags&8772)!==0):Wa(t,a),la=h,nn=m}break;case 30:break;default:Wa(t,a)}}function uy(t){var i=t.alternate;i!==null&&(t.alternate=null,uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&es(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,Ai=!1;function ua(t,i,a){for(a=a.child;a!==null;)cy(t,i,a),a=a.sibling}function cy(t,i,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Vt,a)}catch{}switch(a.tag){case 26:nn||_s(a,i),ua(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nn||_s(a,i);var l=Ut,h=Ai;ro(a.type)&&(Ut=a.stateNode,Ai=!1),ua(t,i,a),Lc(a.stateNode),Ut=l,Ai=h;break;case 5:nn||_s(a,i);case 6:if(l=Ut,h=Ai,Ut=null,ua(t,i,a),Ut=l,Ai=h,Ut!==null)if(Ai)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(a.stateNode)}catch(m){Nt(a,i,m)}else try{Ut.removeChild(a.stateNode)}catch(m){Nt(a,i,m)}break;case 18:Ut!==null&&(Ai?(t=Ut,Zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$c(t)):Zy(Ut,a.stateNode));break;case 4:l=Ut,h=Ai,Ut=a.stateNode.containerInfo,Ai=!0,ua(t,i,a),Ut=l,Ai=h;break;case 0:case 11:case 14:case 15:nn||Xa(2,a,i),nn||Xa(4,a,i),ua(t,i,a);break;case 1:nn||(_s(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&iy(a,i,l)),ua(t,i,a);break;case 21:ua(t,i,a);break;case 22:nn=(l=nn)||a.memoizedState!==null,ua(t,i,a),nn=l;break;default:ua(t,i,a)}}function hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$c(t)}catch(a){Nt(i,i.return,a)}}function E1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new oy),i;default:throw Error(s(435,t.tag))}}function Am(t,i){var a=E1(t);i.forEach(function(l){var h=x1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Fi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=t,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ro(w.type)){Ut=w.stateNode,Ai=!1;break e}break;case 5:Ut=w.stateNode,Ai=!1;break e;case 3:case 4:Ut=w.stateNode.containerInfo,Ai=!0;break e}w=w.return}if(Ut===null)throw Error(s(160));cy(m,b,h),Ut=null,Ai=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fy(i,t),i=i.sibling}var jr=null;function fy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fi(i,t),$i(t),l&4&&(Xa(3,t,t.return),Rc(3,t),Xa(5,t,t.return));break;case 1:Fi(i,t),$i(t),l&512&&(nn||a===null||_s(a,a.return)),l&64&&la&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jr;if(Fi(i,t),$i(t),l&512&&(nn||a===null||_s(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[er]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Bn(m,l,a),m[Yt]=t,nt(m),l=m;break e;case"link":var b=av("link","href",h).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(l),Bn(m,l,a),h.head.appendChild(m);break;case"meta":if(b=av("meta","content",h).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break t}}m=h.createElement(l),Bn(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Yt]=t,nt(m),l=m}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Fi(i,t),$i(t),l&512&&(nn||a===null||_s(a,a.return)),a!==null&&l&4&&vm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Fi(i,t),$i(t),l&512&&(nn||a===null||_s(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(J){Nt(t,t.return,J)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vm(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Tm=!0);break;case 6:if(Fi(i,t),$i(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(J){Nt(t,t.return,J)}}break;case 3:if(Nf=null,h=jr,jr=If(i.containerInfo),Fi(i,t),jr=h,$i(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$c(i.containerInfo)}catch(J){Nt(t,t.return,J)}Tm&&(Tm=!1,dy(t));break;case 4:l=jr,jr=If(t.stateNode.containerInfo),Fi(i,t),$i(t),jr=l;break;case 12:Fi(i,t),$i(t);break;case 13:Fi(i,t),$i(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xm=hi()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Am(t,l)));break;case 22:h=t.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,K=la,re=nn;if(la=K||h,nn=re||P,Fi(i,t),nn=re,la=K,$i(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||P||la||nn||ol(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){P=a=i;try{if(m=P.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=P.stateNode;var le=P.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){Nt(P,P.return,J)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(J){Nt(P,P.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Am(t,a))));break;case 19:Fi(i,t),$i(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Am(t,l)));break;case 30:break;case 21:break;default:Fi(i,t),$i(t)}}function $i(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(sy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Em(t);pf(t,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(mn(b,""),a.flags&=-33);var w=Em(t);pf(t,w,b);break;case 3:case 4:var P=a.stateNode.containerInfo,K=Em(t);bm(t,K,P);break;default:throw Error(s(161))}}catch(re){Nt(t,t.return,re)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wa(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(t,i.alternate,i),i=i.sibling}function ol(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xa(4,i,i.return),ol(i);break;case 1:_s(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&iy(i,i.return,a),ol(i);break;case 27:Lc(i.stateNode);case 26:case 5:_s(i,i.return),ol(i);break;case 22:i.memoizedState===null&&ol(i);break;case 30:ol(i);break;default:ol(i)}t=t.sibling}}function Za(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Za(h,m,a),Rc(4,m);break;case 1:if(Za(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){Nt(l,l.return,K)}if(l=m,h=l.updateQueue,h!==null){var w=l.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Ye(P[h],w)}catch(K){Nt(l,l.return,K)}}a&&b&64&&ny(m),Ic(m,m.return);break;case 27:ay(m);case 26:case 5:Za(h,m,a),a&&l===null&&b&4&&ry(m),Ic(m,m.return);break;case 12:Za(h,m,a);break;case 13:Za(h,m,a),a&&b&4&&hy(h,m);break;case 22:m.memoizedState===null&&Za(h,m,a),Ic(m,m.return);break;case 30:break;default:Za(h,m,a)}i=i.sibling}}function wm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ga(a))}function Sm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ga(t))}function ys(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(t,i,a,l),i=i.sibling}function my(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ys(t,i,a,l),h&2048&&Rc(9,i);break;case 1:ys(t,i,a,l);break;case 3:ys(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ga(t)));break;case 12:if(h&2048){ys(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){Nt(i,i.return,P)}}else ys(t,i,a,l);break;case 13:ys(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?ys(t,i,a,l):xc(t,i):m._visibility&2?ys(t,i,a,l):(m._visibility|=2,Gl(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&wm(b,i);break;case 24:ys(t,i,a,l),h&2048&&Sm(i.alternate,i);break;default:ys(t,i,a,l)}}function Gl(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,b=i,w=a,P=l,K=b.flags;switch(b.tag){case 0:case 11:case 15:Gl(m,b,w,P,h),Rc(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Gl(m,b,w,P,h):xc(m,b):(re._visibility|=2,Gl(m,b,w,P,h)),h&&K&2048&&wm(b.alternate,b);break;case 24:Gl(m,b,w,P,h),h&&K&2048&&Sm(b.alternate,b);break;default:Gl(m,b,w,P,h)}i=i.sibling}}function xc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:xc(a,l),h&2048&&wm(l.alternate,l);break;case 24:xc(a,l),h&2048&&Sm(l.alternate,l);break;default:xc(a,l)}i=i.sibling}}var Nc=8192;function Kl(t){if(t.subtreeFlags&Nc)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 26:Kl(t),t.flags&Nc&&t.memoizedState!==null&&sA(jr,t.memoizedState,t.memoizedProps);break;case 5:Kl(t);break;case 3:case 4:var i=jr;jr=If(t.stateNode.containerInfo),Kl(t),jr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Nc,Nc=16777216,Kl(t),Nc=i):Kl(t));break;default:Kl(t)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dn=l,yy(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:Dc(t),t.flags&2048&&Xa(9,t,t.return);break;case 3:Dc(t);break;case 12:Dc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gf(t)):Dc(t);break;default:Dc(t)}}function gf(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dn=l,yy(l,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xa(8,i,i.return),gf(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gf(i));break;default:gf(i)}t=t.sibling}}function yy(t,i){for(;Dn!==null;){var a=Dn;switch(a.tag){case 0:case 11:case 15:Xa(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ga(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dn=l;else e:for(a=t;Dn!==null;){l=Dn;var h=l.sibling,m=l.return;if(uy(l),l===a){Dn=null;break e}if(h!==null){h.return=m,Dn=h;break e}Dn=m}}}var b1={getCacheForType:function(t){var i=_n(Gt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},T1=typeof WeakMap=="function"?WeakMap:Map,At=0,Mt=null,it=null,dt=0,wt=0,Gi=null,Ja=!1,Yl=!1,Cm=!1,ca=0,Kt=0,eo=0,ll=0,Rm=0,yr=0,Ql=0,Oc=null,wi=null,Im=!1,xm=0,_f=1/0,yf=null,to=null,zn=0,no=null,Xl=null,Wl=0,Nm=0,Dm=null,vy=null,Mc=0,Om=null;function Ki(){if((At&2)!==0&&dt!==0)return dt&-dt;if(ee.T!==null){var t=vi;return t!==0?t:jm()}return Jr()}function Ey(){yr===0&&(yr=(dt&536870912)===0||pt?ko():536870912);var t=_r.current;return t!==null&&(t.flags|=32),yr}function Yi(t,i,a){(t===Mt&&(wt===2||wt===9)||t.cancelPendingCommit!==null)&&(Zl(t,0),io(t,dt,yr,!1)),fi(t,a),((At&2)===0||t!==Mt)&&(t===Mt&&((At&2)===0&&(ll|=a),Kt===4&&io(t,dt,yr,!1)),vs(t))}function by(t,i,a){if((At&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ns(t,i),h=l?S1(t,i):km(t,i,!0),m=l;do{if(h===0){Yl&&!l&&io(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!A1(a)){h=km(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=t;h=Oc;var P=w.current.memoizedState.isDehydrated;if(P&&(Zl(w,b).flags|=256),b=km(w,b,!1),b!==2){if(Cm&&!P){w.errorRecoveryDisabledLanes|=m,ll|=m,h=4;break e}m=wi,wi=h,m!==null&&(wi===null?wi=m:wi.push.apply(wi,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Zl(t,0),io(t,i,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:io(l,i,yr,!Ja);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xm+300-hi(),10<h)){if(io(l,i,yr,!Ja),Sa(l,0,!0)!==0)break e;l.timeoutHandle=Xy(Ty.bind(null,l,a,wi,yf,Im,i,yr,ll,Ql,Ja,m,2,-0,0),h);break e}Ty(l,a,wi,yf,Im,i,yr,ll,Ql,Ja,m,0,-0,0)}}break}while(!0);vs(t)}function Ty(t,i,a,l,h,m,b,w,P,K,re,le,W,J){if(t.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(zc={stylesheets:null,count:0,unsuspend:rA},py(i),le=aA(),le!==null)){t.cancelPendingCommit=le(xy.bind(null,t,i,m,a,l,h,b,w,P,re,1,W,J)),io(t,m,b,!K);return}xy(t,i,m,a,l,h,b,w,P)}function A1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Gn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function io(t,i,a,l){i&=~Rm,i&=~ll,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var m=31-Ht(h),b=1<<m;l[m]=-1,h&=~b}a!==0&&Mi(t,a,i)}function vf(){return(At&6)===0?(Pc(0),!1):!0}function Mm(){if(it!==null){if(wt===0)var t=it.return;else t=it,Lr=Zs=null,gr(t),Fl=null,wc=0,t=it;for(;t!==null;)ty(t.alternate,t),t=t.return;it=null}}function Zl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,B1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mm(),Mt=t,it=a=Mr(t.current,null),dt=i,wt=0,Gi=null,Ja=!1,Yl=Ns(t,i),Cm=!1,Ql=yr=Rm=ll=eo=Kt=0,wi=Oc=null,Im=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ht(l),m=1<<h;i|=t[h],l&=~m}return ca=i,Dl(),a}function Ay(t,i){be=null,ee.H=af,i===Ka||i===ia?(i=v(),wt=3):i===rl?(i=v(),wt=4):wt=i===B_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gi=i,it===null&&(Kt=1,hf(t,oi(i,t.current)))}function wy(){var t=ee.H;return ee.H=af,t===null?af:t}function Sy(){var t=ee.A;return ee.A=b1,t}function Pm(){Kt=4,Ja||(dt&4194048)!==dt&&_r.current!==null||(Yl=!0),(eo&134217727)===0&&(ll&134217727)===0||Mt===null||io(Mt,dt,yr,!1)}function km(t,i,a){var l=At;At|=2;var h=wy(),m=Sy();(Mt!==t||dt!==i)&&(yf=null,Zl(t,i)),i=!1;var b=Kt;e:do try{if(wt!==0&&it!==null){var w=it,P=Gi;switch(wt){case 8:Mm(),b=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(i=!0);var K=wt;if(wt=0,Gi=null,Jl(t,w,P,K),a&&Yl){b=0;break e}break;default:K=wt,wt=0,Gi=null,Jl(t,w,P,K)}}w1(),b=Kt;break}catch(re){Ay(t,re)}while(!0);return i&&t.shellSuspendCounter++,Lr=Zs=null,At=l,ee.H=h,ee.A=m,it===null&&(Mt=null,dt=0,Dl()),b}function w1(){for(;it!==null;)Cy(it)}function S1(t,i){var a=At;At|=2;var l=wy(),h=Sy();Mt!==t||dt!==i?(yf=null,_f=hi()+500,Zl(t,i)):Yl=Ns(t,i);e:do try{if(wt!==0&&it!==null){i=it;var m=Gi;t:switch(wt){case 1:wt=0,Gi=null,Jl(t,i,m,1);break;case 2:case 9:if(Wh(m)){wt=0,Gi=null,Ry(i);break}i=function(){wt!==2&&wt!==9||Mt!==t||(wt=7),vs(t)},m.then(i,i);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Wh(m)?(wt=0,Gi=null,Ry(i)):(wt=0,Gi=null,Jl(t,i,m,7));break;case 5:var b=null;switch(it.tag){case 26:b=it.memoizedState;case 5:case 27:var w=it;if(!b||lv(b)){wt=0,Gi=null;var P=w.sibling;if(P!==null)it=P;else{var K=w.return;K!==null?(it=K,Ef(K)):it=null}break t}}wt=0,Gi=null,Jl(t,i,m,5);break;case 6:wt=0,Gi=null,Jl(t,i,m,6);break;case 8:Mm(),Kt=6;break e;default:throw Error(s(462))}}C1();break}catch(re){Ay(t,re)}while(!0);return Lr=Zs=null,ee.H=l,ee.A=h,At=a,it!==null?0:(Mt=null,dt=0,Dl(),Kt)}function C1(){for(;it!==null&&!Tr();)Cy(it)}function Cy(t){var i=J_(t.alternate,t,ca);t.memoizedProps=t.pendingProps,i===null?Ef(t):it=i}function Ry(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=K_(a,i,i.pendingProps,i.type,void 0,dt);break;case 11:i=K_(a,i,i.pendingProps,i.type.render,i.ref,dt);break;case 5:gr(i);default:ty(a,i),i=it=Fh(i,ca),i=J_(a,i,ca)}t.memoizedProps=t.pendingProps,i===null?Ef(t):it=i}function Jl(t,i,a,l){Lr=Zs=null,gr(i),Fl=null,wc=0;var h=i.return;try{if(p1(t,h,i,a,dt)){Kt=1,hf(t,oi(a,t.current)),it=null;return}}catch(m){if(h!==null)throw it=h,m;Kt=1,hf(t,oi(a,t.current)),it=null;return}i.flags&32768?(pt||l===1?t=!0:Yl||(dt&536870912)!==0?t=!1:(Ja=t=!0,(l===2||l===9||l===3||l===6)&&(l=_r.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iy(i,t)):Ef(i)}function Ef(t){var i=t;do{if((i.flags&32768)!==0){Iy(i,Ja);return}t=i.return;var a=_1(i.alternate,i,ca);if(a!==null){it=a;return}if(i=i.sibling,i!==null){it=i;return}it=i=t}while(i!==null);Kt===0&&(Kt=5)}function Iy(t,i){do{var a=y1(t.alternate,t);if(a!==null){a.flags&=32767,it=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){it=t;return}it=t=a}while(t!==null);Kt=6,it=null}function xy(t,i,a,l,h,m,b,w,P){t.cancelPendingCommit=null;do bf();while(zn!==0);if((At&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Xu,Ca(t,a,m,b,w,P),t===Mt&&(it=Mt=null,dt=0),Xl=i,no=t,Wl=a,Nm=m,Dm=h,vy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,N1(Is,function(){return Py(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=me.p,me.p=2,b=At,At|=4;try{v1(t,i,a)}finally{At=b,me.p=h,ee.T=l}}zn=1,Ny(),Dy(),Oy()}}function Ny(){if(zn===1){zn=0;var t=no,i=Xl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=At;At|=4;try{fy(i,t);var m=Km,b=Hu(t.containerInfo),w=m.focusedElem,P=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Uh(w.ownerDocument.documentElement,w)){if(P!==null&&Nl(w)){var K=P.start,re=P.end;if(re===void 0&&(re=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(re,w.value.length);else{var le=w.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ge=w.textContent.length,Le=Math.min(P.start,Ge),It=P.end===void 0?Le:Math.min(P.end,Ge);!J.extend&&Le>It&&(b=It,It=Le,Le=b);var F=Lh(w,Le),B=Lh(w,It);if(F&&B&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var G=le.createRange();G.setStart(F.node,F.offset),J.removeAllRanges(),Le>It?(J.addRange(G),J.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),J.addRange(G))}}}}for(le=[],J=w;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<le.length;w++){var ae=le[w];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Mf=!!Gm,Km=Gm=null}finally{At=h,me.p=l,ee.T=a}}t.current=i,zn=2}}function Dy(){if(zn===2){zn=0;var t=no,i=Xl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=At;At|=4;try{ly(t,i.alternate,i)}finally{At=h,me.p=l,ee.T=a}}zn=3}}function Oy(){if(zn===4||zn===3){zn=0,Ar();var t=no,i=Xl,a=Wl,l=vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zn=5:(zn=0,Xl=no=null,My(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(to=null),Ra(a),i=i.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Vt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=me.p,me.p=2,ee.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{ee.T=i,me.p=h}}(Wl&3)!==0&&bf(),vs(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Om?Mc++:(Mc=0,Om=t):Mc=0,Pc(0)}}function My(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ga(i)))}function bf(t){return Ny(),Dy(),Oy(),Py()}function Py(){if(zn!==5)return!1;var t=no,i=Nm;Nm=0;var a=Ra(Wl),l=ee.T,h=me.p;try{me.p=32>a?32:a,ee.T=null,a=Dm,Dm=null;var m=no,b=Wl;if(zn=0,Xl=no=null,Wl=0,(At&6)!==0)throw Error(s(331));var w=At;if(At|=4,_y(m.current),my(m,m.current,b,a),At=w,Pc(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Vt,m)}catch{}return!0}finally{me.p=h,ee.T=l,My(t,i)}}function ky(t,i,a){i=oi(a,i),i=cm(t.stateNode,i,2),t=pe(t,i,2),t!==null&&(fi(t,2),vs(t))}function Nt(t,i,a){if(t.tag===3)ky(t,t,a);else for(;i!==null;){if(i.tag===3){ky(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(to===null||!to.has(l))){t=oi(a,t),a=j_(2),l=pe(i,a,2),l!==null&&(z_(a,l,i,t),fi(l,2),vs(l));break}}i=i.return}}function Vm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new T1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Cm=!0,h.add(a),t=R1.bind(null,t,i,a),i.then(t,t))}function R1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Mt===t&&(dt&a)===a&&(Kt===4||Kt===3&&(dt&62914560)===dt&&300>hi()-xm?(At&2)===0&&Zl(t,0):Rm|=a,Ql===dt&&(Ql=0)),vs(t)}function Vy(t,i){i===0&&(i=Vo()),t=Kn(t,i),t!==null&&(fi(t,i),vs(t))}function I1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(t,a)}function x1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Vy(t,a)}function N1(t,i){return Ni(t,i)}var Tf=null,eu=null,Lm=!1,Af=!1,Um=!1,ul=0;function vs(t){t!==eu&&t.next===null&&(eu===null?Tf=eu=t:eu=eu.next=t),Af=!0,Lm||(Lm=!0,O1())}function Pc(t,i){if(!Um&&Af){Um=!0;do for(var a=!1,l=Tf;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Ht(42|t)+1)-1,m&=h&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zy(l,m))}else m=dt,m=Sa(l,l===Mt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ns(l,m)||(a=!0,zy(l,m));l=l.next}while(a);Um=!1}}function D1(){Ly()}function Ly(){Af=Lm=!1;var t=0;ul!==0&&(z1()&&(t=ul),ul=0);for(var i=hi(),a=null,l=Tf;l!==null;){var h=l.next,m=Uy(l,i);m===0?(l.next=null,a===null?Tf=h:a.next=h,h===null&&(eu=a)):(a=l,(t!==0||(m&3)!==0)&&(Af=!0)),l=h}Pc(t)}function Uy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Ht(m),w=1<<b,P=h[b];P===-1?((w&a)===0||(w&l)!==0)&&(h[b]=Po(w,i)):P<=i&&(t.expiredLanes|=w),m&=~w}if(i=Mt,a=dt,a=Sa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(wt===2||wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ns(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Qr(l),Ra(a)){case 2:case 8:a=Aa;break;case 32:a=Is;break;case 268435456:a=wa;break;default:a=Is}return l=jy.bind(null,t),a=Ni(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Qr(l),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,i){if(zn!==0&&zn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bf()&&t.callbackNode!==a)return null;var l=dt;return l=Sa(t,t===Mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(by(t,l,i),Uy(t,hi()),t.callbackNode!=null&&t.callbackNode===a?jy.bind(null,t):null)}function zy(t,i){if(bf())return null;by(t,i,!0)}function O1(){q1(function(){(At&6)!==0?Ni(Mo,D1):Ly()})}function jm(){return ul===0&&(ul=ko()),ul}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function qy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function M1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=By((h[Ft]||null).action),b=l.submitter;b&&(i=(i=b[Ft]||null)?By(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new ns("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ul!==0){var P=b?qy(h,b):new FormData(h);sm(a,{pending:!0,data:P,method:h.method,action:m},null,P)}}else typeof m=="function"&&(w.preventDefault(),P=b?qy(h,b):new FormData(h),sm(a,{pending:!0,data:P,method:h.method,action:m},m,P))},currentTarget:h}]})}}for(var zm=0;zm<Qu.length;zm++){var Bm=Qu[zm],P1=Bm.toLowerCase(),k1=Bm[0].toUpperCase()+Bm.slice(1);Bi(P1,"on"+k1)}Bi(ls,"onAnimationEnd"),Bi(mr,"onAnimationIteration"),Bi(Gu,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Jd,"onTransitionRun"),Bi(Bh,"onTransitionStart"),Bi(qh,"onTransitionCancel"),Bi(Ku,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function Hy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var w=l[b],P=w.instance,K=w.currentTarget;if(w=w.listener,P!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=K;try{m(h)}catch(re){cf(re)}h.currentTarget=null,m=P}else for(b=0;b<l.length;b++){if(w=l[b],P=w.instance,K=w.currentTarget,w=w.listener,P!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=K;try{m(h)}catch(re){cf(re)}h.currentTarget=null,m=P}}}}function rt(t,i){var a=i[Uo];a===void 0&&(a=i[Uo]=new Set);var l=t+"__bubble";a.has(l)||(Fy(i,t,2,!1),a.add(l))}function qm(t,i,a){var l=0;i&&(l|=4),Fy(a,t,l,i)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[wf]){t[wf]=!0,dn.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||qm(a,!1,t),qm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wf]||(i[wf]=!0,qm("selectionchange",!1,i))}}function Fy(t,i,a,l){switch(mv(i)){case 2:var h=uA;break;case 8:h=cA;break;default:h=ip}a=h.bind(null,i,a,t),h=void 0,!pn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Fm(t,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=l.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Pi(w),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){l=m=b;continue e}w=w.parentNode}}l=l.return}Bo(function(){var K=m,re=Vn(a),le=[];e:{var W=Yu.get(t);if(W!==void 0){var J=ns,Ge=t;switch(t){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":J=Fs;break;case"focusin":Ge="focus",J=js;break;case"focusout":Ge="blur",J=js;break;case"beforeblur":case"afterblur":J=js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Sl;break;case ls:case mr:case Gu:J=zs;break;case Ku:J=Cl;break;case"scroll":case"scrollend":J=Ho;break;case"wheel":J=Va;break;case"copy":case"cut":case"paste":J=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ui;break;case"toggle":case"beforetoggle":J=Qo}var Le=(i&4)!==0,It=!Le&&(t==="scroll"||t==="scrollend"),F=Le?W!==null?W+"Capture":null:W;Le=[];for(var B=K,G;B!==null;){var ae=B;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||F===null||(ae=ts(B,F),ae!=null&&Le.push(Vc(B,ae,G))),It)break;B=B.return}0<Le.length&&(W=new J(W,Ge,null,a,re),le.push({event:W,listeners:Le}))}}if((i&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",W&&a!==xn&&(Ge=a.relatedTarget||a.fromElement)&&(Pi(Ge)||Ge[di]))break e;if((J||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ge=a.relatedTarget||a.toElement,J=K,Ge=Ge?Pi(Ge):null,Ge!==null&&(It=u(Ge),Le=Ge.tag,Ge!==It||Le!==5&&Le!==27&&Le!==6)&&(Ge=null)):(J=null,Ge=K),J!==Ge)){if(Le=gn,ae="onMouseLeave",F="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Le=Ui,ae="onPointerLeave",F="onPointerEnter",B="pointer"),It=J==null?W:nr(J),G=Ge==null?W:nr(Ge),W=new Le(ae,B+"leave",J,a,re),W.target=It,W.relatedTarget=G,ae=null,Pi(re)===K&&(Le=new Le(F,B+"enter",Ge,a,re),Le.target=G,Le.relatedTarget=It,ae=Le),It=ae,J&&Ge)t:{for(Le=J,F=Ge,B=0,G=Le;G;G=tu(G))B++;for(G=0,ae=F;ae;ae=tu(ae))G++;for(;0<B-G;)Le=tu(Le),B--;for(;0<G-B;)F=tu(F),G--;for(;B--;){if(Le===F||F!==null&&Le===F.alternate)break t;Le=tu(Le),F=tu(F)}Le=null}else Le=null;J!==null&&$y(le,W,J,Le,!1),Ge!==null&&It!==null&&$y(le,It,Ge,Le,!0)}}e:{if(W=K?nr(K):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Re=Dh;else if(Wt(W))if(zu)Re=Vh;else{Re=Ph;var tt=Wd}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&ks(K.elementType)&&(Re=Dh):Re=kh;if(Re&&(Re=Re(t,K))){Zt(le,Re,a,re);break e}tt&&tt(t,W,K),t==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&ar(W,"number",W.value)}switch(tt=K?nr(K):window,t){case"focusin":(Wt(tt)||tt.contentEditable==="true")&&(ja=tt,Fu=K,Wo=null);break;case"focusout":Wo=Fu=ja=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,jh(le,a,re);break;case"selectionchange":if(Zd)break;case"keydown":case"keyup":jh(le,a,re)}var De;if(dr)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else at?te(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(E&&a.locale!=="ko"&&(at||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&at&&(De=Us()):(Vi=re,cr="value"in Vi?Vi.value:Vi.textContent,at=!0)),tt=Sf(K,Ue),0<tt.length&&(Ue=new Fo(Ue,t,null,a,re),le.push({event:Ue,listeners:tt}),De?Ue.data=De:(De=ye(a),De!==null&&(Ue.data=De)))),(De=y?Xt(t,a):ot(t,a))&&(Ue=Sf(K,"onBeforeInput"),0<Ue.length&&(tt=new Fo("onBeforeInput","beforeinput",null,a,re),le.push({event:tt,listeners:Ue}),tt.data=De)),M1(le,t,K,a,re)}Hy(le,i)})}function Vc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sf(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ts(t,a),h!=null&&l.unshift(Vc(t,h,m)),h=ts(t,i),h!=null&&l.push(Vc(t,h,m))),t.tag===3)return l;t=t.return}return[]}function tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $y(t,i,a,l,h){for(var m=i._reactName,b=[];a!==null&&a!==l;){var w=a,P=w.alternate,K=w.stateNode;if(w=w.tag,P!==null&&P===l)break;w!==5&&w!==26&&w!==27||K===null||(P=K,h?(K=ts(a,m),K!=null&&b.unshift(Vc(a,K,P))):h||(K=ts(a,m),K!=null&&b.push(Vc(a,K,P)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var L1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Gy(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(U1,"")}function Ky(t,i){return i=Gy(i),Gy(t)===i}function Cf(){}function Rt(t,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":lr(t,l,m);break;case"data":if(i!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Rt(t,i,"name",h.name,h,null),Rt(t,i,"formEncType",h.formEncType,h,null),Rt(t,i,"formMethod",h.formMethod,h,null),Rt(t,i,"formTarget",h.formTarget,h,null)):(Rt(t,i,"encType",h.encType,h,null),Rt(t,i,"method",h.method,h,null),Rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Cf);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":rt("beforetoggle",t),rt("toggle",t),rr(t,"popover",l);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tl.get(a)||a,rr(t,a,l))}}function $m(t,i,a,l,h,m){switch(a){case"style":lr(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=t[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):rr(t,a,l)}}}function Bn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Rt(t,i,m,b,a,null)}}h&&Rt(t,i,"srcSet",a.srcSet,a,null),l&&Rt(t,i,"src",a.src,a,null);return;case"input":rt("invalid",t);var w=m=b=h=null,P=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var re=a[l];if(re!=null)switch(l){case"name":h=re;break;case"type":b=re;break;case"checked":P=re;break;case"defaultChecked":K=re;break;case"value":m=re;break;case"defaultValue":w=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:Rt(t,i,l,re,a,null)}}Nr(t,m,w,P,K,b,h,!1),Ps(t);return;case"select":rt("invalid",t),l=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Rt(t,i,h,w,a,null)}i=m,a=b,t.multiple=!!l,i!=null?on(t,!!l,i,!1):a!=null&&on(t,!!l,a,!0);return;case"textarea":rt("invalid",t),m=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Rt(t,i,b,w,a,null)}or(t,l,h,m),Ps(t);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Rt(t,i,P,l,a,null)}return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(l=0;l<kc.length;l++)rt(kc[l],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Rt(t,i,K,l,a,null)}return;default:if(ks(i)){for(re in a)a.hasOwnProperty(re)&&(l=a[re],l!==void 0&&$m(t,i,re,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Rt(t,i,w,l,a,null))}function j1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,P=null,K=null,re=null;for(J in a){var le=a[J];if(a.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=le;default:l.hasOwnProperty(J)||Rt(t,i,J,null,l,le)}}for(var W in l){var J=l[W];if(le=a[W],l.hasOwnProperty(W)&&(J!=null||le!=null))switch(W){case"type":m=J;break;case"name":h=J;break;case"checked":K=J;break;case"defaultChecked":re=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==le&&Rt(t,i,W,J,l,le)}}Dt(t,b,w,P,K,re,m,h);return;case"select":J=b=w=W=null;for(m in a)if(P=a[m],a.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":J=P;default:l.hasOwnProperty(m)||Rt(t,i,m,null,l,P)}for(h in l)if(m=l[h],P=a[h],l.hasOwnProperty(h)&&(m!=null||P!=null))switch(h){case"value":W=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==P&&Rt(t,i,h,m,l,P)}i=w,a=b,l=J,W!=null?on(t,!!a,W,!1):!!l!=!!a&&(i!=null?on(t,!!a,i,!0):on(t,!!a,a?[]:"",!1));return;case"textarea":J=W=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Rt(t,i,w,null,l,h)}for(b in l)if(h=l[b],m=a[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":W=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Rt(t,i,b,h,l,m)}st(t,W,J);return;case"option":for(var Ge in a)if(W=a[Ge],a.hasOwnProperty(Ge)&&W!=null&&!l.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:Rt(t,i,Ge,null,l,W)}for(P in l)if(W=l[P],J=a[P],l.hasOwnProperty(P)&&W!==J&&(W!=null||J!=null))switch(P){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Rt(t,i,P,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)W=a[Le],a.hasOwnProperty(Le)&&W!=null&&!l.hasOwnProperty(Le)&&Rt(t,i,Le,null,l,W);for(K in l)if(W=l[K],J=a[K],l.hasOwnProperty(K)&&W!==J&&(W!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Rt(t,i,K,W,l,J)}return;default:if(ks(i)){for(var It in a)W=a[It],a.hasOwnProperty(It)&&W!==void 0&&!l.hasOwnProperty(It)&&$m(t,i,It,void 0,l,W);for(re in l)W=l[re],J=a[re],!l.hasOwnProperty(re)||W===J||W===void 0&&J===void 0||$m(t,i,re,W,l,J);return}}for(var F in a)W=a[F],a.hasOwnProperty(F)&&W!=null&&!l.hasOwnProperty(F)&&Rt(t,i,F,null,l,W);for(le in l)W=l[le],J=a[le],!l.hasOwnProperty(le)||W===J||W==null&&J==null||Rt(t,i,le,W,l,J)}var Gm=null,Km=null;function Rf(t){return t.nodeType===9?t:t.ownerDocument}function Yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ym(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qm=null;function z1(){var t=window.event;return t&&t.type==="popstate"?t===Qm?!1:(Qm=t,!0):(Qm=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(t){return Wy.resolve(null).then(t).catch(H1)}:Xy;function H1(t){setTimeout(function(){throw t})}function ro(t){return t==="head"}function Zy(t,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Lc(b.documentElement),a&2&&Lc(b.body),a&4)for(a=b.head,Lc(a),b=a.firstChild;b;){var w=b.nextSibling,P=b.nodeName;b[er]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(h===0){t.removeChild(m),$c(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);$c(i)}function Xm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xm(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function F1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[er])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=zr(t.nextSibling),t===null)break}return null}function $1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zr(t.nextSibling),t===null))return null;return t}function Wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function G1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Zm=null;function Jy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ev(t,i,a){switch(i=Rf(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Lc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);es(t)}var vr=new Map,tv=new Set;function If(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ha=me.d;me.d={f:K1,r:Y1,D:Q1,C:X1,L:W1,m:Z1,X:eA,S:J1,M:tA};function K1(){var t=ha.f(),i=vf();return t||i}function Y1(t){var i=tr(t);i!==null&&i.tag===5&&i.type==="form"?b_(i):ha.r(t)}var nu=typeof document>"u"?null:document;function nv(t,i,a){var l=nu;if(l&&typeof i=="string"&&i){var h=St(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bn(i,"link",t),nt(i),l.head.appendChild(i)))}}function Q1(t){ha.D(t),nv("dns-prefetch",t,null)}function X1(t,i){ha.C(t,i),nv("preconnect",t,i)}function W1(t,i,a){ha.L(t,i,a);var l=nu;if(l&&t&&i){var h='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var m=h;switch(i){case"style":m=iu(t);break;case"script":m=ru(t)}vr.has(m)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),vr.set(m,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Uc(m))||i==="script"&&l.querySelector(jc(m))||(i=l.createElement("link"),Bn(i,"link",t),nt(i),l.head.appendChild(i)))}}function Z1(t,i){ha.m(t,i);var a=nu;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ru(t)}if(!vr.has(m)&&(t=T({rel:"modulepreload",href:t},i),vr.set(m,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jc(m)))return}l=a.createElement("link"),Bn(l,"link",t),nt(l),a.head.appendChild(l)}}}function J1(t,i,a){ha.S(t,i,a);var l=nu;if(l&&t){var h=$t(l).hoistableStyles,m=iu(t);i=i||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Uc(m)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=vr.get(m))&&Jm(t,a);var P=b=l.createElement("link");nt(P),Bn(P,"link",t),P._p=new Promise(function(K,re){P.onload=K,P.onerror=re}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xf(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function eA(t,i){ha.X(t,i);var a=nu;if(a&&t){var l=$t(a).hoistableScripts,h=ru(t),m=l.get(h);m||(m=a.querySelector(jc(h)),m||(t=T({src:t,async:!0},i),(i=vr.get(h))&&ep(t,i),m=a.createElement("script"),nt(m),Bn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function tA(t,i){ha.M(t,i);var a=nu;if(a&&t){var l=$t(a).hoistableScripts,h=ru(t),m=l.get(h);m||(m=a.querySelector(jc(h)),m||(t=T({src:t,async:!0,type:"module"},i),(i=vr.get(h))&&ep(t,i),m=a.createElement("script"),nt(m),Bn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function iv(t,i,a,l){var h=(h=xe.current)?If(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=iu(a.href),a=$t(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=iu(a.href);var m=$t(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Uc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),vr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vr.set(t,a),m||nA(h,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ru(a),a=$t(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function iu(t){return'href="'+St(t)+'"'}function Uc(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bn(i,"link",a),nt(i),t.head.appendChild(i))}function ru(t){return'[src="'+St(t)+'"]'}function jc(t){return"script[async]"+t}function sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),Bn(l,"style",h),xf(l,a.precedence,t),i.instance=l;case"stylesheet":h=iu(a.href);var m=t.querySelector(Uc(h));if(m)return i.state.loading|=4,i.instance=m,nt(m),m;l=rv(a),(h=vr.get(h))&&Jm(l,h),m=(t.ownerDocument||t).createElement("link"),nt(m);var b=m;return b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Bn(m,"link",l),i.state.loading|=4,xf(m,a.precedence,t),i.instance=m;case"script":return m=ru(a.src),(h=t.querySelector(jc(m)))?(i.instance=h,nt(h),h):(l=a,(h=vr.get(m))&&(l=T({},a),ep(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),Bn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xf(l,a.precedence,t));return i.instance}function xf(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===i)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ep(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nf=null;function av(t,i,a){if(Nf===null){var l=new Map,h=Nf=new Map;h.set(a,l)}else h=Nf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[er]||m[Yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zc=null;function rA(){}function sA(t,i,a){if(zc===null)throw Error(s(475));var l=zc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=iu(a.href),m=t.querySelector(Uc(h));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Df.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,nt(m);return}m=t.ownerDocument||t,a=rv(a),(h=vr.get(h))&&Jm(a,h),m=m.createElement("link"),nt(m);var b=m;b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Bn(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Df.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function aA(){if(zc===null)throw Error(s(475));var t=zc;return t.stylesheets&&t.count===0&&tp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&tp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Of=null;function tp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Of=new Map,i.forEach(oA,t),Of=null,Df.call(t))}function oA(t,i){if(!(i.state.loading&4)){var a=Of.get(t);if(a)var l=a.get(null);else{a=new Map,Of.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,h),a.set(b,h),this.count++,l=Df.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Bc={$$typeof:de,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function lA(t,i,a,l,h,m,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function uv(t,i,a,l,h,m,b,w,P,K,re,le){return t=new lA(t,i,a,b,w,P,K,le),i=1,m===!0&&(i|=24),m=ui(3,null,null,i),t.current=m,m.stateNode=t,i=il(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},H(m),t}function cv(t){return t?(t=Ba,t):Ba}function hv(t,i,a,l,h,m){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=se(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=pe(t,l,i),a!==null&&(Yi(a,t,i),Te(a,t,i))}function fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function np(t,i){fv(t,i),(t=t.alternate)&&fv(t,i)}function dv(t){if(t.tag===13){var i=Kn(t,67108864);i!==null&&Yi(i,t,67108864),np(t,67108864)}}var Mf=!0;function uA(t,i,a,l){var h=ee.T;ee.T=null;var m=me.p;try{me.p=2,ip(t,i,a,l)}finally{me.p=m,ee.T=h}}function cA(t,i,a,l){var h=ee.T;ee.T=null;var m=me.p;try{me.p=8,ip(t,i,a,l)}finally{me.p=m,ee.T=h}}function ip(t,i,a,l){if(Mf){var h=rp(l);if(h===null)Fm(t,i,l,Pf,a),pv(t,l);else if(fA(h,t,i,a,l))l.stopPropagation();else if(pv(t,l),i&4&&-1<hA.indexOf(t)){for(;h!==null;){var m=tr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Oi(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var P=1<<31-Ht(b);w.entanglements[1]|=P,b&=~P}vs(m),(At&6)===0&&(_f=hi()+500,Pc(0))}}break;case 13:w=Kn(m,2),w!==null&&Yi(w,m,2),vf(),np(m,2)}if(m=rp(l),m===null&&Fm(t,i,l,Pf,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else Fm(t,i,l,null,a)}}function rp(t){return t=Vn(t),sp(t)}var Pf=null;function sp(t){if(Pf=null,t=Pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pf=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case Mo:return 2;case Aa:return 8;case Is:case Lu:return 32;case wa:return 268435456;default:return 32}default:return 32}}var ap=!1,so=null,ao=null,oo=null,qc=new Map,Hc=new Map,lo=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,i){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":qc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(i.pointerId)}}function Fc(t,i,a,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=tr(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function fA(t,i,a,l,h){switch(i){case"focusin":return so=Fc(so,t,i,a,l,h),!0;case"dragenter":return ao=Fc(ao,t,i,a,l,h),!0;case"mouseover":return oo=Fc(oo,t,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return qc.set(m,Fc(qc.get(m)||null,t,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Hc.set(m,Fc(Hc.get(m)||null,t,i,a,l,h)),!0}return!1}function gv(t){var i=Pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Cr(t.priority,function(){if(a.tag===13){var l=Ki();l=Zr(l);var h=Kn(a,l);h!==null&&Yi(h,a,l),np(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=rp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xn=l,a.target.dispatchEvent(l),xn=null}else return i=tr(a),i!==null&&dv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){kf(t)&&a.delete(i)}function dA(){ap=!1,so!==null&&kf(so)&&(so=null),ao!==null&&kf(ao)&&(ao=null),oo!==null&&kf(oo)&&(oo=null),qc.forEach(_v),Hc.forEach(_v)}function Vf(t,i){t.blockedOn===i&&(t.blockedOn=null,ap||(ap=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dA)))}var Lf=null;function yv(t){Lf!==t&&(Lf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lf===t&&(Lf=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(sp(l||a)===null)continue;break}var m=tr(a);m!==null&&(t.splice(i,3),i-=3,sm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $c(t){function i(P){return Vf(P,t)}so!==null&&Vf(so,t),ao!==null&&Vf(ao,t),oo!==null&&Vf(oo,t),qc.forEach(i),Hc.forEach(i);for(var a=0;a<lo.length;a++){var l=lo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lo.length&&(a=lo[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&lo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],b=h[Ft]||null;if(typeof m=="function")b||yv(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Ft]||null)w=b.formAction;else if(sp(h)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),yv(a)}}}function op(t){this._internalRoot=t}Uf.prototype.render=op.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Ki();hv(a,l,t,i,null,null)},Uf.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),vf(),i[di]=null}};function Uf(t){this._internalRoot=t}Uf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Jr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<lo.length&&i!==0&&i<lo[a].priority;a++);lo.splice(a,0,t),a===0&&gv(t)}};var vv=e.version;if(vv!=="19.1.0")throw Error(s(527,vv,"19.1.0"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var mA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Vt=jf.inject(mA),yt=jf}catch{}}return Kc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=k_,m=V_,b=L_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=uv(t,1,!1,null,null,a,l,h,m,b,w,null),t[di]=i.current,Hm(t),new op(i)},Kc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",m=k_,b=V_,w=L_,P=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=uv(t,1,!0,i,a??null,l,h,m,b,w,P,K),i.context=cv(null),a=i.current,l=Ki(),l=Zr(l),h=se(l),h.callback=null,pe(a,h,l),a=l,i.current.lanes=a,fi(i,a),vs(i),t[di]=i.current,Hm(t),new Uf(i)},Kc.version="19.1.0",Kc}var xv;function wA(){if(xv)return cp.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cp.exports=AA(),cp.exports}var SA=wA();const CA=_E(SA);var Yc={},Nv;function RA(){if(Nv)return Yc;Nv=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.parse=f,Yc.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,z){const L=new u,Y=x.length;if(Y<2)return L;const Q=(z==null?void 0:z.decode)||T;let ie=0;do{const Z=x.indexOf("=",ie);if(Z===-1)break;const de=x.indexOf(";",ie),Ae=de===-1?Y:de;if(Z>Ae){ie=x.lastIndexOf(";",Z-1)+1;continue}const Ce=p(x,ie,Z),Fe=g(x,Z,Ce),U=x.slice(Ce,Fe);if(L[U]===void 0){let D=p(x,Z+1,Ae),M=g(x,Ae,D);const V=Q(x.slice(D,M));L[U]=V}ie=Ae+1}while(ie<Y);return L}function p(x,z,L){do{const Y=x.charCodeAt(z);if(Y!==32&&Y!==9)return z}while(++z<L);return L}function g(x,z,L){for(;z>L;){const Y=x.charCodeAt(--z);if(Y!==32&&Y!==9)return z+1}return L}function _(x,z,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const Q=Y(z);if(!e.test(Q))throw new TypeError(`argument val is invalid: ${z}`);let ie=x+"="+Q;if(!L)return ie;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);ie+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);ie+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);ie+="; Path="+L.path}if(L.expires){if(!N(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);ie+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(ie+="; HttpOnly"),L.secure&&(ie+="; Secure"),L.partitioned&&(ie+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":ie+="; Priority=Low";break;case"medium":ie+="; Priority=Medium";break;case"high":ie+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":ie+="; SameSite=Strict";break;case"lax":ie+="; SameSite=Lax";break;case"none":ie+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return ie}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function N(x){return o.call(x)==="[object Date]"}return Yc}RA();var Dv="popstate";function IA(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Rp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lh(o)}return NA(e,n,null,r)}function jt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $r(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xA(){return Math.random().toString(36).substring(2,10)}function Ov(r,e){return{usr:r.state,key:r.key,idx:e}}function Rp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wu(e):e,state:n,key:e&&e.key||s||xA()}}function lh({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function wu(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function NA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function N(){p="POP";let Q=T(),ie=Q==null?null:Q-_;_=Q,g&&g({action:p,location:Y.location,delta:ie})}function x(Q,ie){p="PUSH";let Z=Rp(Y.location,Q,ie);_=T()+1;let de=Ov(Z,_),Ae=Y.createHref(Z);try{f.pushState(de,"",Ae)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Ae)}u&&g&&g({action:p,location:Y.location,delta:1})}function z(Q,ie){p="REPLACE";let Z=Rp(Y.location,Q,ie);_=T();let de=Ov(Z,_),Ae=Y.createHref(Z);f.replaceState(de,"",Ae),u&&g&&g({action:p,location:Y.location,delta:0})}function L(Q){return DA(Q)}let Y={get action(){return p},get location(){return r(o,f)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,N),g=Q,()=>{o.removeEventListener(Dv,N),g=null}},createHref(Q){return e(o,Q)},createURL:L,encodeLocation(Q){let ie=L(Q);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:x,replace:z,go(Q){return f.go(Q)}};return Y}function DA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lh(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yE(r,e,n="/"){return OA(r,e,n,!1)}function OA(r,e,n,s){let o=typeof e=="string"?wu(e):e,u=pa(o.pathname||"/",n);if(u==null)return null;let f=vE(r);MA(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let _=FA(u);p=qA(f[g],_,s)}return p}function vE(r,e=[],n=[],s=""){let o=(u,f,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(jt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=ma([s,g.relativePath]),T=n.concat(g);u.children&&u.children.length>0&&(jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),vE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:zA(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let g of EE(u.path))o(u,f,g)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function MA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:BA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var PA=/^:[\w-]+$/,kA=3,VA=2,LA=1,UA=10,jA=-2,Mv=r=>r==="*";function zA(r,e){let n=r.split("/"),s=n.length;return n.some(Mv)&&(s+=jA),e&&(s+=VA),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(PA.test(u)?kA:u===""?LA:UA),s)}function BA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function qA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],_=p===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",N=ad({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},T),x=g.route;if(!N&&_&&n&&!s[s.length-1].route.index&&(N=ad({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!N)return null;Object.assign(o,N.params),f.push({params:o,pathname:ma([u,N.pathname]),pathnameBase:YA(ma([u,N.pathnameBase])),route:x}),N.pathnameBase!=="/"&&(u=ma([u,N.pathnameBase]))}return f}function ad(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=HA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:N},x)=>{if(T==="*"){let L=p[x]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const z=p[x];return N&&!z?_[T]=void 0:_[T]=(z||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function HA(r,e=!1,n=!0){$r(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function $A(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?wu(r):r;return{pathname:n?n.startsWith("/")?n:GA(n,e):e,search:QA(s),hash:XA(o)}}function GA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(r){let e=KA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sg(r,e,n,s=!1){let o;typeof r=="string"?o=wu(r):(o={...r},jt(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let N=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),N-=1;o.pathname=x.join("/")}p=N>=0?e[N]:"/"}let g=$A(o,p),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||T)&&(g.pathname+="/"),g}var ma=r=>r.join("/").replace(/\/\/+/g,"/"),YA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var ZA=["GET",...bE];new Set(ZA);var Su=X.createContext(null);Su.displayName="DataRouter";var xd=X.createContext(null);xd.displayName="DataRouterState";var TE=X.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var JA=X.createContext(new Map);JA.displayName="Fetchers";var ew=X.createContext(null);ew.displayName="Await";var Yr=X.createContext(null);Yr.displayName="Navigation";var yh=X.createContext(null);yh.displayName="Location";var Er=X.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var ag=X.createContext(null);ag.displayName="RouteError";function tw(r,{relative:e}={}){jt(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(Yr),{hash:o,pathname:u,search:f}=vh(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ma([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Cu(){return X.useContext(yh)!=null}function qr(){return jt(Cu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(yh).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(r){X.useContext(Yr).static||X.useLayoutEffect(r)}function dl(){let{isDataRoute:r}=X.useContext(Er);return r?_w():nw()}function nw(){jt(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Su),{basename:e,navigator:n}=X.useContext(Yr),{matches:s}=X.useContext(Er),{pathname:o}=qr(),u=JSON.stringify(rg(s)),f=X.useRef(!1);return wE(()=>{f.current=!0}),X.useCallback((g,_={})=>{if($r(f.current,AE),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=sg(g,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ma([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var iw=X.createContext(null);function rw(r){let e=X.useContext(Er).outlet;return e&&X.createElement(iw.Provider,{value:r},e)}function sw(){let{matches:r}=X.useContext(Er),e=r[r.length-1];return e?e.params:{}}function vh(r,{relative:e}={}){let{matches:n}=X.useContext(Er),{pathname:s}=qr(),o=JSON.stringify(rg(n));return X.useMemo(()=>sg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function aw(r,e){return SE(r,e)}function SE(r,e,n,s){var ie;jt(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(Yr),{matches:u}=X.useContext(Er),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",_=f?f.pathnameBase:"/",T=f&&f.route;{let Z=T&&T.path||"";CE(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let N=qr(),x;if(e){let Z=typeof e=="string"?wu(e):e;jt(_==="/"||((ie=Z.pathname)==null?void 0:ie.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),x=Z}else x=N;let z=x.pathname||"/",L=z;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");L="/"+z.replace(/^\//,"").split("/").slice(Z.length).join("/")}let Y=yE(r,{pathname:L});$r(T||Y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$r(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=hw(Y&&Y.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:ma([_,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:ma([_,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return e&&Q?X.createElement(yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function ow(){let r=gw(),e=WA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var lw=X.createElement(ow,null),uw=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?X.createElement(Er.Provider,{value:this.props.routeContext},X.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cw({routeContext:r,match:e,children:n}){let s=X.useContext(Su);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Er.Provider,{value:r},n)}function hw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);jt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:N}=n,x=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!N||N[_.route.id]===void 0);if(_.route.lazy||x){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,_,T)=>{let N,x=!1,z=null,L=null;n&&(N=u&&_.route.id?u[_.route.id]:void 0,z=_.route.errorElement||lw,f&&(p<0&&T===0?(CE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,L=null):p===T&&(x=!0,L=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),Q=()=>{let ie;return N?ie=z:x?ie=L:_.route.Component?ie=X.createElement(_.route.Component,null):_.route.element?ie=_.route.element:ie=g,X.createElement(cw,{match:_,routeContext:{outlet:g,matches:Y,isDataRoute:n!=null},children:ie})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?X.createElement(uw,{location:n.location,revalidation:n.revalidation,component:z,error:N,children:Q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):Q()},null)}function og(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(r){let e=X.useContext(Su);return jt(e,og(r)),e}function dw(r){let e=X.useContext(xd);return jt(e,og(r)),e}function mw(r){let e=X.useContext(Er);return jt(e,og(r)),e}function lg(r){let e=mw(r),n=e.matches[e.matches.length-1];return jt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function pw(){return lg("useRouteId")}function gw(){var s;let r=X.useContext(ag),e=dw("useRouteError"),n=lg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function _w(){let{router:r}=fw("useNavigate"),e=lg("useNavigate"),n=X.useRef(!1);return wE(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{$r(n.current,AE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Pv={};function CE(r,e,n){!e&&!Pv[r]&&(Pv[r]=!0,$r(!1,n))}X.memo(yw);function yw({routes:r,future:e,state:n}){return SE(r,void 0,n,e)}function vw({to:r,replace:e,state:n,relative:s}){jt(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=X.useContext(Yr);$r(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(Er),{pathname:f}=qr(),p=dl(),g=sg(r,rg(u),f,s==="path"),_=JSON.stringify(g);return X.useEffect(()=>{p(JSON.parse(_),{replace:e,state:n,relative:s})},[p,_,s,e,n]),null}function Ew(r){return rw(r.context)}function Qi(r){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){jt(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wu(n));let{pathname:g="/",search:_="",hash:T="",state:N=null,key:x="default"}=n,z=X.useMemo(()=>{let L=pa(g,f);return L==null?null:{location:{pathname:L,search:_,hash:T,state:N,key:x},navigationType:s}},[f,g,_,T,N,x,s]);return $r(z!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:X.createElement(Yr.Provider,{value:p},X.createElement(yh.Provider,{children:e,value:z}))}function Ip({children:r,location:e}){return aw(xp(r),e)}function xp(r,e=[]){let n=[];return X.Children.forEach(r,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,xp(s.props.children,u));return}jt(s.type===Qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=xp(s.props.children,u)),n.push(f)}),n}var Kf="get",Yf="application/x-www-form-urlencoded";function Nd(r){return r!=null&&typeof r.tagName=="string"}function Tw(r){return Nd(r)&&r.tagName.toLowerCase()==="button"}function Aw(r){return Nd(r)&&r.tagName.toLowerCase()==="form"}function ww(r){return Nd(r)&&r.tagName.toLowerCase()==="input"}function Sw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Cw(r,e){return r.button===0&&(!e||e==="_self")&&!Sw(r)}var zf=null;function Rw(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pp(r){return r!=null&&!Iw.has(r)?($r(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):r}function xw(r,e){let n,s,o,u,f;if(Aw(r)){let p=r.getAttribute("action");s=p?pa(p,e):null,n=r.getAttribute("method")||Kf,o=pp(r.getAttribute("enctype"))||Yf,u=new FormData(r)}else if(Tw(r)||ww(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?pa(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Kf,o=pp(r.getAttribute("formenctype"))||pp(p.getAttribute("enctype"))||Yf,u=new FormData(p,r),!Rw()){let{name:_,type:T,value:N}=r;if(T==="image"){let x=_?`${_}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else _&&u.append(_,N)}}else{if(Nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kf,s=null,o=Yf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ug(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Nw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ow(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Nw(u,n);return f.links?f.links():[]}return[]}));return Vw(s.flat(1).filter(Dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kv(r,e,n,s,o,u){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,p=(g,_)=>{var T;return n[_].pathname!==g.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,_)=>f(g,_)||p(g,_)):u==="data"?e.filter((g,_)=>{var N;let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,_)||p(g,_))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((N=n[0])==null?void 0:N.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Mw(r,e,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function kw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Vw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(kw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lw=new Set([100,101,204,205]);function Uw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&pa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function RE(){let r=X.useContext(Su);return ug(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jw(){let r=X.useContext(xd);return ug(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cg=X.createContext(void 0);cg.displayName="FrameworkContext";function IE(){let r=X.useContext(cg);return ug(r,"You must render this element inside a <HydratedRouter> element"),r}function zw(r,e){let n=X.useContext(cg),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:_,onMouseLeave:T,onTouchStart:N}=e,x=X.useRef(null);X.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=ie=>{ie.forEach(Z=>{f(Z.isIntersecting)})},Q=new IntersectionObserver(Y,{threshold:.5});return x.current&&Q.observe(x.current),()=>{Q.disconnect()}}},[r]),X.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let z=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Qc(p,z),onBlur:Qc(g,L),onMouseEnter:Qc(_,z),onMouseLeave:Qc(T,L),onTouchStart:Qc(N,z)}]:[!1,x,{}]}function Qc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Bw({page:r,...e}){let{router:n}=RE(),s=X.useMemo(()=>yE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?X.createElement(Hw,{page:r,matches:s,...e}):null}function qw(r){let{manifest:e,routeModules:n}=IE(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return Ow(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Hw({page:r,matches:e,...n}){let s=qr(),{manifest:o,routeModules:u}=IE(),{basename:f}=RE(),{loaderData:p,matches:g}=jw(),_=X.useMemo(()=>kv(r,e,g,o,s,"data"),[r,e,g,o,s]),T=X.useMemo(()=>kv(r,e,g,o,s,"assets"),[r,e,g,o,s]),N=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Y=!1;if(e.forEach(ie=>{var de;let Z=o.routes[ie.route.id];!Z||!Z.hasLoader||(!_.some(Ae=>Ae.route.id===ie.route.id)&&ie.route.id in p&&((de=u[ie.route.id])!=null&&de.shouldRevalidate)||Z.hasClientLoader?Y=!0:L.add(ie.route.id))}),L.size===0)return[];let Q=Uw(r,f);return Y&&L.size>0&&Q.searchParams.set("_routes",e.filter(ie=>L.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[Q.pathname+Q.search]},[f,p,s,o,_,e,r,u]),x=X.useMemo(()=>Mw(T,o),[T,o]),z=qw(T);return X.createElement(X.Fragment,null,N.map(L=>X.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),x.map(L=>X.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),z.map(({key:L,link:Y})=>X.createElement("link",{key:L,...Y})))}function Fw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xE&&(window.__reactRouterVersion="7.6.2")}catch{}function $w({basename:r,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=IA({window:n,v5Compat:!0}));let o=s.current,[u,f]=X.useState({action:o.action,location:o.location}),p=X.useCallback(g=>{X.startTransition(()=>f(g))},[f]);return X.useLayoutEffect(()=>o.listen(p),[o,p]),X.createElement(bw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:_,preventScrollReset:T,viewTransition:N,...x},z){let{basename:L}=X.useContext(Yr),Y=typeof _=="string"&&NE.test(_),Q,ie=!1;if(typeof _=="string"&&Y&&(Q=_,xE))try{let M=new URL(window.location.href),V=_.startsWith("//")?new URL(M.protocol+_):new URL(_),O=pa(V.pathname,L);V.origin===M.origin&&O!=null?_=O+V.search+V.hash:ie=!0}catch{$r(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=tw(_,{relative:o}),[de,Ae,Ce]=zw(s,x),Fe=Qw(_,{replace:f,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:N});function U(M){e&&e(M),M.defaultPrevented||Fe(M)}let D=X.createElement("a",{...x,...Ce,href:Q||Z,onClick:ie||u?e:U,ref:Fw(z,Ae),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return de&&!Y?X.createElement(X.Fragment,null,D,X.createElement(Bw,{page:Z})):D});Tn.displayName="Link";var Gw=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,..._},T){let N=vh(f,{relative:_.relative}),x=qr(),z=X.useContext(xd),{navigator:L,basename:Y}=X.useContext(Yr),Q=z!=null&&eS(N)&&p===!0,ie=L.encodeLocation?L.encodeLocation(N).pathname:N.pathname,Z=x.pathname,de=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),de=de?de.toLowerCase():null,ie=ie.toLowerCase()),de&&Y&&(de=pa(de,Y)||de);const Ae=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ce=Z===ie||!o&&Z.startsWith(ie)&&Z.charAt(Ae)==="/",Fe=de!=null&&(de===ie||!o&&de.startsWith(ie)&&de.charAt(ie.length)==="/"),U={isActive:Ce,isPending:Fe,isTransitioning:Q},D=Ce?e:void 0,M;typeof s=="function"?M=s(U):M=[s,Ce?"active":null,Fe?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(U):u;return X.createElement(Tn,{..._,"aria-current":D,className:M,ref:T,style:V,to:f,viewTransition:p},typeof g=="function"?g(U):g)});Gw.displayName="NavLink";var Kw=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kf,action:p,onSubmit:g,relative:_,preventScrollReset:T,viewTransition:N,...x},z)=>{let L=Zw(),Y=Jw(p,{relative:_}),Q=f.toLowerCase()==="get"?"get":"post",ie=typeof p=="string"&&NE.test(p),Z=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let Ae=de.nativeEvent.submitter,Ce=(Ae==null?void 0:Ae.getAttribute("formmethod"))||f;L(Ae||de.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:N})};return X.createElement("form",{ref:z,method:Q,action:Y,onSubmit:s?g:Z,...x,"data-discover":!ie&&r==="render"?"true":void 0})});Kw.displayName="Form";function Yw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=X.useContext(Su);return jt(e,Yw(r)),e}function Qw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=dl(),g=qr(),_=vh(r,{relative:u});return X.useCallback(T=>{if(Cw(T,e)){T.preventDefault();let N=n!==void 0?n:lh(g)===lh(_);p(r,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,_,n,s,e,r,o,u,f])}var Xw=0,Ww=()=>`__${String(++Xw)}__`;function Zw(){let{router:r}=DE("useSubmit"),{basename:e}=X.useContext(Yr),n=pw();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:g,body:_}=xw(s,e);if(o.navigate===!1){let T=o.fetcherKey||Ww();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Jw(r,{relative:e}={}){let{basename:n}=X.useContext(Yr),s=X.useContext(Er);jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vh(r||".",{relative:e})},f=qr();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(N=>N).forEach(N=>p.append("index",N));let T=p.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ma([n,u.pathname])),lh(u)}function eS(r,e={}){let n=X.useContext(TE);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),o=vh(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pa(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=pa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ad(o.pathname,f)!=null||ad(o.pathname,u)!=null}[...Lw];var OE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vv=_o.createContext&&_o.createContext(OE),tS=["attr","size","title"];function nS(r,e){if(r==null)return{};var n=iS(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function iS(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function od(){return od=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},od.apply(this,arguments)}function Lv(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function ld(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(s){rS(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function rS(r,e,n){return e=sS(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function sS(r){var e=aS(r,"string");return typeof e=="symbol"?e:e+""}function aS(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ME(r){return r&&r.map((e,n)=>_o.createElement(e.tag,ld({key:n},e.attr),ME(e.child)))}function ni(r){return e=>_o.createElement(oS,od({attr:ld({},r.attr)},e),ME(r.child))}function oS(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=nS(r,tS),p=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),_o.createElement("svg",od({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:ld(ld({color:r.color||n.color},n.style),r.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&_o.createElement("title",null,u),r.children)};return Vv!==void 0?_o.createElement(Vv.Consumer,null,n=>e(n)):e(OE)}function lS(r){return ni({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function uS(r){return ni({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(r)}function cS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function hS(r){return ni({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function fS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(r)}function dS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function mS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function pS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function gS(r){return ni({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(r)}function _S(r){return ni({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function yS(r){return ni({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(r)}function vS(r){return ni({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function ES(r){return ni({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function bS(r){return ni({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function TS(r){return ni({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function AS(r){return ni({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(r)}const wS=({rating:r})=>{const e=Math.max(0,Math.min(5,Number(r)||0)),n=Math.floor(e),s=e%1!==0&&e%1>=.5,o=n+(s?1:0),u=Math.max(0,5-o);return S.jsxs("div",{className:"rating-stars",children:[Array.from({length:n},(f,p)=>S.jsx(_S,{className:"star-icon full"},`full-${p}`)),s&&S.jsx(gS,{className:"star-icon half"},"half"),Array.from({length:u},(f,p)=>S.jsx(AS,{className:"star-icon empty"},`empty-${p}`))]})},SS="/toplivedeals/assets/amazon-kk4Td5OG.png",CS="/toplivedeals/assets/flipkart-Ccs85YjV.png",RS=r=>{switch((r==null?void 0:r.toLowerCase())??""){case"amazon":return{logo:S.jsx("img",{src:SS,alt:"Amazon",className:"platform-logo"}),name:"Amazon"};case"flipkart":return{logo:S.jsx("img",{src:CS,alt:"Flipkart",className:"platform-logo"}),name:"Flipkart"};default:return{logo:null,name:r?r.charAt(0).toUpperCase()+r.slice(1):"Unknown"}}},IS=({product:r})=>{const[e,n]=X.useState(!1),s=r.images&&r.images.split(",")[0]||"https://placehold.co/200x200/cccccc/000000?text=No+Image",o=()=>{window.open(r.affiliateLink||"#","_blank")},u=()=>{r.couponCode&&(navigator.clipboard.writeText(r.couponCode),n(!0),setTimeout(()=>n(!1),2e3))},f=RS(r.application);return S.jsxs("div",{className:"card product-horizontal",children:[S.jsxs("div",{className:"img-container",children:[S.jsx("img",{src:s,alt:r.title,className:"product-main-image",onError:p=>{p.target.src="https://placehold.co/200x200/cccccc/000000?text=Image+Error"}})," ",r.discount&&r.discount>0&&S.jsxs("div",{className:"badge",children:[r.discount,"% OFF"]})]}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{className:"title two-lines",children:r.title}),S.jsxs("div",{className:"feats",children:[r.couponCode&&S.jsxs("span",{className:"feat coupon",onClick:u,children:[S.jsx(yS,{style:{marginRight:4}}),e?"Copied!":r.couponCode]}),r.postedAgo&&S.jsxs("span",{className:"feat",children:[S.jsx(cS,{style:{marginRight:4}}),r.postedAgo]})]}),S.jsxs("div",{className:"bottom",children:[S.jsxs("div",{className:"price",children:[S.jsxs("span",{className:"new",children:["",(r.priceAfter??0).toLocaleString()]}),S.jsxs("span",{className:"old",children:["",(r.priceBefore??0).toLocaleString()]})]}),S.jsxs("div",{className:"rating",children:[r.rating>0&&S.jsx(wS,{rating:r.rating}),r.ratingCount>0&&S.jsx("span",{className:"rcount",children:r.ratingCount.toLocaleString()})]})]}),S.jsxs("div",{className:"meta",children:[S.jsxs("div",{className:"platform-display",children:[f.logo,S.jsx("span",{className:"platform-name",children:f.name})]}),S.jsxs("button",{className:"btn buy-now-btn",onClick:o,children:[S.jsx(fS,{className:"icon"}),S.jsx("span",{children:"Buy Now"})]})]})]})]})},xS=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,T=u>>2,N=(u&3)<<4|p>>4;let x=(p&15)<<2|_>>6,z=_&63;g||(z=64,f||(x=64)),s.push(n[T],n[N],n[x],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(PE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const N=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||_==null||N==null)throw new DS;const x=u<<2|p>>4;if(s.push(x),_!==64){const z=p<<4&240|_>>2;if(s.push(z),N!==64){const L=_<<6&192|N;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OS=function(r){const e=PE(r);return kE.encodeByteArray(e,!0)},ud=function(r){return OS(r).replace(/\./g,"")},VE=function(r){try{return kE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=()=>MS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VE(r[1]);return e&&JSON.parse(e)},Dd=()=>{try{return xS()||PS()||kS()||VS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>{var e,n;return(n=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},LS=r=>{const e=LE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},UE=()=>{var r;return(r=Dd())===null||r===void 0?void 0:r.config},jE=r=>{var e;return(e=Dd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){return r.endsWith(".cloudworkstations.dev")}async function zE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ud(JSON.stringify(n)),ud(JSON.stringify(f)),""].join(".")}const nh={};function zS(){const r={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?r.emulator.push(e):r.prod.push(e);return r}function BS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jv=!1;function BE(r,e){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||nh[r]===e||nh[r]||jv)return;nh[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=zS().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,z){x.setAttribute("width","24"),x.setAttribute("id",z),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{jv=!0,f()},x}function T(x,z){x.setAttribute("id",z),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function N(){const x=BS(s),z=n("text"),L=document.getElementById(z)||document.createElement("span"),Y=n("learnmore"),Q=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),Z=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const de=x.element;p(de),T(Q,Y);const Ae=_();g(Z,ie),de.append(Z,L,Q,Ae),document.body.appendChild(de)}u?(L.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function HS(){var r;const e=(r=Dd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const r=ti();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YS(){return!HS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function XS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class Ea extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WS,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ZS(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ea(o,p,s)}}function ZS(r,e){return r.replace(JS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JS=/\{\$([^}]+)}/g;function eC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ml(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(zv(u)&&zv(f)){if(!ml(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function tC(r,e){const n=new nC(r,e);return n.subscribe.bind(n)}class nC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gp),o.error===void 0&&(o.error=gp),o.complete===void 0&&(o.complete=gp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(r){return r&&r._delegate?r._delegate:r}class pl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new US;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aC(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cl){return this.instances.has(e)}getOptions(e=cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cl){return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sC(r){return r===cl?void 0:r}function aC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(lt||(lt={}));const lC={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},uC=lt.INFO,cC={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},hC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=cC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=uC,this._logHandler=hC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const fC=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function dC(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mC(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,Np=new WeakMap,HE=new WeakMap,_p=new WeakMap,fg=new WeakMap;function pC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(yo(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&qE.set(n,r)}).catch(()=>{}),fg.set(e,r),e}function gC(r){if(Np.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Np.set(r,e)}let Dp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _C(r){Dp=r(Dp)}function yC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(yp(this),e,...n);return HE.set(s,e.sort?e.sort():[e]),yo(s)}:mC().includes(r)?function(...e){return r.apply(yp(this),e),yo(qE.get(this))}:function(...e){return yo(r.apply(yp(this),e))}}function vC(r){return typeof r=="function"?yC(r):(r instanceof IDBTransaction&&gC(r),fC(r,dC())?new Proxy(r,Dp):r)}function yo(r){if(r instanceof IDBRequest)return pC(r);if(_p.has(r))return _p.get(r);const e=vC(r);return e!==r&&(_p.set(r,e),fg.set(e,r)),e}const yp=r=>fg.get(r);function EC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=yo(f);return s&&f.addEventListener("upgradeneeded",g=>{s(yo(f.result),g.oldVersion,g.newVersion,yo(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],vp=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bC.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&g.done]))[0]};return vp.set(e,u),u}_C(r=>({...r,get:(e,n,s)=>Hv(e,n)||r.get(e,n,s),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Op="@firebase/app",Fv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new hg("@firebase/app"),SC="@firebase/app-compat",CC="@firebase/analytics-compat",RC="@firebase/analytics",IC="@firebase/app-check-compat",xC="@firebase/app-check",NC="@firebase/auth",DC="@firebase/auth-compat",OC="@firebase/database",MC="@firebase/data-connect",PC="@firebase/database-compat",kC="@firebase/functions",VC="@firebase/functions-compat",LC="@firebase/installations",UC="@firebase/installations-compat",jC="@firebase/messaging",zC="@firebase/messaging-compat",BC="@firebase/performance",qC="@firebase/performance-compat",HC="@firebase/remote-config",FC="@firebase/remote-config-compat",$C="@firebase/storage",GC="@firebase/storage-compat",KC="@firebase/firestore",YC="@firebase/ai",QC="@firebase/firestore-compat",XC="firebase",WC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",ZC={[Op]:"fire-core",[SC]:"fire-core-compat",[RC]:"fire-analytics",[CC]:"fire-analytics-compat",[xC]:"fire-app-check",[IC]:"fire-app-check-compat",[NC]:"fire-auth",[DC]:"fire-auth-compat",[OC]:"fire-rtdb",[MC]:"fire-data-connect",[PC]:"fire-rtdb-compat",[kC]:"fire-fn",[VC]:"fire-fn-compat",[LC]:"fire-iid",[UC]:"fire-iid-compat",[jC]:"fire-fcm",[zC]:"fire-fcm-compat",[BC]:"fire-perf",[qC]:"fire-perf-compat",[HC]:"fire-rc",[FC]:"fire-rc-compat",[$C]:"fire-gcs",[GC]:"fire-gcs-compat",[KC]:"fire-fst",[QC]:"fire-fst-compat",[YC]:"fire-vertex","fire-js":"fire-js",[XC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Map,JC=new Map,Pp=new Map;function $v(r,e){try{r.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function pu(r){const e=r.name;if(Pp.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,r);for(const n of cd.values())$v(n,r);for(const n of JC.values())$v(n,r);return!0}function dg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Eh("app","Firebase",e2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=WC;function FE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw vo.create("bad-app-name",{appName:String(o)});if(n||(n=UE()),!n)throw vo.create("no-options");const u=cd.get(o);if(u){if(ml(n,u.options)&&ml(s,u.config))return u;throw vo.create("duplicate-app",{appName:o})}const f=new oC(o);for(const g of Pp.values())f.addComponent(g);const p=new t2(n,s,f);return cd.set(o,p),p}function $E(r=Mp){const e=cd.get(r);if(!e&&r===Mp&&UE())return FE();if(!e)throw vo.create("no-app",{appName:r});return e}function Eo(r,e,n){var s;let o=(s=ZC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(p.join(" "));return}pu(new pl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="firebase-heartbeat-database",i2=1,uh="firebase-heartbeat-store";let Ep=null;function GE(){return Ep||(Ep=EC(n2,i2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uh)}catch(n){console.warn(n)}}}}).catch(r=>{throw vo.create("idb-open",{originalErrorMessage:r.message})})),Ep}async function r2(r){try{const n=(await GE()).transaction(uh),s=await n.objectStore(uh).get(KE(r));return await n.done,s}catch(e){if(e instanceof Ea)ga.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(n.message)}}}async function Gv(r,e){try{const s=(await GE()).transaction(uh,"readwrite");await s.objectStore(uh).put(e,KE(r)),await s.done}catch(n){if(n instanceof Ea)ga.warn(n.message);else{const s=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ga.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1024,a2=30;class o2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>a2){const f=c2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ga.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kv(),{heartbeatsToSend:s,unsentEntries:o}=l2(this._heartbeatsCache.heartbeats),u=ud(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ga.warn(n),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function l2(r,e=s2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class u2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?XS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yv(r){return ud(JSON.stringify({version:2,heartbeats:r})).length}function c2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){pu(new pl("platform-logger",e=>new AC(e),"PRIVATE")),pu(new pl("heartbeat",e=>new o2(e),"PRIVATE")),Eo(Op,Fv,r),Eo(Op,Fv,"esm2017"),Eo("fire-js","")}h2("");var f2="firebase",d2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(f2,d2,"app");function mg(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m2=YE,QE=new Eh("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new hg("@firebase/auth");function p2(r,...e){hd.logLevel<=lt.WARN&&hd.warn(`Auth (${Iu}): ${r}`,...e)}function Qf(r,...e){hd.logLevel<=lt.ERROR&&hd.error(`Auth (${Iu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,...e){throw pg(r,...e)}function bs(r,...e){return pg(r,...e)}function XE(r,e,n){const s=Object.assign(Object.assign({},m2()),{[e]:n});return new Eh("auth","Firebase",s).create(e,{appName:r.name})}function Hr(r){return XE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return QE.create(r,...e)}function qe(r,e,...n){if(!r)throw pg(e,...n)}function fa(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qf(e),new Error(e)}function _a(r,e){r||fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function g2(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||$S()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.shortDelay=e,this.longDelay=n,_a(n>e,"Short delay should be less than long delay!"),this.isMobile=qS()||GS()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){_a(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b2=new Th(3e4,6e4);function ba(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function No(r,e,n,s,o={}){return ZE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=bh(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},u);return FS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(_.credentials="include"),WE.fetch()(await JE(r,r.config.apiHost,n,p),_)})}async function ZE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},v2),e);try{const o=new A2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bf(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bf(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bf(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw XE(r,T,_);Gr(r,T)}}catch(o){if(o instanceof Ea)throw o;Gr(r,"network-request-failed",{message:String(o)})}}async function xu(r,e,n,s,o={}){const u=await No(r,e,n,s,o);return"mfaPendingCredential"in u&&Gr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function JE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return E2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function T2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bs(this.auth,"network-request-failed")),b2.get())})}}function Bf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bs(r,e,s);return o.customData._tokenResponse=n,o}function Xv(r){return r!==void 0&&r.enterprise!==void 0}class w2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S2(r,e){return No(r,"GET","/v2/recaptchaConfig",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e){return No(r,"POST","/v1/accounts:delete",e)}async function fd(r,e){return No(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R2(r,e=!1){const n=Sn(r),s=await n.getIdToken(e),o=_g(s);qe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ih(bp(o.auth_time)),issuedAtTime:ih(bp(o.iat)),expirationTime:ih(bp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function bp(r){return Number(r)*1e3}function _g(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(Qf("Failed to decode base64 JWT payload"),null)}catch(o){return Qf("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Wv(r){const e=_g(r);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ea&&I2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function I2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ih(this.lastLoginAt),this.creationTime=ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(r){var e;const n=r.auth,s=await r.getIdToken(),o=await ch(r,fd(n,{idToken:s}));qe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?eb(u.providerUserInfo):[],p=D2(r.providerData,f),g=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),T=g?_:!1,N={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Vp(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,N)}async function N2(r){const e=Sn(r);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function eb(r){return r.map(e=>{var{providerId:n}=e,s=mg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e){const n=await ZE(r,{},async()=>{const s=bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await JE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ru(r.emulatorConfig.host)&&(g.credentials="include"),WE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M2(r,e){return No(r,"POST","/v2/accounts:revokeToken",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await O2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new cu;return s&&(qe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(qe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r,e){qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ch(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R2(this,e)}reload(){return N2(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await ch(this,C2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,g,_,T;const N=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,z=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(p=n.tenantId)!==null&&p!==void 0?p:void 0,Q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,ie=(_=n.createdAt)!==null&&_!==void 0?_:void 0,Z=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:de,emailVerified:Ae,isAnonymous:Ce,providerData:Fe,stsTokenManager:U}=n;qe(de&&U,e,"internal-error");const D=cu.fromJSON(this.name,U);qe(typeof de=="string",e,"internal-error"),co(N,e.name),co(x,e.name),qe(typeof Ae=="boolean",e,"internal-error"),qe(typeof Ce=="boolean",e,"internal-error"),co(z,e.name),co(L,e.name),co(Y,e.name),co(Q,e.name),co(ie,e.name),co(Z,e.name);const M=new Br({uid:de,auth:e,email:x,emailVerified:Ae,displayName:N,isAnonymous:Ce,photoURL:L,phoneNumber:z,tenantId:Y,stsTokenManager:D,createdAt:ie,lastLoginAt:Z});return Fe&&Array.isArray(Fe)&&(M.providerData=Fe.map(V=>Object.assign({},V))),Q&&(M._redirectEventId=Q),M}static async _fromIdTokenResponse(e,n,s=!1){const o=new cu;o.updateFromServerResponse(n);const u=new Br({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new cu;p.updateFromIdToken(s);const g=new Br({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function da(r){_a(r instanceof Function,"Expected a class definition");let e=Zv.get(r);return e?(_a(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const Jv=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r,e,n){return`firebase:${r}:${e}:${n}`}class hu{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fd(this.auth,{idToken:e}).catch(()=>{});return n?Br._fromGetAccountInfoResponse(this.auth,n,e):null}return Br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new hu(da(Jv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||da(Jv);const f=Xf(s,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const T=await _._get(f);if(T){let N;if(typeof T=="string"){const x=await fd(e,{idToken:T}).catch(()=>{});if(!x)break;N=await Br._fromGetAccountInfoResponse(e,x,T)}else N=Br._fromJSON(e,T);_!==u&&(p=N),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new hu(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new hu(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(lb(e))return"Webos";if(ib(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function nb(r=ti()){return/firefox\//i.test(r)}function ib(r=ti()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(r=ti()){return/crios\//i.test(r)}function sb(r=ti()){return/iemobile/i.test(r)}function ab(r=ti()){return/android/i.test(r)}function ob(r=ti()){return/blackberry/i.test(r)}function lb(r=ti()){return/webos/i.test(r)}function yg(r=ti()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function P2(r=ti()){var e;return yg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k2(){return KS()&&document.documentMode===10}function ub(r=ti()){return yg(r)||ab(r)||lb(r)||ob(r)||/windows phone/i.test(r)||sb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e=[]){let n;switch(r){case"Browser":n=e0(ti());break;case"Worker":n=`${e0(ti())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Iu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(r,e={}){return No(r,"GET","/v2/passwordPolicy",ba(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=6;class j2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:U2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=da(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fd(this,{idToken:e}),s=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ci(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(Hr(this));const n=e?Sn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L2(this),n=new j2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eh("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await M2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&da(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ta(r){return Sn(r)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tC(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(r){Od=r}function hb(r){return Od.loadJS(r)}function q2(){return Od.recaptchaEnterpriseScript}function H2(){return Od.gapiScript}function F2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class $2{constructor(){this.enterprise=new G2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K2="recaptcha-enterprise",fb="NO_RECAPTCHA";class Y2{constructor(e){this.type=K2,this.auth=Ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{S2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new w2(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;Xv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(fb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Xv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=q2();g.length!==0&&(g+=p),hb(g).then(()=>{o(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function n0(r,e,n,s=!1,o=!1){const u=new Y2(r);let f;if(o)f=fb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lp(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await n0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await n0(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r,e){const n=dg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ml(u,e??{}))return o;Gr(o,"already-initialized")}return n.initialize({options:e})}function X2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(da);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function W2(r,e,n){const s=Ta(r);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=db(e),{host:f,port:p}=Z2(e),g=p===null?"":`:${p}`,_={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qe(ml(_,s.config.emulator)&&ml(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ru(f)?(zE(`${u}//${f}${g}`),BE("Auth",!0)):J2()}function db(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Z2(r){const e=db(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:i0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:i0(f)}}}function i0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function J2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,n){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function eR(r,e){return No(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(r,e){return xu(r,"POST","/v1/accounts:signInWithPassword",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(r,e){return xu(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}async function iR(r,e){return xu(r,"POST","/v1/accounts:signInWithEmailLink",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends vg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hh(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hh(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",tR);case"emailLink":return nR(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,s,"signUpPassword",eR);case"emailLink":return iR(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r,e){return xu(r,"POST","/v1/accounts:signInWithIdp",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class gl extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=mg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new gl(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fu(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aR(r){const e=Xc(Wc(r)).link,n=e?Xc(Wc(e)).deep_link_id:null,s=Xc(Wc(r)).deep_link_id;return(s?Xc(Wc(s)).link:null)||s||n||e||r}class Eg{constructor(e){var n,s,o,u,f,p;const g=Xc(Wc(e)),_=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,N=sR((o=g.mode)!==null&&o!==void 0?o:null);qe(_&&T&&N,"argument-error"),this.apiKey=_,this.operation=N,this.code=T,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=aR(e);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,n){return hh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Eg.parseLink(n);return qe(s,"argument-error"),hh._fromEmailAndCode(e,s.code,s.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Ah{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fo.credential(n,s)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Ah{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Ah{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return po.credential(n,s)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(r,e){return xu(r,"POST","/v1/accounts:signUp",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Br._fromIdTokenResponse(e,s,o),f=r0(s);return new Ss({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r0(s);return new Ss({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r){var e;if(Ci(r.app))return Promise.reject(Hr(r));const n=Ta(r);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ss({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await pb(n,{returnSecureToken:!0}),o=await Ss._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends Ea{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new md(e,n,s,o)}}function gb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(r,u,e,s):u})}async function lR(r,e,n=!1){const s=await ch(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ss._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,e,n=!1){const{auth:s}=r;if(Ci(s.app))return Promise.reject(Hr(s));const o="reauthenticate";try{const u=await ch(r,gb(s,o,e,r),n);qe(u.idToken,s,"internal-error");const f=_g(u.idToken);qe(f,s,"internal-error");const{sub:p}=f;return qe(r.uid===p,s,"user-mismatch"),Ss._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(r,e,n=!1){if(Ci(r.app))return Promise.reject(Hr(r));const s="signIn",o=await gb(r,s,e),u=await Ss._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function cR(r,e){return _b(Ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(r,e){return xu(r,"POST","/v1/accounts:signInWithCustomToken",ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,e){if(Ci(r.app))return Promise.reject(Hr(r));const n=Ta(r),s=await hR(n,{token:e,returnSecureToken:!0}),o=await Ss._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(r){const e=Ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dR(r,e,n){if(Ci(r.app))return Promise.reject(Hr(r));const s=Ta(r),f=await Lp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pb).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&yb(r),g}),p=await Ss._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function mR(r,e,n){return Ci(r.app)?Promise.reject(Hr(r)):cR(Sn(r),Nu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yb(r),s})}function pR(r,e,n,s){return Sn(r).onIdTokenChanged(e,n,s)}function gR(r,e,n){return Sn(r).beforeAuthStateChanged(e,n)}function vb(r,e,n,s){return Sn(r).onAuthStateChanged(e,n,s)}function _R(r){return Sn(r).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1e3,vR=10;class bb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);k2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const ER=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Ab=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),g=await bR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const _=bg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(N){const x=N;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function AR(r){Ts().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function wR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function CR(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firebaseLocalStorageDb",RR=1,gd="firebaseLocalStorage",Cb="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(r,e){return r.transaction([gd],e?"readwrite":"readonly").objectStore(gd)}function IR(){const r=indexedDB.deleteDatabase(Sb);return new wh(r).toPromise()}function Up(){const r=indexedDB.open(Sb,RR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gd,{keyPath:Cb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gd)?e(s):(s.close(),await IR(),e(await Up()))})})}async function s0(r,e,n){const s=Pd(r,!0).put({[Cb]:e,value:n});return new wh(s).toPromise()}async function xR(r,e){const n=Pd(r,!1).get(e),s=await new wh(n).toPromise();return s===void 0?null:s.value}function a0(r,e){const n=Pd(r,!0).delete(e);return new wh(n).toPromise()}const NR=800,DR=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(CR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wR(),!this.activeServiceWorker)return;this.sender=new TR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await s0(e,pd,"1"),await a0(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>s0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Pd(o,!1).getAll();return new wh(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const OR=Rb;new Th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r,e){return e?da(e):(qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PR(r){return _b(r.auth,new Tg(r),r.bypassAuthState)}function kR(r){const{auth:e,user:n}=r;return qe(n,e,"internal-error"),uR(n,new Tg(r),r.bypassAuthState)}async function VR(r){const{auth:e,user:n}=r;return qe(n,e,"internal-error"),lR(n,new Tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return kR;default:Gr(this.auth,"internal-error")}}resolve(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Th(2e3,1e4);class uu extends Ib{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",Wf=new Map;class jR extends Ib{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const s=await zR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(r,e){const n=HR(e),s=qR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BR(r,e){Wf.set(r._key(),e)}function qR(r){return da(r._redirectPersistence)}function HR(r){return Xf(UR,r.config.apiKey,r.name)}async function FR(r,e,n=!1){if(Ci(r.app))return Promise.reject(Hr(r));const s=Ta(r),o=MR(s,e),f=await new jR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=10*60*1e3;class GR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!xb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}}function o0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(r,e={}){return No(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function WR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await YR(r);for(const n of e)try{if(ZR(n))return}catch{}Gr(r,"unauthorized-domain")}function ZR(r){const e=kp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!XR.test(n))return!1;if(QR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Th(3e4,6e4);function l0(){const r=Ts().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function eI(r){return new Promise((e,n)=>{var s,o,u;function f(){l0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l0(),n(bs(r,"network-request-failed"))},timeout:JR.get()})}if(!((o=(s=Ts().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ts().gapi)===null||u===void 0)&&u.load)f();else{const p=F2("iframefcb");return Ts()[p]=()=>{gapi.load?f():n(bs(r,"network-request-failed"))},hb(`${H2()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function tI(r){return Zf=Zf||eI(r),Zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Th(5e3,15e3),iI="__/auth/iframe",rI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(r){const e=r.config;qe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gg(e,rI):`https://${r.config.authDomain}/${iI}`,s={apiKey:e.apiKey,appName:r.name,v:Iu},o=aI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bh(s).slice(1)}`}async function lI(r){const e=await tI(r),n=Ts().gapi;return qe(n,r,"internal-error"),e.open({where:document.body,url:oI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bs(r,"network-request-failed"),p=Ts().setTimeout(()=>{u(f)},nI.get());function g(){Ts().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,hI=600,fI="_blank",dI="http://localhost";class u0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mI(r,e,n,s=cI,o=hI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},uI),{width:s.toString(),height:o.toString(),top:u,left:f}),_=ti().toLowerCase();n&&(p=rb(_)?fI:n),nb(_)&&(e=e||dI,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[z,L])=>`${x}${z}=${L},`,"");if(P2(_)&&p!=="_self")return pI(e||"",p),new u0(null);const N=window.open(e||"",p,T);qe(N,r,"popup-blocked");try{N.focus()}catch{}return new u0(N)}function pI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="__/auth/handler",_I="emulator/auth/handler",yI=encodeURIComponent("fac");async function c0(r,e,n,s,o,u){qe(r.config.authDomain,r,"auth-domain-config-required"),qe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Iu,eventId:o};if(e instanceof mb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",eC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,N]of Object.entries({}))f[T]=N}if(e instanceof Ah){const T=e.getScopes().filter(N=>N!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${yI}=${encodeURIComponent(g)}`:"";return`${vI(r)}?${bh(p).slice(1)}${_}`}function vI({config:r}){return r.emulator?gg(r,_I):`https://${r.authDomain}/${gI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=FR,this._overrideRedirectResult=BR}async _openPopup(e,n,s,o){var u;_a((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await c0(e,n,s,kp(),o);return mI(e,f,bg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await c0(e,n,s,kp(),o);return AR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_a(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await lI(e),s=new GR(e);return n.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tp,{type:Tp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Tp];f!==void 0&&n(!!f),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ub()||ib()||yg()}}const bI=EI;var h0="@firebase/auth",f0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(r){pu(new pl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;qe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cb(r)},_=new z2(s,o,u,g);return X2(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pu(new pl("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(s=>new TI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(h0,f0,AI(r)),Eo(h0,f0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=5*60,CI=jE("authIdTokenMaxAge")||SI;let d0=null;const RI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CI)return;const o=n==null?void 0:n.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function II(r=$E()){const e=dg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Q2(r,{popupRedirectResolver:bI,persistence:[OR,ER,Ab]}),s=jE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RI(u.toString());gR(n,f,()=>f(n.currentUser)),pR(n,p=>f(p))}}const o=LE("auth");return o&&W2(n,`http://${o}`),n}function xI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}B2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=bs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",xI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,Nb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,D){function M(){}M.prototype=D.prototype,U.D=D.prototype,U.prototype=new M,U.prototype.constructor=U,U.C=function(V,O,j){for(var k=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)k[Pt-2]=arguments[Pt];return D.prototype[O].apply(V,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,D,M){M||(M=0);var V=Array(16);if(typeof D=="string")for(var O=0;16>O;++O)V[O]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(O=0;16>O;++O)V[O]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=U.g[0],M=U.g[1],O=U.g[2];var j=U.g[3],k=D+(j^M&(O^j))+V[0]+3614090360&4294967295;D=M+(k<<7&4294967295|k>>>25),k=j+(O^D&(M^O))+V[1]+3905402710&4294967295,j=D+(k<<12&4294967295|k>>>20),k=O+(M^j&(D^M))+V[2]+606105819&4294967295,O=j+(k<<17&4294967295|k>>>15),k=M+(D^O&(j^D))+V[3]+3250441966&4294967295,M=O+(k<<22&4294967295|k>>>10),k=D+(j^M&(O^j))+V[4]+4118548399&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(O^D&(M^O))+V[5]+1200080426&4294967295,j=D+(k<<12&4294967295|k>>>20),k=O+(M^j&(D^M))+V[6]+2821735955&4294967295,O=j+(k<<17&4294967295|k>>>15),k=M+(D^O&(j^D))+V[7]+4249261313&4294967295,M=O+(k<<22&4294967295|k>>>10),k=D+(j^M&(O^j))+V[8]+1770035416&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(O^D&(M^O))+V[9]+2336552879&4294967295,j=D+(k<<12&4294967295|k>>>20),k=O+(M^j&(D^M))+V[10]+4294925233&4294967295,O=j+(k<<17&4294967295|k>>>15),k=M+(D^O&(j^D))+V[11]+2304563134&4294967295,M=O+(k<<22&4294967295|k>>>10),k=D+(j^M&(O^j))+V[12]+1804603682&4294967295,D=M+(k<<7&4294967295|k>>>25),k=j+(O^D&(M^O))+V[13]+4254626195&4294967295,j=D+(k<<12&4294967295|k>>>20),k=O+(M^j&(D^M))+V[14]+2792965006&4294967295,O=j+(k<<17&4294967295|k>>>15),k=M+(D^O&(j^D))+V[15]+1236535329&4294967295,M=O+(k<<22&4294967295|k>>>10),k=D+(O^j&(M^O))+V[1]+4129170786&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^O&(D^M))+V[6]+3225465664&4294967295,j=D+(k<<9&4294967295|k>>>23),k=O+(D^M&(j^D))+V[11]+643717713&4294967295,O=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(O^j))+V[0]+3921069994&4294967295,M=O+(k<<20&4294967295|k>>>12),k=D+(O^j&(M^O))+V[5]+3593408605&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^O&(D^M))+V[10]+38016083&4294967295,j=D+(k<<9&4294967295|k>>>23),k=O+(D^M&(j^D))+V[15]+3634488961&4294967295,O=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(O^j))+V[4]+3889429448&4294967295,M=O+(k<<20&4294967295|k>>>12),k=D+(O^j&(M^O))+V[9]+568446438&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^O&(D^M))+V[14]+3275163606&4294967295,j=D+(k<<9&4294967295|k>>>23),k=O+(D^M&(j^D))+V[3]+4107603335&4294967295,O=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(O^j))+V[8]+1163531501&4294967295,M=O+(k<<20&4294967295|k>>>12),k=D+(O^j&(M^O))+V[13]+2850285829&4294967295,D=M+(k<<5&4294967295|k>>>27),k=j+(M^O&(D^M))+V[2]+4243563512&4294967295,j=D+(k<<9&4294967295|k>>>23),k=O+(D^M&(j^D))+V[7]+1735328473&4294967295,O=j+(k<<14&4294967295|k>>>18),k=M+(j^D&(O^j))+V[12]+2368359562&4294967295,M=O+(k<<20&4294967295|k>>>12),k=D+(M^O^j)+V[5]+4294588738&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^O)+V[8]+2272392833&4294967295,j=D+(k<<11&4294967295|k>>>21),k=O+(j^D^M)+V[11]+1839030562&4294967295,O=j+(k<<16&4294967295|k>>>16),k=M+(O^j^D)+V[14]+4259657740&4294967295,M=O+(k<<23&4294967295|k>>>9),k=D+(M^O^j)+V[1]+2763975236&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^O)+V[4]+1272893353&4294967295,j=D+(k<<11&4294967295|k>>>21),k=O+(j^D^M)+V[7]+4139469664&4294967295,O=j+(k<<16&4294967295|k>>>16),k=M+(O^j^D)+V[10]+3200236656&4294967295,M=O+(k<<23&4294967295|k>>>9),k=D+(M^O^j)+V[13]+681279174&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^O)+V[0]+3936430074&4294967295,j=D+(k<<11&4294967295|k>>>21),k=O+(j^D^M)+V[3]+3572445317&4294967295,O=j+(k<<16&4294967295|k>>>16),k=M+(O^j^D)+V[6]+76029189&4294967295,M=O+(k<<23&4294967295|k>>>9),k=D+(M^O^j)+V[9]+3654602809&4294967295,D=M+(k<<4&4294967295|k>>>28),k=j+(D^M^O)+V[12]+3873151461&4294967295,j=D+(k<<11&4294967295|k>>>21),k=O+(j^D^M)+V[15]+530742520&4294967295,O=j+(k<<16&4294967295|k>>>16),k=M+(O^j^D)+V[2]+3299628645&4294967295,M=O+(k<<23&4294967295|k>>>9),k=D+(O^(M|~j))+V[0]+4096336452&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~O))+V[7]+1126891415&4294967295,j=D+(k<<10&4294967295|k>>>22),k=O+(D^(j|~M))+V[14]+2878612391&4294967295,O=j+(k<<15&4294967295|k>>>17),k=M+(j^(O|~D))+V[5]+4237533241&4294967295,M=O+(k<<21&4294967295|k>>>11),k=D+(O^(M|~j))+V[12]+1700485571&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~O))+V[3]+2399980690&4294967295,j=D+(k<<10&4294967295|k>>>22),k=O+(D^(j|~M))+V[10]+4293915773&4294967295,O=j+(k<<15&4294967295|k>>>17),k=M+(j^(O|~D))+V[1]+2240044497&4294967295,M=O+(k<<21&4294967295|k>>>11),k=D+(O^(M|~j))+V[8]+1873313359&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~O))+V[15]+4264355552&4294967295,j=D+(k<<10&4294967295|k>>>22),k=O+(D^(j|~M))+V[6]+2734768916&4294967295,O=j+(k<<15&4294967295|k>>>17),k=M+(j^(O|~D))+V[13]+1309151649&4294967295,M=O+(k<<21&4294967295|k>>>11),k=D+(O^(M|~j))+V[4]+4149444226&4294967295,D=M+(k<<6&4294967295|k>>>26),k=j+(M^(D|~O))+V[11]+3174756917&4294967295,j=D+(k<<10&4294967295|k>>>22),k=O+(D^(j|~M))+V[2]+718787259&4294967295,O=j+(k<<15&4294967295|k>>>17),k=M+(j^(O|~D))+V[9]+3951481745&4294967295,U.g[0]=U.g[0]+D&4294967295,U.g[1]=U.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,U.g[2]=U.g[2]+O&4294967295,U.g[3]=U.g[3]+j&4294967295}s.prototype.u=function(U,D){D===void 0&&(D=U.length);for(var M=D-this.blockSize,V=this.B,O=this.h,j=0;j<D;){if(O==0)for(;j<=M;)o(this,U,j),j+=this.blockSize;if(typeof U=="string"){for(;j<D;)if(V[O++]=U.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<D;)if(V[O++]=U[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=D},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var D=1;D<U.length-8;++D)U[D]=0;var M=8*this.o;for(D=U.length-8;D<U.length;++D)U[D]=M&255,M/=256;for(this.u(U),U=Array(16),D=M=0;4>D;++D)for(var V=0;32>V;V+=8)U[M++]=this.g[D]>>>V&255;return U};function u(U,D){var M=p;return Object.prototype.hasOwnProperty.call(M,U)?M[U]:M[U]=D(U)}function f(U,D){this.h=D;for(var M=[],V=!0,O=U.length-1;0<=O;O--){var j=U[O]|0;V&&j==D||(M[O]=j,V=!1)}this.g=M}var p={};function g(U){return-128<=U&&128>U?u(U,function(D){return new f([D|0],0>D?-1:0)}):new f([U|0],0>U?-1:0)}function _(U){if(isNaN(U)||!isFinite(U))return N;if(0>U)return Q(_(-U));for(var D=[],M=1,V=0;U>=M;V++)D[V]=U/M|0,M*=4294967296;return new f(D,0)}function T(U,D){if(U.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U.charAt(0)=="-")return Q(T(U.substring(1),D));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=_(Math.pow(D,8)),V=N,O=0;O<U.length;O+=8){var j=Math.min(8,U.length-O),k=parseInt(U.substring(O,O+j),D);8>j?(j=_(Math.pow(D,j)),V=V.j(j).add(_(k))):(V=V.j(M),V=V.add(_(k)))}return V}var N=g(0),x=g(1),z=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-Q(this).m();for(var U=0,D=1,M=0;M<this.g.length;M++){var V=this.i(M);U+=(0<=V?V:4294967296+V)*D,D*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(L(this))return"0";if(Y(this))return"-"+Q(this).toString(U);for(var D=_(Math.pow(U,6)),M=this,V="";;){var O=Ae(M,D).g;M=ie(M,O.j(D));var j=((0<M.g.length?M.g[0]:M.h)>>>0).toString(U);if(M=O,L(M))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function L(U){if(U.h!=0)return!1;for(var D=0;D<U.g.length;D++)if(U.g[D]!=0)return!1;return!0}function Y(U){return U.h==-1}r.l=function(U){return U=ie(this,U),Y(U)?-1:L(U)?0:1};function Q(U){for(var D=U.g.length,M=[],V=0;V<D;V++)M[V]=~U.g[V];return new f(M,~U.h).add(x)}r.abs=function(){return Y(this)?Q(this):this},r.add=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],V=0,O=0;O<=D;O++){var j=V+(this.i(O)&65535)+(U.i(O)&65535),k=(j>>>16)+(this.i(O)>>>16)+(U.i(O)>>>16);V=k>>>16,j&=65535,k&=65535,M[O]=k<<16|j}return new f(M,M[M.length-1]&-2147483648?-1:0)};function ie(U,D){return U.add(Q(D))}r.j=function(U){if(L(this)||L(U))return N;if(Y(this))return Y(U)?Q(this).j(Q(U)):Q(Q(this).j(U));if(Y(U))return Q(this.j(Q(U)));if(0>this.l(z)&&0>U.l(z))return _(this.m()*U.m());for(var D=this.g.length+U.g.length,M=[],V=0;V<2*D;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<U.g.length;O++){var j=this.i(V)>>>16,k=this.i(V)&65535,Pt=U.i(O)>>>16,Pe=U.i(O)&65535;M[2*V+2*O]+=k*Pe,Z(M,2*V+2*O),M[2*V+2*O+1]+=j*Pe,Z(M,2*V+2*O+1),M[2*V+2*O+1]+=k*Pt,Z(M,2*V+2*O+1),M[2*V+2*O+2]+=j*Pt,Z(M,2*V+2*O+2)}for(V=0;V<D;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=D;V<2*D;V++)M[V]=0;return new f(M,0)};function Z(U,D){for(;(U[D]&65535)!=U[D];)U[D+1]+=U[D]>>>16,U[D]&=65535,D++}function de(U,D){this.g=U,this.h=D}function Ae(U,D){if(L(D))throw Error("division by zero");if(L(U))return new de(N,N);if(Y(U))return D=Ae(Q(U),D),new de(Q(D.g),Q(D.h));if(Y(D))return D=Ae(U,Q(D)),new de(Q(D.g),D.h);if(30<U.g.length){if(Y(U)||Y(D))throw Error("slowDivide_ only works with positive integers.");for(var M=x,V=D;0>=V.l(U);)M=Ce(M),V=Ce(V);var O=Fe(M,1),j=Fe(V,1);for(V=Fe(V,2),M=Fe(M,2);!L(V);){var k=j.add(V);0>=k.l(U)&&(O=O.add(M),j=k),V=Fe(V,1),M=Fe(M,1)}return D=ie(U,O.j(D)),new de(O,D)}for(O=N;0<=U.l(D);){for(M=Math.max(1,Math.floor(U.m()/D.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=_(M),k=j.j(D);Y(k)||0<k.l(U);)M-=V,j=_(M),k=j.j(D);L(j)&&(j=x),O=O.add(j),U=ie(U,k)}return new de(O,U)}r.A=function(U){return Ae(this,U).h},r.and=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],V=0;V<D;V++)M[V]=this.i(V)&U.i(V);return new f(M,this.h&U.h)},r.or=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],V=0;V<D;V++)M[V]=this.i(V)|U.i(V);return new f(M,this.h|U.h)},r.xor=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],V=0;V<D;V++)M[V]=this.i(V)^U.i(V);return new f(M,this.h^U.h)};function Ce(U){for(var D=U.g.length+1,M=[],V=0;V<D;V++)M[V]=U.i(V)<<1|U.i(V-1)>>>31;return new f(M,U.h)}function Fe(U,D){var M=D>>5;D%=32;for(var V=U.g.length-M,O=[],j=0;j<V;j++)O[j]=0<D?U.i(j+M)>>>D|U.i(j+M+1)<<32-D:U.i(j+M);return new f(O,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,bo=f}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Db,Zc,Ob,Jf,jp,Mb,Pb,kb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var $=c[I];if(!($ in E))break e;E=E[$]}c=c[c.length-1],I=E[c],y=y(I),y!=I&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,I=!1,$={next:function(){if(!I&&E<c.length){var te=E++;return{value:y(te,c[te]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,E){return c.call.apply(c.bind,arguments)}function N(c,y,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function x(c,y,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:N,x.apply(null,arguments)}function z(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function L(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,$,te){for(var ye=Array(arguments.length-2),at=2;at<arguments.length;at++)ye[at-2]=arguments[at];return y.prototype[$].apply(I,ye)}}function Y(c){const y=c.length;if(0<y){const E=Array(y);for(let I=0;I<y;I++)E[I]=c[I];return E}return[]}function Q(c,y){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(g(I)){const $=c.length||0,te=I.length||0;c.length=$+te;for(let ye=0;ye<te;ye++)c[$+ye]=I[ye]}else c.push(I)}}class ie{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function de(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var Ce=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Fe(c,y,E){for(const I in c)y.call(E,c[I],I,c)}function U(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function D(c){const y={};for(const E in c)y[E]=c[E];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let E,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(E in I)c[E]=I[E];for(let te=0;te<M.length;te++)E=M[te],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function O(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function j(c){p.setTimeout(()=>{throw c},0)}function k(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,E){const I=Pe.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new ie(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ge=!1,Oe=new Pt,C=()=>{const c=p.Promise.resolve(void 0);me=()=>{c.then(oe)}};var oe=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(E){j(E)}var y=Pe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};p.addEventListener("test",E,y),p.removeEventListener("test",E,y)}catch{}return c}();function $e(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Ce){e:{try{Ae(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$e.aa.h.call(this)}}L($e,he);var xe={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Cn(c,y,E,I,$){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=$,this.key=++ve,this.da=this.fa=!1}function xi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function br(c){this.src=c,this.g={},this.h=0}br.prototype.add=function(c,y,E,I,$){var te=c.toString();c=this.g[te],c||(c=this.g[te]=[],this.h++);var ye=Ni(c,y,I,$);return-1<ye?(y=c[ye],E||(y.fa=!1)):(y=new Cn(y,this.src,te,!!I,$),y.fa=E,c.push(y)),y};function Rs(c,y){var E=y.type;if(E in c.g){var I=c.g[E],$=Array.prototype.indexOf.call(I,y,void 0),te;(te=0<=$)&&Array.prototype.splice.call(I,$,1),te&&(xi(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ni(c,y,E,I){for(var $=0;$<c.length;++$){var te=c[$];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==I)return $}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),Tr={};function Ar(c,y,E,I,$){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ar(c,y[te],E,I,$);return null}return E=Di(E),c&&c[kt]?c.K(y,E,_(I)?!!I.capture:!1,$):hi(c,y,E,!1,I,$)}function hi(c,y,E,I,$,te){if(!y)throw Error("Invalid event type");var ye=_($)?!!$.capture:!!$,at=wa(c);if(at||(c[Qr]=at=new br(c)),E=at.add(y,E,I,ye,te),E.proxy)return E;if(I=Vu(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)_e||($=ye),$===void 0&&($=!1),c.addEventListener(y.toString(),I,$);else if(c.attachEvent)c.attachEvent(Is(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Vu(){function c(E){return y.call(c.src,c.listener,E)}const y=Lu;return c}function Mo(c,y,E,I,$){if(Array.isArray(y))for(var te=0;te<y.length;te++)Mo(c,y[te],E,I,$);else I=_(I)?!!I.capture:!!I,E=Di(E),c&&c[kt]?(c=c.i,y=String(y).toString(),y in c.g&&(te=c.g[y],E=Ni(te,E,I,$),-1<E&&(xi(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete c.g[y],c.h--)))):c&&(c=wa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ni(y,E,I,$)),(E=-1<c?y[c]:null)&&Aa(E))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])Rs(y.i,c);else{var E=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(E,I,c.capture):y.detachEvent?y.detachEvent(Is(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=wa(y))?(Rs(E,c),E.h==0&&(E.src=null,y[Qr]=null)):xi(c)}}}function Is(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function Lu(c,y){if(c.da)c=!0;else{y=new $e(y,this);var E=c.listener,I=c.ha||c.src;c.fa&&Aa(c),c=E.call(I,y)}return c}function wa(c){return c=c[Qr],c instanceof br?c:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Di(c){return typeof c=="function"?c:(c[Xr]||(c[Xr]=function(y){return c.handleEvent(y)}),c[Xr])}function Vt(){fe.call(this),this.i=new br(this),this.M=this,this.F=null}L(Vt,fe),Vt.prototype[kt]=!0,Vt.prototype.removeEventListener=function(c,y,E,I){Mo(this,c,y,E,I)};function yt(c,y){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var $=y;y=new he(I,c),V(y,$)}if($=!0,E)for(var te=E.length-1;0<=te;te--){var ye=y.g=E[te];$=ii(ye,I,!0,y)&&$}if(ye=y.g=c,$=ii(ye,I,!0,y)&&$,$=ii(ye,I,!1,y)&&$,E)for(te=0;te<E.length;te++)ye=y.g=E[te],$=ii(ye,I,!1,y)&&$}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],I=0;I<E.length;I++)xi(E[I]);delete c.g[y],c.h--}}this.F=null},Vt.prototype.K=function(c,y,E,I){return this.i.add(String(c),y,!1,E,I)},Vt.prototype.L=function(c,y,E,I){return this.i.add(String(c),y,!0,E,I)};function ii(c,y,E,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,te=0;te<y.length;++te){var ye=y[te];if(ye&&!ye.da&&ye.capture==E){var at=ye.listener,Xt=ye.ha||ye.src;ye.fa&&Rs(c.i,ye),$=at.call(Xt,I)!==!1&&$}}return $&&!I.defaultPrevented}function Ht(c,y,E){if(typeof c=="function")E&&(c=x(c,E));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function wr(c){c.g=Ht(()=>{c.g=null,c.i&&(c.i=!1,wr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wr extends fe{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){fe.call(this),this.h=c,this.g={}}L(Wi,fe);var xs=[];function Sr(c){Fe(c.g,function(y,E){this.g.hasOwnProperty(E)&&Aa(y)},c),c.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),Sr(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=p.JSON.stringify,Sa=p.JSON.parse,Ns=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function Vo(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){he.call(this,"d")}L(fi,he);function Ca(){he.call(this,"c")}L(Ca,he);var Mi={},Lo=null;function Zr(){return Lo=Lo||new Vt}Mi.La="serverreachability";function Ra(c){he.call(this,Mi.La,c)}L(Ra,he);function Jr(c){const y=Zr();yt(y,new Ra(y))}Mi.STAT_EVENT="statevent";function Cr(c,y){he.call(this,Mi.STAT_EVENT,c),this.stat=y}L(Cr,he);function vt(c){const y=Zr();yt(y,new Cr(y,c))}Mi.Ma="timingevent";function Yt(c,y){he.call(this,Mi.Ma,c),this.size=y}L(Yt,he);function Ft(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function Uo(c,y,E,I,$,te){c.info(function(){if(c.g)if(te)for(var ye="",at=te.split("&"),Xt=0;Xt<at.length;Xt++){var ot=at[Xt].split("=");if(1<ot.length){var ln=ot[0];ot=ot[1];var Wt=ln.split("_");ye=2<=Wt.length&&Wt[1]=="type"?ye+(ln+"="+ot+"&"):ye+(ln+"=redacted&")}}else ye=null;else ye=te;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+y+`
`+E+`
`+ye})}function Uu(c,y,E,I,$,te,ye){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+y+`
`+E+`
`+te+" "+ye})}function Ji(c,y,E,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+er(c,E)+(I?" "+I:"")})}function Rr(c,y){c.info(function(){return"TIMEOUT: "+y})}di.prototype.info=function(){};function er(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ye=1;ye<$.length;ye++)$[ye]=""}}}}return Oi(E)}catch{return y}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}L(nr,Po),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function $t(c,y,E,I){this.j=c,this.i=y,this.l=E,this.R=I||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nt}function nt(){this.i=null,this.g="",this.h=!1}var dn={},sn={};function xt(c,y,E){c.L=1,c.v=or(Dt(y)),c.m=E,c.P=!0,mi(c,null)}function mi(c,y){c.F=Date.now(),pi(c),c.A=Dt(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Vs(E.i,"t",I),c.C=0,E=c.j.J,c.h=new nt,c.g=Cl(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Wr(x(c.Y,c,c.g),c.O)),y=c.U,E=c.g,I=c.ca;var $="readystatechange";Array.isArray($)||($&&(xs[0]=$.toString()),$=xs);for(var te=0;te<$.length;te++){var ye=Ar(E,$[te],I||y.handleEvent,!1,y.h||y);if(!ye)break;y.g[ye.key]=ye}y=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Jr(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}$t.prototype.ca=function(c){c=c.target;const y=this.M;y&&gn(c)==3?y.j():this.Y(c)},$t.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=gn(this.g);var y=this.g.Ba();const Zt=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||Wt!=4||y==7||(y==8||0>=Zt?Jr(3):Jr(2)),rr(this);var E=this.g.Z();this.X=E;t:if(Ir(this)){var I=Al(this.g);c="";var $=I.length,te=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Pn(this);var ye="";break t}this.h.i=new p.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(te&&y==$-1)});I.length=0,this.h.g+=c,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=E==200,Uu(this.i,this.u,this.A,this.l,this.R,Wt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Xt=this.g;if((at=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(at)){var ot=at;break t}}ot=null}if(E=ot)Ji(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,E);else{this.o=!1,this.s=3,vt(12),an(this),Pn(this);break e}}if(this.P){E=!0;let un;for(;!this.J&&this.C<ye.length;)if(un=ir(this,ye),un==sn){Wt==4&&(this.s=4,vt(14),E=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(un==dn){this.s=4,vt(15),Ji(this.i,this.l,ye,"[Invalid Chunk]"),E=!1;break}else Ji(this.i,this.l,un,null),xr(this,un);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ye.length!=0||this.h.h||(this.s=1,vt(16),E=!1),this.o=this.o&&E,!E)Ji(this.i,this.l,ye,"[Invalid Chunked Response]"),an(this),Pn(this);else if(0<ye.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Hs(ln),ln.M=!0,vt(11))}}else Ji(this.i,this.l,ye,null),xr(this,ye);Wt==4&&an(this),this.o&&!this.J&&(Wt==4?Ko(this.j,this):(this.o=!1,pi(this)))}else wl(this.g),E==400&&0<ye.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),an(this),Pn(this)}}}catch{}finally{}};function Ir(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ir(c,y){var E=c.C,I=y.indexOf(`
`,E);return I==-1?sn:(E=Number(y.substring(E,I)),isNaN(E)?dn:(I+=1,I+E>y.length?sn:(y=y.slice(I,I+E),c.C=I+E,y)))}$t.prototype.cancel=function(){this.J=!0,an(this)};function pi(c){c.S=Date.now()+c.I,jo(c,c.I)}function jo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ft(x(c.ba,c),y)}function rr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}$t.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Rr(this.i,this.A),this.L!=2&&(Jr(),vt(17)),an(this),this.s=2,Pn(this)):jo(this,this.S-c)};function Pn(c){c.j.G==0||c.J||Ko(c.j,c)}function an(c){rr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Sr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function xr(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||xa(E.h,c))){if(!c.K&&xa(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Fs(E),zs(E);else break e;Go(E),vt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ft(x(E.Za,E),6e3));if(1>=Os(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ji(E,11)}else if((c.K||E.g==c)&&Fs(E),!Z(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let ot=$[y];if(E.T=ot[0],ot=ot[1],E.G==2)if(ot[0]=="c"){E.K=ot[1],E.ia=ot[2];const ln=ot[3];ln!=null&&(E.la=ln,E.j.info("VER="+E.la));const Wt=ot[4];Wt!=null&&(E.Aa=Wt,E.j.info("SVER="+E.Aa));const Zt=ot[5];Zt!=null&&typeof Zt=="number"&&0<Zt&&(I=1.5*Zt,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const un=c.g;if(un){const zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var te=I.h;te.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ms(te,te.h),te.h=null))}if(I.D){const La=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(I.ya=La,st(I.I,I.D,La))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ye=c;if(I.qa=Yo(I,I.J?I.ia:null,I.W),ye.K){Rn(I.h,ye);var at=ye,Xt=I.L;Xt&&(at.I=Xt),at.B&&(rr(at),pi(at)),I.g=ye}else qs(I);0<E.i.length&&Bs(E)}else ot[0]!="stop"&&ot[0]!="close"||ji(E,7);else E.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ji(E,7):Ma(E):ot[0]!="noop"&&E.l&&E.l.ta(ot),E.v=0)}}Jr(4)}catch{}}var Ia=class{constructor(c,y){this.g=c,this.map=y}};function sr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Os(c){return c.h?1:c.g?c.g.size:0}function xa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ms(c,y){c.g?c.g.add(y):c.h=y}function Rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}sr.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Na(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return Y(c.i)}function bl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],E=c.length,I=0;I<E;I++)y.push(c[I]);return y}y=[],E=0;for(I in c)y[E++]=c[I];return y}function Ps(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const I in c)y[E++]=I;return y}}}function Da(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Ps(c),I=bl(c),$=I.length,te=0;te<$;te++)y.call(void 0,I[te],E&&E[te],c)}var In=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kn(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),$=null;if(0<=I){var te=c[E].substring(0,I);$=c[E].substring(I+1)}else te=c[E];y(te,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.s),this.l=c.l;var y=c.i,E=new xn;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),on(this,E),this.m=c.m}else c&&(y=String(c).match(In))?(this.h=!1,Nr(this,y[1]||"",!0),this.o=mn(y[2]||""),this.g=mn(y[3]||"",!0),ar(this,y[4]),this.l=mn(y[5]||"",!0),on(this,y[6]||"",!0),this.m=mn(y[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Dr(y,lr,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dr(y,lr,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Dr(E,E.charAt(0)=="/"?Tl:ks,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Dr(E,Oa)),c.join("")};function Dt(c){return new St(c)}function Nr(c,y,E){c.j=E?mn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function on(c,y,E){y instanceof xn?(c.i=y,Bo(c.i,c.h)):(E||(y=Dr(y,ki)),c.i=new xn(y,c.h))}function st(c,y,E){c.i.set(y,E)}function or(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dr(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,zo),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lr=/[#\/\?@]/g,ks=/[#\?:]/g,Tl=/[#\?]/g,ki=/[#\?@]/g,Oa=/#/g;function xn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&kn(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=xn.prototype,r.add=function(c,y){Vn(this),this.i=null,c=$n(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ur(c,y){Vn(c),y=$n(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ri(c,y){return Vn(c),y=$n(c,y),c.g.has(y)}r.forEach=function(c,y){Vn(this),this.g.forEach(function(E,I){E.forEach(function($){c.call(y,$,I,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let I=0;I<y.length;I++){const $=c[I];for(let te=0;te<$.length;te++)E.push(y[I])}return E},r.V=function(c){Vn(this);let y=[];if(typeof c=="string")ri(this,c)&&(y=y.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},r.set=function(c,y){return Vn(this),this.i=null,c=$n(this,c),ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vs(c,y,E){ur(c,y),0<E.length&&(c.i=null,c.g.set($n(c,y),Y(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var I=y[E];const te=encodeURIComponent(String(I)),ye=this.V(I);for(I=0;I<ye.length;I++){var $=te;ye[I]!==""&&($+="="+encodeURIComponent(String(ye[I]))),c.push($)}}return this.i=c.join("&")};function $n(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bo(c,y){y&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(E,I){var $=I.toLowerCase();I!=$&&(ur(this,I),Vs(this,$,E))},c)),c.j=y}function ts(c,y){const E=new di;if(p.Image){const I=new Image;I.onload=z(pn,E,"TestLoadImage: loaded",!0,y,I),I.onerror=z(pn,E,"TestLoadImage: error",!1,y,I),I.onabort=z(pn,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=z(pn,E,"TestLoadImage: timeout",!1,y,I),p.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function gi(c,y){const E=new di,I=new AbortController,$=setTimeout(()=>{I.abort(),pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(te=>{clearTimeout($),te.ok?pn(E,"TestPingServer: ok",!0,y):pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),pn(E,"TestPingServer: error",!1,y)})}function pn(c,y,E,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(E)}catch{}}function Ls(){this.g=new Ns}function Vi(c,y,E){const I=E||"";try{Da(c,function($,te){let ye=$;_($)&&(ye=Oi($)),y.push(I+te+"="+encodeURIComponent(ye))})}catch($){throw y.push(I+"type="+encodeURIComponent("_badmap")),$}}function cr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(cr,Po),cr.prototype.g=function(){return new _i(this.l,this.j)},cr.prototype.i=function(c){return function(){return c}}({});function _i(c,y){Vt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(_i,Vt),r=_i.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Us(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Us(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):si(this),this.readyState==3&&Us(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return Fe(c,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function Qt(c,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=qo(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):st(c,y,E))}function ht(c){Vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(ht,Vt);var ns=/^https?$/i,Or=["POST","PUT"];r=ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?ko(this.o):ko(tr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(te){Ho(this,te);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)E.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())E.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),$=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Or,y,void 0))||I||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of E)this.g.setRequestHeader(te,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(c),this.u=!1}catch(te){Ho(this,te)}};function Ho(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fr(c),Li(c)}function fr(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?is(this):this.bb())},r.bb=function(){is(this)};function is(c){if(c.h&&typeof f<"u"&&(!c.v[1]||gn(c)!=4||c.Z()!=2)){if(c.u&&gn(c)==4)Ht(c.Ea,0,c);else if(yt(c,"readystatechange"),gn(c)==4){c.h=!1;try{const ye=c.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=ye===0){var $=String(c.D).match(In)[1]||null;!$&&p.self&&p.self.location&&($=p.self.location.protocol.slice(0,-1)),I=!ns.test($?$.toLowerCase():"")}E=I}if(E)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var te=2<gn(c)?c.g.statusText:""}catch{te=""}c.l=te+" ["+c.Z()+"]",fr(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){rs(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||yt(c,"ready");try{E.onreadystatechange=I}catch{}}}function rs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function gn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Sa(y)}};function Al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wl(c){const y={};c=(c.g&&2<=gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Z(c[I]))continue;var E=O(c[I]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[$]||[];y[$]=te,te.push(E)}U(y,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function js(c){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,c),this.cb=ss("retryDelaySeedMs",1e4,c),this.Wa=ss("forwardChannelMaxRetries",2,c),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sr(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=js.prototype,r.la=8,r.G=1,r.connect=function(c,y,E,I){vt(0),this.W=c,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Yo(this,null,this.W),Bs(this)};function Ma(c){if(Pa(c),c.G==3){var y=c.U++,E=Dt(c.I);if(st(E,"SID",c.K),st(E,"RID",y),st(E,"TYPE","terminate"),as(c,E),y=new $t(c,c.j,y),y.L=2,y.v=or(Dt(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=y.v,E=!0),E||(y.g=Cl(y.j,null),y.g.ea(y.v)),y.F=Date.now(),pi(y)}Sl(c)}function zs(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function Pa(c){zs(c),c.u&&(p.clearTimeout(c.u),c.u=null),Fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Bs(c){if(!Ds(c.h)&&!c.s){c.s=!0;var y=c.Ga;me||C(),ge||(me(),ge=!0),Oe.add(y,c),c.B=0}}function ju(c,y){return Os(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ft(x(c.Ga,c,y),Ui(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new $t(this,this.j,c);let te=this.o;if(this.S&&(te?(te=D(te),V(te,this.S)):te=this.S),this.m!==null||this.O||($.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=$o(this,$,y),E=Dt(this.I),st(E,"RID",c),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),as(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(qo(te)))+"&"+y:this.m&&Qt(E,this.m,te)),Ms(this.h,$),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",y),st(E,"SID","null"),$.T=!0,xt($,E,null)):xt($,E,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||Ds(this.h)||Fo(this))};function Fo(c,y){var E;y?E=y.l:E=c.U++;const I=Dt(c.I);st(I,"SID",c.K),st(I,"RID",E),st(I,"AID",c.T),as(c,I),c.m&&c.o&&Qt(I,c.m,c.o),E=new $t(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$o(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ms(c.h,E),xt(E,I,y)}function as(c,y){c.H&&Fe(c.H,function(E,I){st(y,I,E)}),c.l&&Da({},function(E,I){st(y,I,E)})}function $o(c,y,E){E=Math.min(c.i.length,E);var I=c.l?x(c.l.Na,c.l,c):null;e:{var $=c.i;let te=-1;for(;;){const ye=["count="+E];te==-1?0<E?(te=$[0].g,ye.push("ofs="+te)):te=0:ye.push("ofs="+te);let at=!0;for(let Xt=0;Xt<E;Xt++){let ot=$[Xt].g;const ln=$[Xt].map;if(ot-=te,0>ot)te=Math.max(0,$[Xt].g-100),at=!1;else try{Vi(ln,ye,"req"+ot+"_")}catch{I&&I(ln)}}if(at){I=ye.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,I}function qs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;me||C(),ge||(me(),ge=!0),Oe.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ft(x(c.Fa,c),Ui(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ft(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),zs(this),ka(this))};function Hs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ka(c){c.g=new $t(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dt(c.qa);st(y,"RID","rpc"),st(y,"SID",c.K),st(y,"AID",c.T),st(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(y,"TO",c.ja),st(y,"TYPE","xmlhttp"),as(c,y),c.m&&c.o&&Qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=or(Dt(y)),E.m=null,E.P=!0,mi(E,c)}r.Za=function(){this.C!=null&&(this.C=null,zs(this),Go(this),vt(19))};function Fs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Ko(c,y){var E=null;if(c.g==y){Fs(c),Hs(c),c.g=null;var I=2}else if(xa(c.h,y))E=y.D,Rn(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;I=Zr(),yt(I,new Yt(I,E)),Bs(c)}else qs(c);else if($=y.s,$==3||$==0&&0<y.X||!(I==1&&ju(c,y)||I==2&&Go(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),$){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Ui(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var E=x(c.fb,c),I=c.Xa;const $=!I;I=new St(I||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Nr(I,"https"),or(I),$?ts(I.toString(),E):gi(I.toString(),E)}else vt(2);c.G=0,c.l&&c.l.sa(y),Sl(c),Pa(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Sl(c){if(c.G=0,c.ka=[],c.l){const y=Na(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ka,y),Q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Yo(c,y,E){var I=E instanceof St?Dt(E):new St(E);if(I.g!="")y&&(I.g=y+"."+I.g),ar(I,I.s);else{var $=p.location;I=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var te=new St(null);I&&Nr(te,I),y&&(te.g=y),$&&ar(te,$),E&&(te.l=E),I=te}return E=c.D,y=c.ya,E&&y&&st(I,E,y),st(I,"VER",c.la),as(c,I),I}function Cl(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new cr({eb:E})):new ht(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rl(){}r=Rl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Va(){}Va.prototype.g=function(c,y){return new Ln(c,y)};function Ln(c,y){Vt.call(this),this.g=new js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new dr(this)}L(Ln,Vt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Ma(this.g)},Ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Oi(c),c=E);y.i.push(new Ia(y.Ya++,c)),y.G==3&&Bs(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Ma(this.g),delete this.g,Ln.aa.N.call(this)};function Qo(c){fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Qo,fi);function Xo(){Ca.call(this),this.status=1}L(Xo,Ca);function dr(c){this.g=c}L(dr,Rl),dr.prototype.ua=function(){yt(this.g,"a")},dr.prototype.ta=function(c){yt(this.g,new Qo(c))},dr.prototype.sa=function(c){yt(this.g,new Xo)},dr.prototype.ra=function(){yt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,kb=function(){return new Va},Pb=function(){return Zr()},Mb=Mi,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Jf=es,Pi.COMPLETE="complete",Ob=Pi,Vo.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Zc=Vo,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Db=ht}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",g0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new hg("@firebase/firestore");function su(){return _l.logLevel}function Se(r,...e){if(_l.logLevel<=lt.DEBUG){const n=e.map(Ag);_l.debug(`Firestore (${Du}): ${r}`,...n)}}function ya(r,...e){if(_l.logLevel<=lt.ERROR){const n=e.map(Ag);_l.error(`Firestore (${Du}): ${r}`,...n)}}function gu(r,...e){if(_l.logLevel<=lt.WARN){const n=e.map(Ag);_l.warn(`Firestore (${Du}): ${r}`,...n)}}function Ag(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vb(r,s,n)}function Vb(r,e,n){let s=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ya(s),new Error(s)}function Et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Vb(e,o,s)}function We(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Ea{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OI{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new fl;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fl,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fl)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et(typeof s.accessToken=="string",31837,{l:s}),new Lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class MI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const s=u=>{u.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function et(r,e){return r<e?-1:r>e?1:0}function zp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return et(s,o);{const u=Ub(),f=LI(u.encode(y0(r,n)),u.encode(y0(e,n)));return f!==0?f:et(s,o)}}n+=s>65535?2:1}return et(r.length,e.length)}function y0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function LI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return et(r[n],e[n]);return et(r.length,e.length)}function _u(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-62135596800,E0=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*E0);return new An(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new An(0,0))}static max(){return new Qe(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__name__";class Es{constructor(e,n,s){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&He(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Es.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return et(e.length,n.length)}static compareSegments(e,n){const s=Es.isNumericId(e),o=Es.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Es.extractNumericId(e).compare(Es.extractNumericId(n)):zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Lt extends Es{construct(e,n,s){return new Lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const UI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Es{construct(e,n,s){return new Hn(e,n,s)}static isValidIdentifier(e){return UI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new Hn([b0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ie(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ie(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new Ie(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(n)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Lt.fromString(e))}static fromName(e){return new ke(Lt.fromString(e).popFirst(5))}static empty(){return new ke(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=-1;function jI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Qe.fromTimestamp(s===1e9?new An(n+1,0):new An(n,s));return new wo(o,ke.empty(),e)}function zI(r){return new wo(r.readTime,r.key,fh)}class wo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wo(Qe.min(),ke.empty(),fh)}static max(){return new wo(Qe.max(),ke.empty(),fh)}}function BI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(r.documentKey,e.documentKey),n!==0?n:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==qI)throw r;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,s)=>{n(e)})}static reject(e){return new ue((n,s)=>{s(e)})}static waitFor(e){return new ue((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next(o=>o?ue.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ue((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(T=>{f[_]=T,++p,p===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new ue((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function FI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}kd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Vd(r){return r==null}function _d(r){return r===0&&1/r==-1/0}function $I(r){return typeof r=="number"&&Number.isInteger(r)&&!_d(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="";function GI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=T0(e)),e=KI(r.get(n),e);return T0(e)}function KI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case zb:n+="";break;default:n+=u}}return n}function T0(r){return r+zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Do(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qn.RED,this.left=o??qn.EMPTY,this.right=u??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Xi([])}unionWith(e){let n=new wn(Hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qb("Invalid base64 string: "+u):u}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const YI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(r){if(Et(!!r,39018),typeof r=="string"){let e=0;const n=YI.exec(r);if(Et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rn(r.seconds),nanos:rn(r.nanos)}}function rn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Co(r){return typeof r=="string"?Fn.fromBase64String(r):Fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="server_timestamp",Fb="__type__",$b="__previous_value__",Gb="__local_write_time__";function Sg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fb])===null||n===void 0?void 0:n.stringValue)===Hb}function Ld(r){const e=r.mapValue.fields[$b];return Sg(e)?Ld(e):e}function dh(r){const e=So(r.mapValue.fields[Gb].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,s,o,u,f,p,g,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const yd="(default)";class mh{constructor(e,n){this.projectId=e,this.database=n||yd}static empty(){return new mh("","")}get isDefaultDatabase(){return this.database===yd}isEqual(e){return e instanceof mh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__type__",XI="__max__",Ff={mapValue:{}},Yb="__vector__",vd="value";function Ro(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:ZI(r)?9007199254740991:WI(r)?10:11:He(28295,{value:r})}function Cs(r,e){if(r===e)return!0;const n=Ro(r);if(n!==Ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return dh(r).isEqual(dh(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=So(o.timestampValue),p=So(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Co(o.bytesValue).isEqual(Co(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return rn(o.geoPointValue.latitude)===rn(u.geoPointValue.latitude)&&rn(o.geoPointValue.longitude)===rn(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return rn(o.integerValue)===rn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=rn(o.doubleValue),p=rn(u.doubleValue);return f===p?_d(f)===_d(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return _u(r.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(A0(f)!==A0(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Cs(f[g],p[g])))return!1;return!0}(r,e);default:return He(52216,{left:r})}}function ph(r,e){return(r.values||[]).find(n=>Cs(n,e))!==void 0}function yu(r,e){if(r===e)return 0;const n=Ro(r),s=Ro(e);if(n!==s)return et(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=rn(u.integerValue||u.doubleValue),g=rn(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return S0(r.timestampValue,e.timestampValue);case 4:return S0(dh(r),dh(e));case 5:return zp(r.stringValue,e.stringValue);case 6:return function(u,f){const p=Co(u),g=Co(f);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=et(p[_],g[_]);if(T!==0)return T}return et(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=et(rn(u.latitude),rn(f.latitude));return p!==0?p:et(rn(u.longitude),rn(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return C0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,g,_,T;const N=u.fields||{},x=f.fields||{},z=(p=N[vd])===null||p===void 0?void 0:p.arrayValue,L=(g=x[vd])===null||g===void 0?void 0:g.arrayValue,Y=et(((_=z==null?void 0:z.values)===null||_===void 0?void 0:_.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:C0(z,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ff.mapValue&&f===Ff.mapValue)return 0;if(u===Ff.mapValue)return 1;if(f===Ff.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=f.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let N=0;N<g.length&&N<T.length;++N){const x=zp(g[N],T[N]);if(x!==0)return x;const z=yu(p[g[N]],_[T[N]]);if(z!==0)return z}return et(g.length,T.length)}(r.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function S0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const n=So(r),s=So(e),o=et(n.seconds,s.seconds);return o!==0?o:et(n.nanos,s.nanos)}function C0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yu(n[o],s[o]);if(u)return u}return et(n.length,s.length)}function vu(r){return Bp(r)}function Bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=So(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Co(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ke.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bp(n.fields[f])}`;return o+"}"}(r.mapValue):He(61005,{value:r})}function ed(r){switch(Ro(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(r);return e?16+ed(e):16;case 5:return 2*r.stringValue.length;case 6:return Co(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ed(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Do(s.fields,(u,f)=>{o+=u.length+ed(f)}),o}(r.mapValue);default:throw He(13486,{value:r})}}function R0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qp(r){return!!r&&"integerValue"in r}function Cg(r){return!!r&&"arrayValue"in r}function I0(r){return!!r&&"nullValue"in r}function x0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function td(r){return!!r&&"mapValue"in r}function WI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kb])===null||n===void 0?void 0:n.stringValue)===Yb}function rh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Do(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=rh(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rh(r.arrayValue.values[n]);return e}return Object.assign({},r)}function ZI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(n)}setAll(e){let n=Hn.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=rh(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];td(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Do(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Ri(rh(this.value))}}function Qb(r){const e=[];return Do(r.fields,(n,s)=>{const o=new Hn([n]);if(td(s)){const u=Qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ei(e,0,Qe.min(),Qe.min(),Qe.min(),Ri.empty(),0)}static newFoundDocument(e,n,s,o){return new ei(e,1,n,Qe.min(),s,o,0)}static newNoDocument(e,n){return new ei(e,2,n,Qe.min(),Qe.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Qe.min(),Qe.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.position=e,this.inclusive=n}}function N0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ke.comparator(ke.fromName(f.referenceValue),n.key):s=yu(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function D0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Cs(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function JI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{}class fn extends Xb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tx(e,n,s):n==="array-contains"?new rx(e,s):n==="in"?new sx(e,s):n==="not-in"?new ax(e,s):n==="array-contains-any"?new ox(e,s):new fn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nx(e,s):new ix(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yu(n,this.value)):n!==null&&Ro(this.value)===Ro(n)&&this.matchesComparison(yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends Xb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kr(e,n)}matches(e){return Wb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Wb(r){return r.op==="and"}function Zb(r){return ex(r)&&Wb(r)}function ex(r){for(const e of r.filters)if(e instanceof Kr)return!1;return!0}function Hp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+vu(r.value);if(Zb(r))return r.filters.map(e=>Hp(e)).join(",");{const e=r.filters.map(n=>Hp(n)).join(",");return`${r.op}(${e})`}}function Jb(r,e){return r instanceof fn?function(s,o){return o instanceof fn&&s.op===o.op&&s.field.isEqual(o.field)&&Cs(s.value,o.value)}(r,e):r instanceof Kr?function(s,o){return o instanceof Kr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&Jb(f,o.filters[p]),!0):!1}(r,e):void He(19439)}function eT(r){return r instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${vu(n.value)}`}(r):r instanceof Kr?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(r):"Filter"}class tx extends fn{constructor(e,n,s){super(e,n,s),this.key=ke.fromName(s.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class nx extends fn{constructor(e,n){super(e,"in",n),this.keys=tT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ix extends fn{constructor(e,n){super(e,"not-in",n),this.keys=tT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ke.fromName(s.referenceValue))}class rx extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&ph(n.arrayValue,this.value)}}class sx extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class ax extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ph(this.value.arrayValue,n)}}class ox extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ph(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Ie=null}}function O0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new lx(r,e,n,s,o,u,f)}function Rg(r){const e=We(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Hp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vu(s)).join(",")),e.Ie=n}return e.Ie}function Ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Jb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!D0(r.startAt,e.startAt)&&D0(r.endAt,e.endAt)}function Fp(r){return ke.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ux(r,e,n,s,o,u,f,p){return new Sh(r,e,n,s,o,u,f,p)}function xg(r){return new Sh(r)}function M0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nT(r){return r.collectionGroup!==null}function sh(r){const e=We(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new wn(Hn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new bd(u,s))}),n.has(Hn.keyField().canonicalString())||e.Ee.push(new bd(Hn.keyField(),s))}return e.Ee}function As(r){const e=We(r);return e.de||(e.de=cx(e,sh(r))),e.de}function cx(r,e){if(r.limitType==="F")return O0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bd(o.field,u)});const n=r.endAt?new Ed(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ed(r.startAt.position,r.startAt.inclusive):null;return O0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function $p(r,e){const n=r.filters.concat([e]);return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gp(r,e,n){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ud(r,e){return Ig(As(r),As(e))&&r.limitType===e.limitType}function iT(r){return`${Rg(As(r))}|lt:${r.limitType}`}function au(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>eT(o)).join(", ")}]`),Vd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vu(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vu(o)).join(",")),`Target(${s})`}(As(r))}; limitType=${r.limitType})`}function jd(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ke.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of sh(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,g){const _=N0(f,p,g);return f.inclusive?_<=0:_<0}(s.startAt,sh(s),o)||s.endAt&&!function(f,p,g){const _=N0(f,p,g);return f.inclusive?_>=0:_>0}(s.endAt,sh(s),o))}(r,e)}function hx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rT(r){return(e,n)=>{let s=!1;for(const o of sh(r)){const u=fx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fx(r,e,n){const s=r.field.isKeyField()?ke.comparator(e.key,n.key):function(u,f,p){const g=f.data.field(u),_=p.data.field(u);return g!==null&&_!==null?yu(g,_):He(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return He(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new qt(ke.comparator);function va(){return dx}const sT=new qt(ke.comparator);function Jc(...r){let e=sT;for(const n of r)e=e.insert(n.key,n);return e}function aT(r){let e=sT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function hl(){return ah()}function oT(){return ah()}function ah(){return new vl(r=>r.toString(),(r,e)=>r.isEqual(e))}const mx=new qt(ke.comparator),px=new wn(ke.comparator);function ut(...r){let e=px;for(const n of r)e=e.add(n);return e}const gx=new wn(et);function _x(){return gx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function lT(r){return{integerValue:""+r}}function yx(r,e){return $I(e)?lT(e):Ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function vx(r,e,n){return r instanceof Td?function(o,u){const f={fields:{[Fb]:{stringValue:Hb},[Gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=Ld(u)),u&&(f.fields[$b]=u),{mapValue:f}}(n,e):r instanceof gh?cT(r,e):r instanceof _h?hT(r,e):function(o,u){const f=uT(o,u),p=P0(f)+P0(o.Re);return qp(f)&&qp(o.Re)?lT(p):Ng(o.serializer,p)}(r,e)}function Ex(r,e,n){return r instanceof gh?cT(r,e):r instanceof _h?hT(r,e):n}function uT(r,e){return r instanceof Ad?function(s){return qp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Td extends zd{}class gh extends zd{constructor(e){super(),this.elements=e}}function cT(r,e){const n=fT(e);for(const s of r.elements)n.some(o=>Cs(o,s))||n.push(s);return{arrayValue:{values:n}}}class _h extends zd{constructor(e){super(),this.elements=e}}function hT(r,e){let n=fT(e);for(const s of r.elements)n=n.filter(o=>!Cs(o,s));return{arrayValue:{values:n}}}class Ad extends zd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function P0(r){return rn(r.integerValue||r.doubleValue)}function fT(r){return Cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof gh&&o instanceof gh||s instanceof _h&&o instanceof _h?_u(s.elements,o.elements,Cs):s instanceof Ad&&o instanceof Ad?Cs(s.Re,o.Re):s instanceof Td&&o instanceof Td}(r.transform,e.transform)}class Tx{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bd{}function dT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dg(r.key,Fr.none()):new Ch(r.key,r.data,Fr.none());{const n=r.data,s=Ri.empty();let o=new wn(Hn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Oo(r.key,s,new Xi(o.toArray()),Fr.none())}}function Ax(r,e,n){r instanceof Ch?function(o,u,f){const p=o.value.clone(),g=V0(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Oo?function(o,u,f){if(!nd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=V0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(mT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function oh(r,e,n,s){return r instanceof Ch?function(u,f,p,g){if(!nd(u.precondition,f))return p;const _=u.value.clone(),T=L0(u.fieldTransforms,g,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof Oo?function(u,f,p,g){if(!nd(u.precondition,f))return p;const _=L0(u.fieldTransforms,g,f),T=f.data;return T.setAll(mT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(N=>N.field))}(r,e,n,s):function(u,f,p){return nd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function wx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=uT(s.transform,o||null);u!=null&&(n===null&&(n=Ri.empty()),n.set(s.field,u))}return n||null}function k0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_u(s,o,(u,f)=>bx(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ch extends Bd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oo extends Bd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function V0(r,e,n){const s=new Map;Et(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,Ex(f,p,n[o]))}return s}function L0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,vx(u,f,e))}return s}class Dg extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Ax(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=oh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=oh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=oT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=dT(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Qe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(n,s)=>k0(n,s))&&_u(this.baseMutations,e.baseMutations,(n,s)=>k0(n,s))}}class Og{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Et(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return mx}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Og(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,mt;function xx(r){switch(r){case ce.OK:return He(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return He(15467,{code:r})}}function pT(r){if(r===void 0)return ya("GRPC error has no .code"),ce.UNKNOWN;switch(r){case hn.OK:return ce.OK;case hn.CANCELLED:return ce.CANCELLED;case hn.UNKNOWN:return ce.UNKNOWN;case hn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case hn.INTERNAL:return ce.INTERNAL;case hn.UNAVAILABLE:return ce.UNAVAILABLE;case hn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case hn.NOT_FOUND:return ce.NOT_FOUND;case hn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case hn.ABORTED:return ce.ABORTED;case hn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case hn.DATA_LOSS:return ce.DATA_LOSS;default:return He(39323,{code:r})}}(mt=hn||(hn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new bo([4294967295,4294967295],0);function U0(r){const e=Ub().encode(r),n=new Nb;return n.update(e),new Uint8Array(n.digest())}function j0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bo([n,s],0),new bo([o,u],0)]}class Mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eh(`Invalid padding: ${n}`);if(s<0)throw new eh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=bo.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(bo.fromNumber(s)));return o.compare(Nx)===1&&(o=new bo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=U0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.pe===0)return;const n=U0(e),[s,o]=j0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qd(Qe.min(),o,new qt(et),va(),ut())}}class Rh{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Rh(s,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class gT{constructor(e,n){this.targetId=e,this.Ce=n}}class _T{constructor(e,n,s=Fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z0{constructor(){this.Fe=0,this.Me=B0(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ut(),n=ut(),s=ut();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:He(38017,{changeType:u})}}),new Rh(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=B0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Dx{constructor(e){this.ze=e,this.je=new Map,this.He=va(),this.Je=$f(),this.Ye=$f(),this.Ze=new qt(et)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Fp(u))if(s===0){const f=new ke(u.path);this.tt(n,f,ei.newNoDocument(f,Qe.min()))}else Et(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const p=this.ct(e),g=p?this.lt(p,e,f):1;if(g!==0){this.st(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Co(s).toUint8Array()}catch(g){if(g instanceof qb)return gu("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Mg(f,o,u)}catch(g){return gu(g instanceof eh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const p=this._t(f);if(p){if(u.current&&Fp(p.target)){const g=new ke(p.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,ei.newNoDocument(g,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=ut();this.Ye.forEach((u,f)=>{let p=!0;f.forEachWhile(g=>{const _=this._t(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new qd(e,n,this.Ze,this.He,s);return this.He=va(),this.Je=$f(),this.Ye=$f(),this.Ze=new qt(et),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new z0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn(et),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn(et),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new z0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $f(){return new qt(ke.comparator)}function B0(){return new qt(ke.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class kx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kp(r,e){return r.useProto3Json||Vd(e)?e:{value:e}}function wd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Vx(r,e){return wd(r,e.toTimestamp())}function ws(r){return Et(!!r,49232),Qe.fromTimestamp(function(n){const s=So(n);return new An(s.seconds,s.nanos)}(r))}function Pg(r,e){return Yp(r,e).canonicalString()}function Yp(r,e){const n=function(o){return new Lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function vT(r){const e=Lt.fromString(r);return Et(wT(e),10190,{key:e.toString()}),e}function Qp(r,e){return Pg(r.databaseId,e.path)}function Ap(r,e){const n=vT(e);if(n.get(1)!==r.databaseId.projectId)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ke(bT(n))}function ET(r,e){return Pg(r.databaseId,e)}function Lx(r){const e=vT(r);return e.length===4?Lt.emptyPath():bT(e)}function Xp(r){return new Lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bT(r){return Et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q0(r,e,n){return{name:Qp(r,e),fields:n.value.mapValue.fields}}function Ux(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:He(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Et(T===void 0||typeof T=="string",58123),Fn.fromBase64String(T||"")):(Et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fn.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(_){const T=_.code===void 0?ce.UNKNOWN:pT(_.code);return new Ie(T,_.message||"")}(f);n=new _T(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ap(r,s.document.name),u=ws(s.document.updateTime),f=s.document.createTime?ws(s.document.createTime):Qe.min(),p=new Ri({mapValue:{fields:s.document.fields}}),g=ei.newFoundDocument(o,u,f,p),_=s.targetIds||[],T=s.removedTargetIds||[];n=new id(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ap(r,s.document),u=s.readTime?ws(s.readTime):Qe.min(),f=ei.newNoDocument(o,u),p=s.removedTargetIds||[];n=new id([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ap(r,s.document),u=s.removedTargetIds||[];n=new id([],u,o,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Ix(o,u),p=s.targetId;n=new gT(p,f)}}return n}function jx(r,e){let n;if(e instanceof Ch)n={update:q0(r,e.key,e.value)};else if(e instanceof Dg)n={delete:Qp(r,e.key)};else if(e instanceof Oo)n={update:q0(r,e.key,e.data),updateMask:Yx(e.fieldMask)};else{if(!(e instanceof Sx))return He(16599,{ft:e.type});n={verify:Qp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Td)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _h)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ad)return{fieldPath:f.field.canonicalString(),increment:p.Re};throw He(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Vx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:He(27497)}(r,e.precondition)),n}function zx(r,e){return r&&r.length>0?(Et(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ws(o.updateTime):ws(u);return f.isEqual(Qe.min())&&(f=ws(u)),new Tx(f,o.transformResults||[])}(n,e))):[]}function Bx(r,e){return{documents:[ET(r,e.path)]}}function qx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ET(r,o);const u=function(_){if(_.length!==0)return AT(Kr.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(x){return{field:ou(x.field),direction:$x(x.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Kp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:n,parent:o}}function Hx(r){let e=Lx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Et(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(N){const x=TT(N);return x instanceof Kr&&Zb(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(N){return N.map(x=>function(L){return new bd(lu(L.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(x))}(n.orderBy));let p=null;n.limit&&(p=function(N){let x;return x=typeof N=="object"?N.value:N,Vd(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(N){const x=!!N.before,z=N.values||[];return new Ed(z,x)}(n.startAt));let _=null;return n.endAt&&(_=function(N){const x=!N.before,z=N.values||[];return new Ed(z,x)}(n.endAt)),ux(e,o,f,u,p,"F",g,_)}function Fx(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lu(n.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lu(n.unaryFilter.field);return fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lu(n.unaryFilter.field);return fn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lu(n.unaryFilter.field);return fn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(r):r.fieldFilter!==void 0?function(n){return fn.create(lu(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kr.create(n.compositeFilter.filters.map(s=>TT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(r):He(30097,{filter:r})}function $x(r){return Ox[r]}function Gx(r){return Mx[r]}function Kx(r){return Px[r]}function ou(r){return{fieldPath:r.canonicalString()}}function lu(r){return Hn.fromServerFormat(r.fieldPath)}function AT(r){return r instanceof fn?function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(n.field),op:Gx(n.op),value:n.value}}}(r):r instanceof Kr?function(n){const s=n.getFilters().map(o=>AT(o));return s.length===1?s[0]:{compositeFilter:{op:Kx(n.op),filters:s}}}(r):He(54877,{filter:r})}function Yx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,s,o,u=Qe.min(),f=Qe.min(),p=Fn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.wt=e}}function Xx(r){const e=Hx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.Cn=new Zx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(wo.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class Zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new wn(Lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(ST,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Eu(0)}static lr(){return new Eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="LruGarbageCollector",Jx=1048576;function $0([r,e],[n,s]){const o=et(r,n);return o===0?et(e,s):o}class eN{constructor(e){this.Er=e,this.buffer=new wn($0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(F0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mu(n)?Se(F0,"Ignoring IndexedDB error during garbage collection: ",n):await Ou(n)}await this.mr(3e5)})}}class nN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(kd.le);const s=new eN(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(H0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,f=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,p=Date.now(),this.removeTargets(e,s,n))).next(N=>(u=N,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),su()<=lt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${N} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}function iN(r,e){return new nN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.changes=new vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&oh(s.mutation,o,Xi.empty(),An.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ut()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ut()){const o=hl();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Jc();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=hl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ut()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=va();const f=ah(),p=function(){return ah()}();return n.forEach((g,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Oo)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),oh(T.mutation,_,T.mutation.getFieldMask(),An.now())):f.set(_.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var N;return p.set(_,new sN(T,(N=f.get(_))!==null&&N!==void 0?N:null))}),p))}recalculateAndSaveOverlays(e,n){const s=ah();let o=new qt((f,p)=>f-p),u=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let T=s.get(g)||Xi.empty();T=p.applyToLocalView(_,T),s.set(g,T);const N=(o.get(p.batchId)||ut()).add(g);o=o.insert(p.batchId,N)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,N=oT();T.forEach(x=>{if(!u.has(x)){const z=dT(n.get(x),s.get(x));z!==null&&N.set(x,z),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,N))}return ue.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ke.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ue.resolve(hl());let p=fh,g=u;return f.next(_=>ue.forEach(_,(T,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),u.get(T)?ue.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{g=g.insert(T,x)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,ut())).next(T=>({batchId:p,changes:aT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(s=>{let o=Jc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Jc();return this.indexManager.getCollectionParents(e,u).next(p=>ue.forEach(p,g=>{const _=function(N,x){return new Sh(x,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((N,x)=>{f=f.insert(N,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,ei.newInvalidDocument(T)))});let p=Jc();return f.forEach((g,_)=>{const T=u.get(g);T!==void 0&&oh(T.mutation,_,Xi.empty(),An.now()),jd(n,_)&&(p=p.insert(g,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ue.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ws(o.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:Xx(o.bundledQuery),readTime:ws(o.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.overlays=new qt(ke.comparator),this.Qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=hl();return ue.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ue.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const o=hl(),u=n.length+1,f=new ke(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new qt((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=hl(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=hl(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,T)=>p.set(_,T)),!(p.size()>=o)););return ue.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Rx(n,s));let u=this.Qr.get(n);u===void 0&&(u=ut(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.$r=new wn(Mn.Ur),this.Kr=new wn(Mn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Mn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Mn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ke(new Lt([])),s=new Mn(n,e),o=new Mn(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ke(new Lt([])),s=new Mn(n,e),o=new Mn(n,e+1);let u=ut();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ke.comparator(e.key,n.key)||et(e.Zr,n.Zr)}static Wr(e,n){return et(e.Zr,n.Zr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wn(Mn.Ur)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Cx(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Xr=this.Xr.add(new Mn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(f)}lookupMutationBatch(e,n){return ue.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?wg:this.nr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mn(n,0),o=new Mn(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const p=this.ei(f.Zr);u.push(p)}),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new wn(et);return n.forEach(o=>{const u=new Mn(o,0),f=new Mn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],p=>{s=s.add(p.Zr)})}),ue.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ke.isDocumentKey(u)||(u=u.child(""));const f=new Mn(new ke(u),0);let p=new wn(et);return this.Xr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Zr)),!0)},f),ue.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Et(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ue.forEach(n.mutations,o=>{const u=new Mn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Mn(n,0),o=this.Xr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.ii=e,this.docs=function(){return new qt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let s=va();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ei.newInvalidDocument(o))}),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=va();const f=n.path,p=new ke(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||BI(zI(T),s)<=0||(o.has(T.key)||jd(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,n,s,o){He(9500)}si(e,n){return ue.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fN(this)}getSize(e){return ue.resolve(this.size)}}class fN extends rN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ue.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.persistence=e,this.oi=new vl(n=>Rg(n),Ig),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this._i=0,this.ai=new kg,this.targetCount=0,this.ui=Eu.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ue.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Eu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Tr(n),ue.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ue.waitFor(u).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ue.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.ci={},this.overlays={},this.li=new kd(0),this.hi=!1,this.hi=!0,this.Pi=new uN,this.referenceDelegate=e(this),this.Ti=new dN(this),this.indexManager=new Wx,this.remoteDocumentCache=function(o){return new hN(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Qx(n),this.Ei=new oN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new cN(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){Se("MemoryPersistence","Starting transaction:",e);const o=new mN(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ue.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class mN extends HI{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Vi=new kg,this.mi=null}static fi(e){return new Vg(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.gi,s=>{const o=ke.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Qe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ue.or([()=>ue.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sd{constructor(e,n){this.persistence=e,this.yi=new vl(s=>GI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iN(this,n)}static fi(e,n){return new Sd(e,n)}di(){}Ai(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ue.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ue.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Qe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ue.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ed(e.data.value)),n}Dr(e,n,s){return ue.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ue.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=ut(),o=ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Lg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return YS()?8:FI(ti())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new pN;return this.Ss(e,n,f).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,f,p.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(su()<=lt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ue.resolve()):(su()<=lt.DEBUG&&Se("QueryEngine","Query:",au(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(su()<=lt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ue.resolve())}ws(e,n){if(M0(n))return ue.resolve(null);let s=As(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Gp(n,null,"F"),s=As(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ut(...u);return this.ys.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.vs(n,p);return this.Cs(n,_,f,g.readTime)?this.ws(e,Gp(n,null,"F")):this.Fs(e,_,n,g)}))})))}bs(e,n,s,o){return M0(n)||o.isEqual(Qe.min())?ue.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?ue.resolve(null):(su()<=lt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),au(n)),this.Fs(e,f,n,jI(o,fh)).next(p=>p))})}vs(e,n){let s=new wn(rT(e));return n.forEach((o,u)=>{jd(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return su()<=lt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",au(n)),this.ys.getDocumentsMatchingQuery(e,n,wo.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="LocalStore",_N=3e8;class yN{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new qt(et),this.Os=new vl(u=>Rg(u),Ig),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function vN(r,e,n,s){return new yN(r,e,n,s)}async function RT(r,e){const n=We(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=ut();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(_=>({ks:_,removedBatchIds:f,addedBatchIds:p}))})})}function EN(r,e){const n=We(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,g,_,T){const N=_.batch,x=N.keys();let z=ue.resolve();return x.forEach(L=>{z=z.next(()=>T.getEntry(g,L)).next(Y=>{const Q=_.docVersions.get(L);Et(Q!==null,48541),Y.version.compareTo(Q)<0&&(N.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))})}),z.next(()=>p.mutationQueue.removeMutationBatch(g,N))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function IT(r){const e=We(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function bN(r,e){const n=We(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((T,N)=>{const x=o.get(N);if(!x)return;p.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,N).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,N)));let z=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?z=z.withResumeToken(Fn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),o=o.insert(N,z),function(Y,Q,ie){return Y.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=_N?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0}(x,z,T)&&p.push(n.Ti.updateTargetData(u,z))});let g=va(),_=ut();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(TN(u,f,e.documentUpdates).next(T=>{g=T.qs,_=T.Qs})),!s.isEqual(Qe.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(N=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(T)}return ue.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.xs=o,u))}function TN(r,e,n){let s=ut(),o=ut();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=va();return n.forEach((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Qe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):Se(Ug,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)}),{qs:f,Qs:o}})}function AN(r,e){const n=We(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wN(r,e){const n=We(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ue.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new go(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Wp(r,e,n){const s=We(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mu(f))throw f;Se(Ug,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function G0(r,e,n){const s=We(r);let o=Qe.min(),u=ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,T){const N=We(g),x=N.Os.get(T);return x!==void 0?ue.resolve(N.xs.get(x)):N.Ti.getTargetData(_,T)}(s,f,As(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,p.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Qe.min(),n?u:ut())).next(p=>(SN(s,hx(e),p),{documents:p,$s:u})))}function SN(r,e,n){let s=r.Ns.get(e)||Qe.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class K0{constructor(){this.activeTargetIds=_x()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.xo=new K0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new K0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="ConnectivityMonitor";class Q0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf=null;function Zp(){return Gf===null?Gf=function(){return 268435456+Math.round(2147483648*Math.random())}():Gf++,"0x"+Gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xN{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===yd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Zp(),p=this.jo(e,n.toUriEncodedString());Se(wp,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:_}=new URL(p),T=Ru(_);return this.Jo(e,p,g,s,T).then(N=>(Se(wp,`Received RPC '${e}' ${f}: `,N),N),N=>{throw gu(wp,`RPC '${e}' ${f} failed with error: `,N,"url: ",p,"request:",s),N})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=IN[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class DN extends xN{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Zp();return new Promise((p,g)=>{const _=new Db;_.setWithCredentials(!0),_.listenOnce(Ob.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Jf.NO_ERROR:const N=_.getResponseJson();Se(Zn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(N)),p(N);break;case Jf.TIMEOUT:Se(Zn,`RPC '${e}' ${f} timed out`),g(new Ie(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const x=_.getStatus();if(Se(Zn,`RPC '${e}' ${f} failed with status:`,x,"response text:",_.getResponseText()),x>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const L=z==null?void 0:z.error;if(L&&L.status&&L.message){const Y=function(ie){const Z=ie.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Z)>=0?Z:ce.UNKNOWN}(L.status);g(new Ie(Y,L.message))}else g(new Ie(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ie(ce.UNAVAILABLE,"Connection failed."));break;default:He(9055,{h_:e,streamId:f,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{Se(Zn,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);Se(Zn,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",T,s,15)})}I_(e,n,s){const o=Zp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kb(),p=Pb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");Se(Zn,`Creating RPC '${e}' stream ${o}: ${T}`,g);const N=f.createWebChannel(T,g);this.E_(N);let x=!1,z=!1;const L=new NN({Zo:Q=>{z?Se(Zn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(x||(Se(Zn,`Opening RPC '${e}' stream ${o} transport.`),N.open(),x=!0),Se(Zn,`RPC '${e}' stream ${o} sending:`,Q),N.send(Q))},Xo:()=>N.close()}),Y=(Q,ie,Z)=>{Q.listen(ie,de=>{try{Z(de)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return Y(N,Zc.EventType.OPEN,()=>{z||(Se(Zn,`RPC '${e}' stream ${o} transport opened.`),L.__())}),Y(N,Zc.EventType.CLOSE,()=>{z||(z=!0,Se(Zn,`RPC '${e}' stream ${o} transport closed`),L.u_(),this.d_(N))}),Y(N,Zc.EventType.ERROR,Q=>{z||(z=!0,gu(Zn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),L.u_(new Ie(ce.UNAVAILABLE,"The operation could not be completed")))}),Y(N,Zc.EventType.MESSAGE,Q=>{var ie;if(!z){const Z=Q.data[0];Et(!!Z,16349);const de=Z,Ae=(de==null?void 0:de.error)||((ie=de[0])===null||ie===void 0?void 0:ie.error);if(Ae){Se(Zn,`RPC '${e}' stream ${o} received error:`,Ae);const Ce=Ae.status;let Fe=function(M){const V=hn[M];if(V!==void 0)return pT(V)}(Ce),U=Ae.message;Fe===void 0&&(Fe=ce.INTERNAL,U="Unknown error status: "+Ce+" with message "+Ae.message),z=!0,L.u_(new Ie(Fe,U)),N.close()}else Se(Zn,`RPC '${e}' stream ${o} received:`,Z),L.c_(Z)}}),Y(p,Mb.STAT_EVENT,Q=>{Q.stat===jp.PROXY?Se(Zn,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===jp.NOPROXY&&Se(Zn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){return new kx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="PersistentStream";class NT{constructor(e,n,s,o,u,f,p,g){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new xT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(ya(n.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new Ie(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Se(X0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Se(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ON extends NT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Ux(this.serializer,e),s=function(u){if(!("targetChange"in u))return Qe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Qe.min():f.readTime?ws(f.readTime):Qe.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(u,f){let p;const g=f.target;if(p=Fp(g)?{documents:Bx(u,g)}:{query:qx(u,g).gt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=yT(u,f.resumeToken);const _=Kp(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(Qe.min())>0){p.readTime=wd(u,f.snapshotVersion.toTimestamp());const _=Kp(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=Fx(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.Q_(n)}}class MN extends NT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=zx(e.writeResults,e.commitTime),s=ws(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Xp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>jx(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{}class kN extends PN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Yp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ce.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Yo(e,Yp(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ie(ce.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class VN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ya(n),this.ua=!1):Se("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class LN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{El(this)&&(Se(yl,"Restarting streams for network reachability change."),await async function(g){const _=We(g);_.da.add(4),await Ih(_),_.Va.set("Unknown"),_.da.delete(4),await Fd(_)}(this))})}),this.Va=new VN(s,o)}}async function Fd(r){if(El(r))for(const e of r.Aa)await e(!0)}async function Ih(r){for(const e of r.Aa)await e(!1)}function DT(r,e){const n=We(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),qg(n)?Bg(n):Pu(n).N_()&&zg(n,e))}function jg(r,e){const n=We(r),s=Pu(n);n.Ea.delete(e),s.N_()&&OT(n,e),n.Ea.size===0&&(s.N_()?s.k_():El(n)&&n.Va.set("Unknown"))}function zg(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pu(r).Z_(e)}function OT(r,e){r.ma.Ke(e),Pu(r).X_(e)}function Bg(r){r.ma=new Dx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Pu(r).start(),r.Va.ca()}function qg(r){return El(r)&&!Pu(r).O_()&&r.Ea.size>0}function El(r){return We(r).da.size===0}function MT(r){r.ma=void 0}async function UN(r){r.Va.set("Online")}async function jN(r){r.Ea.forEach((e,n)=>{zg(r,e)})}async function zN(r,e){MT(r),qg(r)?(r.Va.Pa(e),Bg(r)):r.Va.set("Unknown")}async function BN(r,e,n){if(r.Va.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ea.delete(p),o.ma.removeTarget(p))}(r,e)}catch(s){Se(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cd(r,s)}else if(e instanceof id?r.ma.Xe(e):e instanceof gT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Qe.min()))try{const s=await IT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.ma.It(f);return p.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ea.get(_);T&&u.Ea.set(_,T.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,_)=>{const T=u.Ea.get(g);if(!T)return;u.Ea.set(g,T.withResumeToken(Fn.EMPTY_BYTE_STRING,T.snapshotVersion)),OT(u,g);const N=new go(T.target,g,_,T.sequenceNumber);zg(u,N)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){Se(yl,"Failed to raise snapshot:",s),await Cd(r,s)}}async function Cd(r,e,n){if(!Mu(e))throw e;r.da.add(1),await Ih(r),r.Va.set("Offline"),n||(n=()=>IT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Se(yl,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Fd(r)})}function PT(r,e){return e().catch(n=>Cd(r,n,e))}async function $d(r){const e=We(r),n=Io(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:wg;for(;qN(e);)try{const o=await AN(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,HN(e,o)}catch(o){await Cd(e,o)}kT(e)&&VT(e)}function qN(r){return El(r)&&r.Ia.length<10}function HN(r,e){r.Ia.push(e);const n=Io(r);n.N_()&&n.ea&&n.ta(e.mutations)}function kT(r){return El(r)&&!Io(r).O_()&&r.Ia.length>0}function VT(r){Io(r).start()}async function FN(r){Io(r).ia()}async function $N(r){const e=Io(r);for(const n of r.Ia)e.ta(n.mutations)}async function GN(r,e,n){const s=r.Ia.shift(),o=Og.from(s,e,n);await PT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $d(r)}async function KN(r,e){e&&Io(r).ea&&await async function(s,o){if(function(f){return xx(f)&&f!==ce.ABORTED}(o.code)){const u=s.Ia.shift();Io(s).L_(),await PT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $d(s)}}(r,e),kT(r)&&VT(r)}async function W0(r,e){const n=We(r);n.asyncQueue.verifyOperationInProgress(),Se(yl,"RemoteStore received new credentials");const s=El(n);n.da.add(3),await Ih(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Fd(n)}async function YN(r,e){const n=We(r);e?(n.da.delete(2),await Fd(n)):e||(n.da.add(2),await Ih(n),n.Va.set("Unknown"))}function Pu(r){return r.fa||(r.fa=function(n,s,o){const u=We(n);return u.oa(),new ON(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:UN.bind(null,r),n_:jN.bind(null,r),i_:zN.bind(null,r),Y_:BN.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),qg(r)?Bg(r):r.Va.set("Unknown")):(await r.fa.stop(),MT(r))})),r.fa}function Io(r){return r.ga||(r.ga=function(n,s,o){const u=We(n);return u.oa(),new MN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:FN.bind(null,r),i_:KN.bind(null,r),na:$N.bind(null,r),ra:GN.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await $d(r)):(await r.ga.stop(),r.Ia.length>0&&(Se(yl,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new Hg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(r,e){if(ya("AsyncQueue",`${e}: ${r}`),Mu(r))return new Ie(ce.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{static emptySet(e){return new du(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ke.comparator(n.key,s.key):(n,s)=>ke.comparator(n.key,s.key),this.keyedMap=Jc(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new du;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.pa=new qt(ke.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class bu{constructor(e,n,s,o,u,f,p,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new bu(e,n,du.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class XN{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=We(n),u=o.queries;o.queries=J0(),u.forEach((f,p)=>{for(const g of p.Sa)g.onError(s)})})(this,new Ie(ce.ABORTED,"Firestore shutting down"))}}function J0(){return new vl(r=>iT(r),Ud)}async function WN(r,e){const n=We(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new QN,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Fg(f,`Initialization of query '${au(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&$g(n)}async function ZN(r,e){const n=We(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JN(r,e){const n=We(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Ma(o)&&(s=!0);f.ba=o}}s&&$g(n)}function eD(r,e,n){const s=We(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $g(r){r.Ca.forEach(e=>{e.next()})}var Jp,eE;(eE=Jp||(Jp={})).xa="default",eE.Cache="cache";class tD{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class UT{constructor(e){this.key=e}}class nD{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.Za=rT(e),this.Xa=new du(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new Z0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,N)=>{const x=o.get(T),z=jd(this.query,N)?N:null,L=!!x&&this.mutatedKeys.has(x.key),Y=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Q=!1;x&&z?x.data.isEqual(z.data)?L!==Y&&(s.track({type:3,doc:z}),Q=!0):this.ru(x,z)||(s.track({type:2,doc:z}),Q=!0,(g&&this.Za(z,g)>0||_&&this.Za(z,_)<0)&&(p=!0)):!x&&z?(s.track({type:0,doc:z}),Q=!0):x&&!z&&(s.track({type:1,doc:x}),Q=!0,(g||_)&&(p=!0)),Q&&(z?(f=f.add(z),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:p,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((T,N)=>function(z,L){const Y=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:Q})}};return Y(z)-Y(L)}(T.type,N.type)||this.Za(T.doc,N.doc)),this.iu(s),o=o!=null&&o;const p=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Ja;return this.Ja=g,f.length!==0||_?{snapshot:new bu(this.query,e.Xa,u,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new UT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new LT(s))}),n}au(e){this.Ha=e.$s,this.Ya=ut();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return bu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Gg="SyncEngine";class iD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rD{constructor(e){this.key=e,this.cu=!1}}class sD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new vl(p=>iT(p),Ud),this.Pu=new Map,this.Tu=new Set,this.Iu=new qt(ke.comparator),this.Eu=new Map,this.du=new kg,this.Au={},this.Ru=new Map,this.Vu=Eu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function aD(r,e,n=!0){const s=FT(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await jT(s,e,n,!0),o}async function oD(r,e){const n=FT(r);await jT(n,e,!0,!1)}async function jT(r,e,n,s){const o=await wN(r.localStore,As(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await lD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&DT(r.remoteStore,o),p}async function lD(r,e,n,s,o){r.fu=(N,x,z)=>async function(Y,Q,ie,Z){let de=Q.view.tu(ie);de.Cs&&(de=await G0(Y.localStore,Q.query,!1).then(({documents:U})=>Q.view.tu(U,de)));const Ae=Z&&Z.targetChanges.get(Q.targetId),Ce=Z&&Z.targetMismatches.get(Q.targetId)!=null,Fe=Q.view.applyChanges(de,Y.isPrimaryClient,Ae,Ce);return nE(Y,Q.targetId,Fe.ou),Fe.snapshot}(r,N,x,z);const u=await G0(r.localStore,e,!0),f=new nD(e,u.$s),p=f.tu(u.documents),g=Rh.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,g);nE(r,n,_.ou);const T=new iD(e,n,f);return r.hu.set(e,T),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),_.snapshot}async function uD(r,e,n){const s=We(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Ud(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jg(s.remoteStore,o.targetId),eg(s,o.targetId)}).catch(Ou)):(eg(s,o.targetId),await Wp(s.localStore,o.targetId,!0))}async function cD(r,e){const n=We(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jg(n.remoteStore,s.targetId))}async function hD(r,e,n){const s=yD(r);try{const o=await function(f,p){const g=We(f),_=An.now(),T=p.reduce((z,L)=>z.add(L.key),ut());let N,x;return g.persistence.runTransaction("Locally write mutations","readwrite",z=>{let L=va(),Y=ut();return g.Bs.getEntries(z,T).next(Q=>{L=Q,L.forEach((ie,Z)=>{Z.isValidDocument()||(Y=Y.add(ie))})}).next(()=>g.localDocuments.getOverlayedDocuments(z,L)).next(Q=>{N=Q;const ie=[];for(const Z of p){const de=wx(Z,N.get(Z.key).overlayedDocument);de!=null&&ie.push(new Oo(Z.key,de,Qb(de.value.mapValue),Fr.exists(!0)))}return g.mutationQueue.addMutationBatch(z,_,ie,p)}).next(Q=>{x=Q;const ie=Q.applyToLocalDocumentSet(N,Y);return g.documentOverlayCache.saveOverlays(z,Q.batchId,ie)})}).then(()=>({batchId:x.batchId,changes:aT(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let _=f.Au[f.currentUser.toKey()];_||(_=new qt(et)),_=_.insert(p,g),f.Au[f.currentUser.toKey()]=_}(s,o.batchId,n),await xh(s,o.changes),await $d(s.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");n.reject(u)}}async function zT(r,e){const n=We(r);try{const s=await bN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Et(f.cu,14607):o.removedDocuments.size>0&&(Et(f.cu,42227),f.cu=!1))}),await xh(n,s,e)}catch(s){await Ou(s)}}function tE(r,e,n){const s=We(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const p=f.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=We(f);g.onlineState=p;let _=!1;g.queries.forEach((T,N)=>{for(const x of N.Sa)x.Fa(p)&&(_=!0)}),_&&$g(g)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fD(r,e,n){const s=We(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new qt(ke.comparator);f=f.insert(u,ei.newNoDocument(u,Qe.min()));const p=ut().add(u),g=new qd(Qe.min(),new Map,new qt(et),f,p);await zT(s,g),s.Iu=s.Iu.remove(u),s.Eu.delete(e),Kg(s)}else await Wp(s.localStore,e,!1).then(()=>eg(s,e,n)).catch(Ou)}async function dD(r,e){const n=We(r),s=e.batch.batchId;try{const o=await EN(n.localStore,e);qT(n,s,null),BT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xh(n,o)}catch(o){await Ou(o)}}async function mD(r,e,n){const s=We(r);try{const o=await function(f,p){const g=We(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next(N=>(Et(N!==null,37113),T=N.keys(),g.mutationQueue.removeMutationBatch(_,N))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>g.localDocuments.getDocuments(_,T))})}(s.localStore,e);qT(s,e,n),BT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xh(s,o)}catch(o){await Ou(o)}}function BT(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function qT(r,e,n){const s=We(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function eg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||HT(r,s)})}function HT(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(jg(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),Kg(r))}function nE(r,e,n){for(const s of n)s instanceof LT?(r.du.addReference(s.key,e),pD(r,s)):s instanceof UT?(Se(Gg,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||HT(r,s.key)):He(19791,{pu:s})}function pD(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(Se(Gg,"New document in limbo: "+n),r.Tu.add(s),Kg(r))}function Kg(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ke(Lt.fromString(e)),s=r.Vu.next();r.Eu.set(s,new rD(n)),r.Iu=r.Iu.insert(n,s),DT(r.remoteStore,new go(As(xg(n.path)),s,"TargetPurposeLimboResolution",kd.le))}}async function xh(r,e,n){const s=We(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((p,g)=>{f.push(s.fu(g,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const N=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,N?"current":"not-current")}if(_){o.push(_);const N=Lg.Rs(g.targetId,_);u.push(N)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(g,_){const T=We(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ue.forEach(_,x=>ue.forEach(x.ds,z=>T.persistence.referenceDelegate.addReference(N,x.targetId,z)).next(()=>ue.forEach(x.As,z=>T.persistence.referenceDelegate.removeReference(N,x.targetId,z)))))}catch(N){if(!Mu(N))throw N;Se(Ug,"Failed to update sequence numbers: "+N)}for(const N of _){const x=N.targetId;if(!N.fromCache){const z=T.xs.get(x),L=z.snapshotVersion,Y=z.withLastLimboFreeSnapshotVersion(L);T.xs=T.xs.insert(x,Y)}}}(s.localStore,u))}async function gD(r,e){const n=We(r);if(!n.currentUser.isEqual(e)){Se(Gg,"User change. New user:",e.toKey());const s=await RT(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(p=>{p.forEach(g=>{g.reject(new Ie(ce.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xh(n,s.ks)}}function _D(r,e){const n=We(r),s=n.Eu.get(e);if(s&&s.cu)return ut().add(s.key);{let o=ut();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const p=n.hu.get(f);o=o.unionWith(p.view.eu)}return o}}function FT(r){const e=We(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fD.bind(null,e),e.lu.Y_=JN.bind(null,e.eventManager),e.lu.gu=eD.bind(null,e.eventManager),e}function yD(r){const e=We(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,e),e}class Rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return vN(this.persistence,new gN,e.initialUser,this.serializer)}Su(e){return new CT(Vg.fi,this.serializer)}bu(e){return new CN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rd.provider={build:()=>new Rd};class vD extends Rd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Et(this.persistence.referenceDelegate instanceof Sd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tN(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new CT(s=>Sd.fi(s,n),this.serializer)}}class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gD.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XN}()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),s=function(u){return new DN(u)}(e.databaseInfo);return function(u,f,p,g){return new kN(u,f,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new LN(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>tE(this.syncEngine,n,0),function(){return Q0.C()?new Q0:new RN}())}createSyncEngine(e,n){return function(o,u,f,p,g,_,T){const N=new sD(o,u,f,p,g,_);return T&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=We(o);Se(yl,"RemoteStore shutting down."),u.da.add(5),await Ih(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="FirestoreClient";class bD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jn.UNAUTHENTICATED,this.clientId=jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{Se(xo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(Se(xo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cp(r,e){r.asyncQueue.verifyOperationInProgress(),Se(xo,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await RT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function iE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await TD(r);Se(xo,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>W0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>W0(e.remoteStore,o)),r._onlineComponents=e}async function TD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Se(xo,"Using user provided OfflineComponentProvider");try{await Cp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;gu("Error using user provided cache. Falling back to memory cache: "+n),await Cp(r,new Rd)}}else Se(xo,"Using default OfflineComponentProvider"),await Cp(r,new vD(void 0));return r._offlineComponents}async function $T(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Se(xo,"Using user provided OnlineComponentProvider"),await iE(r,r._uninitializedComponentsProvider._online)):(Se(xo,"Using default OnlineComponentProvider"),await iE(r,new tg))),r._onlineComponents}function AD(r){return $T(r).then(e=>e.syncEngine)}async function rE(r){const e=await $T(r),n=e.eventManager;return n.onListen=aD.bind(null,e.syncEngine),n.onUnlisten=uD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cD.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r,e,n){if(!n)throw new Ie(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wD(r,e,n,s){if(e===!0&&s===!0)throw new Ie(ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!ke.isDocumentKey(r))throw new Ie(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oE(r){if(ke.isDocumentKey(r))throw new Ie(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Gd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":He(12329,{type:typeof r})}function To(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gd(r);throw new Ie(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firestore.googleapis.com",lE=!0;class uE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=lE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ST;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jx)throw new Ie(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new NI;switch(s.type){case"firstParty":return new PI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(Se("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function SD(r,e,n,s={}){var o;r=To(r,Kd);const u=Ru(e),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(zE(`https://${g}`),BE("Firestore",!0)),f.host!==YT&&f.host!==g&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!ml(_,p)&&(r._setSettings(_),s.mockUserToken)){let T,N;if(typeof s.mockUserToken=="string")T=s.mockUserToken,N=Jn.MOCK_USER;else{T=jS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Ie(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Jn(x)}r._authCredentials=new DI(new Lb(T,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ku(this.firestore,e,this._query)}}class Ii{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}}class Ao extends ku{constructor(e,n,s){super(e,n,xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new ke(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function QT(r,e,...n){if(r=Sn(r),KT("collection","path",e),r instanceof Kd){const s=Lt.fromString(e,...n);return oE(s),new Ao(r,null,s)}{if(!(r instanceof Ii||r instanceof Ao))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...n));return oE(s),new Ao(r.firestore,null,s)}}function Yg(r,e,...n){if(r=Sn(r),arguments.length===1&&(e=jb.newId()),KT("doc","path",e),r instanceof Kd){const s=Lt.fromString(e,...n);return aE(s),new Ii(r,null,new ke(s))}{if(!(r instanceof Ii||r instanceof Ao))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Lt.fromString(e,...n));return aE(s),new Ii(r.firestore,r instanceof Ao?r.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new xT(this,"async_queue_retry"),this.rc=()=>{const s=Sp();s&&Se(cE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new fl;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Mu(e))throw e;Se(cE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ya("INTERNAL UNHANDLED ERROR: ",fE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&He(47125,{cc:fE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function fE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Tu extends Kd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function CD(r,e){const n=typeof r=="object"?r:$E(),s=typeof r=="string"?r:yd,o=dg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=LS("firestore");u&&SD(o,...u)}return o}function XT(r){if(r._terminated)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RD(r),r._firestoreClient}function RD(r){var e,n,s;const o=r._freezeSettings(),u=function(p,g,_,T){return new QI(p,g,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,GT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new bD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(Fn.fromBase64String(e))}catch(n){throw new Ie(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^__.*__$/;class xD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ch(e,this.data,n,this.fieldTransforms)}}class WT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ic:r})}}class Zg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Id(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(ZT(this.Ic)&&ID.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hd(e)}bc(e,n,s,o=!1){return new Zg({Ic:e,methodName:n,wc:s,path:Hn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jg(r){const e=r._freezeSettings(),n=Hd(r._databaseId);return new ND(r._databaseId,!!e.ignoreUndefinedProperties,n)}function DD(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);e_("Data must be an object, but it was:",f,s);const p=JT(s,f);let g,_;if(u.merge)g=new Xi(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const N of u.mergeFields){const x=ng(e,N,n);if(!f.contains(x))throw new Ie(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);t1(T,x)||T.push(x)}g=new Xi(T),_=f.fieldTransforms.filter(N=>g.covers(N.field))}else g=null,_=f.fieldTransforms;return new xD(new Ri(p),g,_)}class Qd extends Qg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function OD(r,e,n,s){const o=r.bc(1,e,n);e_("Data must be an object, but it was:",o,s);const u=[],f=Ri.empty();Do(s,(g,_)=>{const T=t_(e,g,n);_=Sn(_);const N=o.mc(T);if(_ instanceof Qd)u.push(T);else{const x=Nh(_,N);x!=null&&(u.push(T),f.set(T,x))}});const p=new Xi(u);return new WT(f,p,o.fieldTransforms)}function MD(r,e,n,s,o,u){const f=r.bc(1,e,n),p=[ng(e,s,n)],g=[o];if(u.length%2!=0)throw new Ie(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(ng(e,u[x])),g.push(u[x+1]);const _=[],T=Ri.empty();for(let x=p.length-1;x>=0;--x)if(!t1(_,p[x])){const z=p[x];let L=g[x];L=Sn(L);const Y=f.mc(z);if(L instanceof Qd)_.push(z);else{const Q=Nh(L,Y);Q!=null&&(_.push(z),T.set(z,Q))}}const N=new Xi(_);return new WT(T,N,f.fieldTransforms)}function PD(r,e,n,s=!1){return Nh(n,r.bc(s?4:3,e))}function Nh(r,e){if(e1(r=Sn(r)))return e_("Unsupported field value:",e,r),JT(r,e);if(r instanceof Qg)return function(s,o){if(!ZT(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=Nh(p,o.fc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=An.fromDate(s);return{timestampValue:wd(o.serializer,u)}}if(s instanceof An){const u=new An(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wd(o.serializer,u)}}if(s instanceof Xg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Au)return{bytesValue:yT(o.serializer,s._byteString)};if(s instanceof Ii){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wg)return function(f,p){return{mapValue:{fields:{[Kb]:{stringValue:Yb},[vd]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.gc("VectorValues must only contain numeric values.");return Ng(p.serializer,_)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Gd(s)}`)}(r,e)}function JT(r,e){const n={};return Bb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(r,(s,o)=>{const u=Nh(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function e1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof An||r instanceof Xg||r instanceof Au||r instanceof Ii||r instanceof Qg||r instanceof Wg)}function e_(r,e,n){if(!e1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Gd(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function ng(r,e,n){if((e=Sn(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return t_(r,e);throw Id("Field path arguments must be of type string or ",r,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function t_(r,e,n){if(e.search(kD)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yd(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Id(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new Ie(ce.INVALID_ARGUMENT,p+r+g)}function t1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VD extends n1{data(){return super.data()}}function i1(r,e){return typeof e=="string"?t_(r,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ie(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class UD extends n_{}function jD(r,e,...n){let s=[];e instanceof n_&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof r_).length,p=u.filter(g=>g instanceof i_).length;if(f>1||f>0&&p>0)throw new Ie(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class i_ extends UD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new i_(e,n,s)}_apply(e){const n=this._parse(e);return r1(e._query,n),new ku(e.firestore,e.converter,$p(e._query,n))}_parse(e){const n=Jg(e.firestore);return function(u,f,p,g,_,T,N){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){pE(N,T);const L=[];for(const Y of N)L.push(mE(g,u,Y));x={arrayValue:{values:L}}}else x=mE(g,u,N)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||pE(N,T),x=PD(p,f,N,T==="in"||T==="not-in");return fn.create(_,T,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class r_ extends n_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r_(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)r1(f,g),f=$p(f,g)}(e._query,n),new ku(e.firestore,e.converter,$p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mE(r,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new Ie(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nT(e)&&n.indexOf("/")!==-1)throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Lt.fromString(n));if(!ke.isDocumentKey(s))throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R0(r,new ke(s))}if(n instanceof Ii)return R0(r,n._key);throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gd(n)}.`)}function pE(r,e){if(!Array.isArray(r)||r.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r1(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zD{convertValue(e,n="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Do(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>rn(f.doubleValue));return new Wg(u)}convertGeoPoint(e){return new Xg(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const n=So(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Lt.fromString(e);Et(wT(s),9688,{name:e});const o=new mh(s.get(1),s.get(3)),u=new ke(s.popFirst(5));return o.isEqual(n)||ya(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s1 extends n1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(i1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rd extends s1{data(e={}){return super.data(e)}}class qD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new th(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rd(this._firestore,this._userDataWriter,s.key,s,new th(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new rd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new th(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const g=new rd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new th(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:HD(p.type),doc:g,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:r})}}class a1 extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,n)}}function FD(r,e,n,...s){r=To(r,Ii);const o=To(r.firestore,Tu),u=Jg(o);let f;return f=typeof(e=Sn(e))=="string"||e instanceof Yd?MD(u,"updateDoc",r._key,e,n,s):OD(u,"updateDoc",r._key,e),s_(o,[f.toMutation(r._key,Fr.exists(!0))])}function $D(r){return s_(To(r.firestore,Tu),[new Dg(r._key,Fr.none())])}function GD(r,e){const n=To(r.firestore,Tu),s=Yg(r),o=BD(r.converter,e);return s_(n,[DD(Jg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fr.exists(!1))]).then(()=>s)}function KD(r,...e){var n,s,o;r=Sn(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||dE(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(dE(e[f])){const N=e[f];e[f]=(n=N.next)===null||n===void 0?void 0:n.bind(N),e[f+1]=(s=N.error)===null||s===void 0?void 0:s.bind(N),e[f+2]=(o=N.complete)===null||o===void 0?void 0:o.bind(N)}let g,_,T;if(r instanceof Ii)_=To(r.firestore,Tu),T=xg(r._key.path),g={next:N=>{e[f]&&e[f](YD(_,r,N))},error:e[f+1],complete:e[f+2]};else{const N=To(r,ku);_=To(N.firestore,Tu),T=N._query;const x=new a1(_);g={next:z=>{e[f]&&e[f](new qD(_,x,N,z))},error:e[f+1],complete:e[f+2]},LD(r._query)}return function(x,z,L,Y){const Q=new ED(Y),ie=new tD(z,Q,L);return x.asyncQueue.enqueueAndForget(async()=>WN(await rE(x),ie)),()=>{Q.xu(),x.asyncQueue.enqueueAndForget(async()=>ZN(await rE(x),ie))}}(XT(_),T,p,g)}function s_(r,e){return function(s,o){const u=new fl;return s.asyncQueue.enqueueAndForget(async()=>hD(await AD(s),o,u)),u.promise}(XT(r),e)}function YD(r,e,n){const s=n.docs.get(e._key),o=new a1(r);return new s1(r,o,e._key,s,new th(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Du=o})(Iu),pu(new pl("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Tu(new OI(s.getProvider("auth-internal")),new kI(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ie(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Eo(p0,g0,e),Eo(p0,g0,"esm2017")})();const o1=X.createContext(null),a_=()=>X.useContext(o1),QD=({children:r})=>{const[e,n]=X.useState(null),[s,o]=X.useState(null),[u,f]=X.useState(null),[p,g]=X.useState(!0);return X.useEffect(()=>{try{const _=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDbWjUOkRFA0JyMq87ira-tyGbtLTyNKmA",authDomain:"toplivedeals.firebaseapp.com",projectId:"toplivedeals",storageBucket:"toplivedeals.firebasestorage.app",messagingSenderId:"331636227694",appId:"331636227694"},T=FE(_),N=CD(T),x=II(T);n(T),o(N),f(x);const z=async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?(console.log("Signing in with custom token..."),await fR(x,__initial_auth_token),console.log("Signed in with custom token.")):(console.log("No custom token found, signing in anonymously..."),await oR(x),console.log("Signed in anonymously."))}catch(Y){console.error("Firebase initial auth error:",Y)}finally{g(!1)}},L=vb(x,Y=>{Y?console.log("Firebase Auth State Changed: User logged in",Y.uid):console.log("Firebase Auth State Changed: User logged out"),p&&z()});return()=>L()}catch(_){console.error("Failed to initialize Firebase:",_),g(!1)}},[]),p?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem",color:"#333"},children:"Loading Firebase..."}):S.jsx(o1.Provider,{value:{firebaseApp:e,db:s,auth:u},children:r})},Xd="toplivedeals",l1=(r,e,n)=>{if(!r)return n("Firestore database not initialized."),()=>{};const s=QT(r,Xd),o=jD(s);return KD(o,f=>{const p=f.docs.map(g=>{var T,N;const _=g.data();return{id:g.id,title:_.title||"Untitled Product",description:_.description||"",images:_.images||"",affiliateLink:_.affiliateLink||"#",priceBefore:Number(_.priceBefore)||0,priceAfter:Number(_.priceAfter)||0,discount:Number(_.discount)||0,rating:Number(_.rating)||0,ratingCount:Number(_.ratingCount)||0,couponCode:_.couponCode||"",postedAgo:_.postedAgo||"Just now",category:((T=_.category)==null?void 0:T.toLowerCase())||"uncategorized",application:((N=_.application)==null?void 0:N.toLowerCase())||"other",isTopDeal:!!_.isTopDeal}});e(p),n(null),console.log("Products updated from Firestore:",p.length)},f=>{console.error("Error subscribing to products:",f),n("Failed to load products. Please try again."),e([])})},XD=async(r,e)=>{if(!r)throw new Error("Firestore database not initialized.");try{const n=await GD(QT(r,Xd),e);console.log("Product added with ID: ",n.id)}catch(n){throw console.error("Error adding product: ",n),n}},WD=async(r,e,n)=>{if(!r)throw new Error("Firestore database not initialized.");try{const s=Yg(r,Xd,e);await FD(s,n),console.log("Product updated: ",e)}catch(s){throw console.error("Error updating product: ",s),s}},ZD=async(r,e)=>{if(!r)throw new Error("Firestore database not initialized.");try{await $D(Yg(r,Xd,e)),console.log("Product deleted: ",e)}catch(n){throw console.error("Error deleting product: ",n),n}},JD=()=>{const r=dl(),{id:e}=sw(),{db:n}=a_(),[s,o]=X.useState([]),[u,f]=X.useState({title:"",description:"",images:"",affiliateLink:"",priceBefore:"",priceAfter:"",discount:"",rating:"",ratingCount:"",couponCode:"",postedAgo:"",category:"electronics",application:"amazon",isTopDeal:!1}),[p,g]=X.useState({}),[_,T]=X.useState(""),[N,x]=X.useState(!1),[z,L]=X.useState(null),Y=["electronics","books","fashion","home","sports","kitchen","automotive","health"],Q=["amazon","flipkart","meesho","myntra","nykaa","cultfit","ajio"];X.useEffect(()=>{if(n){const O=l1(n,o,j=>T(`Error: ${j}`));return()=>O()}},[n]);const ie=X.useCallback(()=>e?"edit":window.location.pathname.endsWith("/admin/products/add")?"add":"list",[e]);X.useEffect(()=>{g({}),T("");const O=ie();if(O==="edit"&&e){const j=s.find(k=>k.id===e);j?(f({title:j.title||"",description:j.description||"",images:j.images||"",affiliateLink:j.affiliateLink||"",priceBefore:j.priceBefore||0,priceAfter:j.priceAfter||0,discount:j.discount||0,rating:j.rating||0,ratingCount:j.ratingCount||0,couponCode:j.couponCode||"",postedAgo:j.postedAgo||"Just now",category:j.category||"electronics",application:j.application||"amazon",isTopDeal:j.isTopDeal??!1}),T("Editing product...")):!s.length&&e?T("Loading product details or product not found..."):(r("/admin/products",{replace:!0}),T("Product not found or removed."))}else O==="add"&&(f({title:"",description:"",images:"",affiliateLink:"",priceBefore:"",priceAfter:"",discount:"",rating:"",ratingCount:"",couponCode:"",postedAgo:"",category:"electronics",application:"amazon",isTopDeal:!1}),T("Ready to add a new product."))},[s,e,ie,r]);const Z=O=>{const{name:j,value:k,type:Pt,checked:Pe}=O.target;f(ee=>({...ee,[j]:Pt==="checkbox"?Pe:k})),g(ee=>({...ee,[j]:void 0})),T("")},de=()=>{const O={};if(["title","images","affiliateLink","priceBefore","priceAfter","discount","rating","ratingCount","category","application"].forEach(Pe=>{(typeof u[Pe]=="string"&&u[Pe].trim()===""||typeof u[Pe]=="number"&&(isNaN(u[Pe])||!isFinite(u[Pe])))&&(O[Pe]="This field is required.")}),["priceBefore","priceAfter","discount","rating","ratingCount"].forEach(Pe=>{const ee=Number(u[Pe]);u[Pe]!==""&&(isNaN(ee)||!isFinite(ee))?O[Pe]="Must be a valid number.":u[Pe]!==""&&ee<0&&(O[Pe]="Cannot be negative.")}),u.rating!==""&&(Number(u.rating)<1||Number(u.rating)>5)&&(O.rating="Rating must be between 1 and 5."),u.discount!==""&&(Number(u.discount)<0||Number(u.discount)>100)&&(O.discount="Discount must be between 0 and 100%."),["images","affiliateLink"].forEach(Pe=>{try{if(u[Pe]){const ee=u[Pe].split(",").map(me=>me.trim()).filter(Boolean);for(const me of ee){if(!me.startsWith("http://")&&!me.startsWith("https://")){O[Pe]=`URL for ${Pe} must start with http:// or https://`;break}new URL(me)}}}catch{O[Pe]=`Invalid URL format for ${Pe}. Ensure URLs are valid and separated by commas if multiple.`}}),u.priceBefore!==""&&u.priceAfter!==""&&u.discount!==""){const Pe=Number(u.priceBefore),ee=Number(u.priceAfter),me=Number(u.discount);if(Pe>0&&ee>=0){const ge=(Pe-ee)/Pe*100;Math.abs(ge-me)>1&&(O.discount="Discount does not match prices (within 1% tolerance).")}}return g(O),Object.keys(O).length===0},Ae=()=>({title:u.title,description:u.description||"",images:u.images.split(",").map(O=>O.trim()).filter(Boolean).join(","),affiliateLink:u.affiliateLink,priceBefore:Number(u.priceBefore),priceAfter:Number(u.priceAfter),discount:Number(u.discount),rating:Number(u.rating),ratingCount:Number(u.ratingCount),couponCode:u.couponCode||"",postedAgo:u.postedAgo||"Just now",category:u.category,application:u.application,isTopDeal:u.isTopDeal}),Ce=async()=>{if(!n){T("Database not ready.");return}if(de())try{const O=Ae();await XD(n,O),T("Product added successfully to Firestore!"),r("/admin/products")}catch(O){T("Failed to add product: "+O.message),console.error("Add Product Error:",O)}else T("Please correct the errors in the form.")},Fe=async()=>{if(!n){T("Database not ready.");return}if(de()&&e)try{const O=Ae();await WD(n,e,O),T("Product updated successfully in Firestore!"),r("/admin/products")}catch(O){T("Failed to update product: "+O.message),console.error("Update Product Error:",O)}else T("Please correct the errors in the form or select a product to update.")},U=()=>{r("/admin/products")},D=O=>{L(O),x(!0)},M=async()=>{if(!n){T("Database not ready.");return}try{await ZD(n,z),T(`Product (ID: ${z}) deleted successfully from Firestore.`),x(!1),L(null)}catch(O){T("Failed to delete product: "+O.message),console.error("Delete Product Error:",O),x(!1),L(null)}},V=()=>{x(!1),L(null)};return S.jsxs("div",{className:"product-data-manager-container",children:[S.jsxs(Ip,{children:[S.jsx(Qi,{path:"/",element:S.jsx("h2",{className:"section-title",children:"Manage Products"})}),S.jsx(Qi,{path:"add",element:S.jsx("h2",{className:"section-title",children:"Add New Product"})}),S.jsx(Qi,{path:"edit/:id",element:S.jsx("h2",{className:"section-title",children:"Edit Product"})})]}),_&&S.jsx("div",{className:`form-message ${Object.keys(p).length>0?"error":"success"}`,children:_}),S.jsxs(Ip,{children:[S.jsx(Qi,{path:"/",element:S.jsxs("div",{className:"product-list-management-section",children:[S.jsxs("div",{className:"list-header",children:[S.jsxs("h3",{children:["Current Products (",s.length,")"]}),S.jsx("div",{className:"list-actions",children:S.jsx("button",{className:"btn secondary-btn",onClick:()=>r("add"),children:"Add New"})})]}),s.length===0?S.jsx("p",{className:"no-products-message",children:'No products added yet. Click "Add New" to start.'}):S.jsx("ul",{className:"product-list-full",children:s.map(O=>{var j;return S.jsxs("li",{className:"product-list-item",children:[S.jsx("span",{className:"product-title-list",children:O.title}),S.jsx("span",{className:"product-platform-list",children:O.application}),S.jsxs("span",{className:"product-price-list",children:["",((j=O.priceAfter)==null?void 0:j.toLocaleString())||"N/A"]}),S.jsxs("div",{className:"item-actions",children:[S.jsx("button",{className:"icon-btn edit-btn",onClick:()=>r(`edit/${O.id}`),children:S.jsx(hS,{})}),S.jsx("button",{className:"icon-btn delete-btn",onClick:()=>D(O.id),children:S.jsx(ES,{})})]})]},O.id)})})]})}),S.jsx(Qi,{path:"add",element:S.jsxs("div",{className:"product-form-section",children:[S.jsxs("div",{className:"form-grid",children:[S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"title",children:["Title ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:Z}),p.title&&S.jsx("span",{className:"error-text",children:p.title})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"description",children:"Description"}),S.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"images",children:["Image URL(s) (comma-separated) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"images",name:"images",value:u.images,onChange:Z,placeholder:"e.g., url1.jpg, url2.png"}),p.images&&S.jsx("span",{className:"error-text",children:p.images})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"affiliateLink",children:["Affiliate Link ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"affiliateLink",name:"affiliateLink",value:u.affiliateLink,onChange:Z}),p.affiliateLink&&S.jsx("span",{className:"error-text",children:p.affiliateLink})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"priceBefore",children:["Price Before ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"priceBefore",name:"priceBefore",value:u.priceBefore,onChange:Z}),p.priceBefore&&S.jsx("span",{className:"error-text",children:p.priceBefore})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"priceAfter",children:["Price After ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"priceAfter",name:"priceAfter",value:u.priceAfter,onChange:Z}),p.priceAfter&&S.jsx("span",{className:"error-text",children:p.priceAfter})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"discount",children:["Discount (%) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"discount",name:"discount",value:u.discount,onChange:Z}),p.discount&&S.jsx("span",{className:"error-text",children:p.discount})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"rating",children:["Rating (1-5) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"rating",name:"rating",step:"0.1",min:"1",max:"5",value:u.rating,onChange:Z}),p.rating&&S.jsx("span",{className:"error-text",children:p.rating})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"ratingCount",children:["Rating Count ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"ratingCount",name:"ratingCount",value:u.ratingCount,onChange:Z}),p.ratingCount&&S.jsx("span",{className:"error-text",children:p.ratingCount})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"couponCode",children:"Coupon Code"}),S.jsx("input",{type:"text",id:"couponCode",name:"couponCode",value:u.couponCode,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"postedAgo",children:'Posted Ago (e.g., "2 hours ago")'}),S.jsx("input",{type:"text",id:"postedAgo",name:"postedAgo",value:u.postedAgo,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"category",children:["Category ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("select",{id:"category",name:"category",value:u.category,onChange:Z,children:Y.map(O=>S.jsx("option",{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),p.category&&S.jsx("span",{className:"error-text",children:p.category})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"application",children:["Platform ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("select",{id:"application",name:"application",value:u.application,onChange:Z,children:Q.map(O=>S.jsx("option",{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),p.application&&S.jsx("span",{className:"error-text",children:p.application})]}),S.jsxs("div",{className:"form-group checkbox-group",children:[S.jsx("input",{type:"checkbox",id:"isTopDeal",name:"isTopDeal",checked:u.isTopDeal,onChange:Z}),S.jsx("label",{htmlFor:"isTopDeal",children:"Is Top Deal?"})]})]}),S.jsxs("div",{className:"form-actions",children:[S.jsx("button",{type:"button",className:"btn secondary-btn",onClick:U,children:"Cancel"}),S.jsx("button",{type:"button",className:"btn primary-btn",onClick:Ce,children:"Add Product"})]})]})}),S.jsx(Qi,{path:"edit/:id",element:S.jsxs("div",{className:"product-form-section",children:[S.jsxs("div",{className:"form-grid",children:[S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"title",children:["Title ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:Z}),p.title&&S.jsx("span",{className:"error-text",children:p.title})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"description",children:"Description"}),S.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"images",children:["Image URL(s) (comma-separated) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"images",name:"images",value:u.images,onChange:Z,placeholder:"e.g., url1.jpg, url2.png"}),p.images&&S.jsx("span",{className:"error-text",children:p.images})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"affiliateLink",children:["Affiliate Link ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"text",id:"affiliateLink",name:"affiliateLink",value:u.affiliateLink,onChange:Z}),p.affiliateLink&&S.jsx("span",{className:"error-text",children:p.affiliateLink})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"priceBefore",children:["Price Before ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"priceBefore",name:"priceBefore",value:u.priceBefore,onChange:Z}),p.priceBefore&&S.jsx("span",{className:"error-text",children:p.priceBefore})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"priceAfter",children:["Price After ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"priceAfter",name:"priceAfter",value:u.priceAfter,onChange:Z}),p.priceAfter&&S.jsx("span",{className:"error-text",children:p.priceAfter})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"discount",children:["Discount (%) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"discount",name:"discount",value:u.discount,onChange:Z}),p.discount&&S.jsx("span",{className:"error-text",children:p.discount})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"rating",children:["Rating (1-5) ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"rating",name:"rating",step:"0.1",min:"1",max:"5",value:u.rating,onChange:Z}),p.rating&&S.jsx("span",{className:"error-text",children:p.rating})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"ratingCount",children:["Rating Count ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("input",{type:"number",id:"ratingCount",name:"ratingCount",value:u.ratingCount,onChange:Z}),p.ratingCount&&S.jsx("span",{className:"error-text",children:p.ratingCount})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"couponCode",children:"Coupon Code"}),S.jsx("input",{type:"text",id:"couponCode",name:"couponCode",value:u.couponCode,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"postedAgo",children:'Posted Ago (e.g., "2 hours ago")'}),S.jsx("input",{type:"text",id:"postedAgo",name:"postedAgo",value:u.postedAgo,onChange:Z})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"category",children:["Category ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("select",{id:"category",name:"category",value:u.category,onChange:Z,children:Y.map(O=>S.jsx("option",{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),p.category&&S.jsx("span",{className:"error-text",children:p.category})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{htmlFor:"application",children:["Platform ",S.jsx("span",{className:"required",children:"*"})]}),S.jsx("select",{id:"application",name:"application",value:u.application,onChange:Z,children:Q.map(O=>S.jsx("option",{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),p.application&&S.jsx("span",{className:"error-text",children:p.application})]}),S.jsxs("div",{className:"form-group checkbox-group",children:[S.jsx("input",{type:"checkbox",id:"isTopDeal",name:"isTopDeal",checked:u.isTopDeal,onChange:Z}),S.jsx("label",{htmlFor:"isTopDeal",children:"Is Top Deal?"})]})]}),S.jsxs("div",{className:"form-actions",children:[S.jsx("button",{type:"button",className:"btn secondary-btn",onClick:U,children:"Cancel"}),S.jsx("button",{type:"button",className:"btn primary-btn",onClick:Fe,children:"Update Product"})]})]})})]}),N&&S.jsx("div",{className:"modal-overlay",children:S.jsxs("div",{className:"modal-content",children:[S.jsx("h3",{children:"Confirm Deletion"}),S.jsx("p",{children:"Are you sure you want to delete this product? This action cannot be undone."}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"btn secondary-btn",onClick:V,children:"Cancel"}),S.jsx("button",{className:"btn delete-confirm-btn",onClick:M,children:"Delete"})]})]})})]})},u1=X.createContext(null),mu=()=>X.useContext(u1),eO=({children:r})=>{const{auth:e,db:n,firebaseApp:s}=a_(),[o,u]=X.useState(null),[f,p]=X.useState(!0);X.useEffect(()=>{if(e){const x=vb(e,z=>{u(z),p(!1)});return()=>x()}},[e]);const N={currentUser:o,isLoggedIn:!!o,login:async(x,z)=>{if(!e)return console.error("Firebase Auth not initialized."),{success:!1,message:"Authentication service not ready."};try{return await mR(e,x,z),{success:!0,message:"Logged in successfully!"}}catch(L){console.error("Login error:",L);let Y="Failed to log in.";return L.code==="auth/user-not-found"||L.code==="auth/wrong-password"||L.code==="auth/invalid-credential"?Y="Invalid email or password.":L.code==="auth/too-many-requests"&&(Y="Too many login attempts. Please try again later."),{success:!1,message:Y}}},register:async(x,z)=>{if(!e)return console.error("Firebase Auth not initialized."),{success:!1,message:"Authentication service not ready."};try{return await dR(e,x,z),{success:!0,message:"Registration successful! You are now logged in."}}catch(L){console.error("Registration error:",L);let Y="Failed to register.";return L.code==="auth/email-already-in-use"?Y="Email already in use. Please use a different email or log in.":L.code==="auth/weak-password"&&(Y="Password is too weak. Please use a stronger password."),{success:!1,message:Y}}},logout:async()=>{if(!e){console.error("Firebase Auth not initialized.");return}try{await _R(e)}catch(x){console.error("Logout error:",x)}},loadingAuth:f};return f?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem",color:"#333"},children:"Authenticating..."}):S.jsx(u1.Provider,{value:N,children:r})},tO=()=>{const[r,e]=X.useState(""),[n,s]=X.useState(""),[o,u]=X.useState(""),{login:f,loadingAuth:p}=mu(),g=dl(),_=async T=>{if(T.preventDefault(),u(""),!r||!n){u("Please enter both email and password.");return}const N=await f(r,n);N.success?g("/admin/products"):u(N.message)};return p?S.jsx("div",{className:"auth-container",children:S.jsx("h2",{className:"section-title",children:"Loading..."})}):S.jsxs("div",{className:"auth-container",children:[S.jsx("h2",{className:"section-title",children:"Login"}),S.jsxs("form",{onSubmit:_,className:"auth-form",children:[o&&S.jsx("div",{className:"form-message error",children:o}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Email:"})," ",S.jsx("input",{type:"email",id:"email",value:r,onChange:T=>e(T.target.value),required:!0,autoComplete:"username"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{type:"password",id:"password",value:n,onChange:T=>s(T.target.value),required:!0,autoComplete:"current-password"})]}),S.jsx("button",{type:"submit",className:"btn primary-btn",children:"Login"})]}),S.jsxs("p",{className:"auth-footer-text",children:["Don't have an account? ",S.jsx(Tn,{to:"/register",className:"auth-link",children:"Register here"})]})]})},nO=()=>{const[r,e]=X.useState(""),[n,s]=X.useState(""),[o,u]=X.useState(""),[f,p]=X.useState(""),[g,_]=X.useState(!1),{register:T,loadingAuth:N}=mu(),x=dl(),z=async L=>{if(L.preventDefault(),p(""),_(!1),!r||!n||!o){p("All fields are required."),_(!0);return}if(n!==o){p("Passwords do not match."),_(!0);return}if(n.length<6){p("Password must be at least 6 characters long."),_(!0);return}const Y=await T(r,n);Y.success?(p(Y.message),_(!1),setTimeout(()=>x("/admin/products"),1500)):(p(Y.message),_(!0))};return N?S.jsx("div",{className:"auth-container",children:S.jsx("h2",{className:"section-title",children:"Loading..."})}):S.jsxs("div",{className:"auth-container",children:[S.jsx("h2",{className:"section-title",children:"Register"}),S.jsxs("form",{onSubmit:z,className:"auth-form",children:[f&&S.jsx("div",{className:`form-message ${g?"error":"success"}`,children:f}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"reg-email",children:"Email:"})," ",S.jsx("input",{type:"email",id:"reg-email",value:r,onChange:L=>e(L.target.value),required:!0,autoComplete:"email"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"reg-password",children:"Password:"}),S.jsx("input",{type:"password",id:"reg-password",value:n,onChange:L=>s(L.target.value),required:!0,autoComplete:"new-password"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password:"}),S.jsx("input",{type:"password",id:"confirm-password",value:o,onChange:L=>u(L.target.value),required:!0,autoComplete:"new-password"})]}),S.jsx("button",{type:"submit",className:"btn primary-btn",children:"Register"})]}),S.jsxs("p",{className:"auth-footer-text",children:["Already have an account? ",S.jsx(Tn,{to:"/login",className:"auth-link",children:"Login here"})]})]})},iO=()=>{const{isLoggedIn:r,loadingAuth:e}=mu();return e?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem",color:"#333"},children:"Loading authentication state..."}):r?S.jsx(Ew,{}):S.jsx(vw,{to:"/login",replace:!0})};function rO(){const{db:r}=a_(),{isLoggedIn:e,currentUser:n,logout:s,loadingAuth:o}=mu(),[u,f]=X.useState([]),[p,g]=X.useState("liveDeals"),[_,T]=X.useState("all"),[N,x]=X.useState("all"),[z,L]=X.useState("all"),[Y,Q]=X.useState(""),[ie,Z]=X.useState(!1),[de,Ae]=X.useState(!1),Ce=qr(),Fe=["all","books","electronics","fashion","home","sports","kitchen","automotive","health"],U=["all","ajio","amazon","flipkart","meesho","myntra","nykaa","cultfit"],D=["all","10","20","30","40","50","60","70","80","90"];X.useEffect(()=>{if(r){const ge=l1(r,f,Oe=>console.error(Oe));return()=>ge()}},[r]);const M=u.filter(ge=>{var kt,ve,Cn;const Oe=((kt=ge.category)==null?void 0:kt.toLowerCase())??"",C=((ve=ge.application)==null?void 0:ve.toLowerCase())??"",oe=((Cn=ge.title)==null?void 0:Cn.toLowerCase())??"",fe=_==="all"||Oe===_,he=N==="all"||C===N,_e=oe.includes(Y.toLowerCase());let $e=!0;p==="topDeals"?$e=ge.isTopDeal:p==="coupons"&&($e=ge.couponCode!==null&&ge.couponCode!=="");let xe=!0;if(z!=="all"){const xi=parseInt(z);xe=(ge.discount??0)>=xi}return fe&&he&&_e&&$e&&xe}),V=()=>{Z(!ie)},O=ge=>{T(ge)},j=ge=>{x(ge)},k=ge=>{L(ge)},Pt=()=>{Ae(!de)},Pe=X.useCallback(()=>{if(Ce.pathname!=="/")return"Search disabled...";let ge=0,Oe="",C="";if(_!=="all"&&(ge++,Oe="category",C=_),N!=="all"&&(ge++,Oe="platform",C=N),z!=="all"&&(ge++,Oe="discount",C=`${z}%+`),ge===1){if(Oe==="category")return`Search in ${C.charAt(0).toUpperCase()+C.slice(1)}...`;if(Oe==="platform")return`Search on ${C.charAt(0).toUpperCase()+C.slice(1)}...`;if(Oe==="discount")return`Search ${C} deals...`}else if(ge>1)return"Search filtered deals...";return"Search all deals..."},[_,N,z,Ce.pathname]),ee=()=>{const ge=dl(),{isLoggedIn:Oe,currentUser:C,logout:oe}=mu(),fe=qr(),he=()=>{oe(),ge("/login")};return S.jsx("header",{className:"main-header",children:S.jsxs("div",{className:"header-content-wrapper",children:[S.jsx(Tn,{to:"/",className:"logo",onClick:()=>Ae(!1),children:"TopLiveDeals"}),S.jsxs("div",{className:"nav-links",children:[S.jsx(Tn,{to:"/",className:`nav-item ${p==="liveDeals"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("liveDeals"),Ae(!1)},children:"Live Deals"}),S.jsx(Tn,{to:"/",className:`nav-item ${p==="topDeals"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("topDeals"),Ae(!1)},children:"Top Deals"}),S.jsx(Tn,{to:"/",className:`nav-item ${p==="coupons"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("coupons"),Ae(!1)},children:"Coupons"}),Oe&&(C==null?void 0:C.email)&&S.jsxs("div",{className:`nav-item has-submenu ${fe.pathname.startsWith("/admin/products")?"active":""} ${de?"submenu-open":""}`,onClick:Pt,children:[S.jsx("span",{children:"Products"})," ",S.jsx(uS,{className:"submenu-arrow"}),de&&S.jsxs("div",{className:"submenu",children:[S.jsx(Tn,{to:"/admin/products",className:"submenu-item",onClick:_e=>{_e.stopPropagation(),Ae(!1)},children:"View/Manage Products"}),S.jsx(Tn,{to:"/admin/products/add",className:"submenu-item",onClick:_e=>{_e.stopPropagation(),Ae(!1)},children:"Add New Product"})]})]}),Oe?S.jsxs("div",{className:"nav-item user-info",onClick:he,children:[S.jsx(bS,{})," ",C.email," ",C.uid&&S.jsxs("span",{className:"user-id-display",children:[" (ID: ",C.uid.substring(0,5),"...)"]})," ",S.jsx(pS,{className:"ml-1"})]}):S.jsxs(S.Fragment,{children:[S.jsxs(Tn,{to:"/login",className:"nav-item",children:[S.jsx(mS,{})," Login"]}),S.jsxs(Tn,{to:"/register",className:"nav-item",children:[S.jsx(TS,{})," Register"]})]})]}),S.jsxs("div",{className:"search-wrapper",children:[S.jsx("input",{type:"text",placeholder:Pe(),className:"search-input",value:Y,onChange:_e=>Q(_e.target.value),disabled:fe.pathname!=="/"}),S.jsx("button",{className:"search-icon",disabled:fe.pathname!=="/",children:S.jsx(dS,{})})]}),S.jsxs("button",{className:"menu-toggle",onClick:V,children:[S.jsx(lS,{}),S.jsx("span",{className:"menu-toggle-text",children:"Filters"})]})]})})},me=()=>{const{isLoggedIn:ge,currentUser:Oe,logout:C}=mu(),oe=dl(),fe=qr(),he=()=>{C(),oe("/login"),V()};return S.jsxs("div",{className:`mobile-side-menu ${ie?"open":""}`,children:[S.jsxs("div",{className:"mobile-menu-header",children:[S.jsx("h3",{children:"Menu"}),S.jsx("button",{className:"menu-close-btn",onClick:V,children:S.jsx(vS,{})})]}),S.jsxs("div",{className:"mobile-nav-section",children:[S.jsx("span",{className:"mobile-filter-label",children:"Navigation:"}),S.jsxs("div",{className:"mobile-filter-options",children:[S.jsx(Tn,{to:"/",className:`filter-btn ${p==="liveDeals"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("liveDeals"),V()},children:"Live Deals"}),S.jsx(Tn,{to:"/",className:`filter-btn ${p==="topDeals"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("topDeals"),V()},children:"Top Deals"}),S.jsx(Tn,{to:"/",className:`filter-btn ${p==="coupons"&&fe.pathname==="/"?"active":""}`,onClick:()=>{g("coupons"),V()},children:"Coupons"}),ge&&(Oe==null?void 0:Oe.email)&&S.jsxs(S.Fragment,{children:[S.jsx(Tn,{to:"/admin/products",className:`filter-btn ${fe.pathname.startsWith("/admin/products")&&!fe.pathname.endsWith("/add")&&!fe.pathname.includes("/edit/")?"active":""}`,onClick:()=>{V()},children:"View/Manage Products"}),S.jsx(Tn,{to:"/admin/products/add",className:`filter-btn ${fe.pathname.endsWith("/add")?"active":""}`,onClick:()=>{V()},children:"Add New Product"})]}),ge?S.jsxs("button",{className:"filter-btn",onClick:he,children:["Logout (",Oe.email,") ",Oe.uid&&S.jsxs("span",{className:"user-id-display",children:[" (ID: ",Oe.uid.substring(0,5),"...)"]})]}):S.jsxs(S.Fragment,{children:[S.jsx(Tn,{to:"/login",className:"filter-btn",onClick:V,children:"Login"}),S.jsx(Tn,{to:"/register",className:"filter-btn",onClick:V,children:"Register"})]})]})]}),fe.pathname==="/"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mobile-filter-section",children:[S.jsx("span",{className:"mobile-filter-label",children:"Category:"}),S.jsx("div",{className:"mobile-filter-options",children:Fe.map(_e=>S.jsx("button",{className:`filter-btn ${_===_e?"active":""}`,onClick:()=>O(_e),children:_e.charAt(0).toUpperCase()+_e.slice(1)},`mobile-cat-${_e}`))})]}),S.jsxs("div",{className:"mobile-filter-section",children:[S.jsx("span",{className:"mobile-filter-label",children:"Platform:"}),S.jsx("div",{className:"mobile-filter-options",children:U.map(_e=>S.jsx("button",{className:`filter-btn ${N===_e?"active":""}`,onClick:()=>j(_e),children:_e.charAt(0).toUpperCase()+_e.slice(1)},`mobile-plat-${_e}`))})]}),S.jsxs("div",{className:"mobile-filter-section",children:[S.jsx("span",{className:"mobile-filter-label",children:"Discount:"}),S.jsx("div",{className:"mobile-filter-options",children:D.map(_e=>S.jsx("button",{className:`filter-btn ${z===_e?"active":""}`,onClick:()=>k(_e),children:_e==="all"?"All":`${_e}%+`},`mobile-disc-${_e}`))})]})]})]})};return S.jsxs("div",{className:"app-container",children:[S.jsx(ee,{}),S.jsx(me,{}),ie&&S.jsx("div",{className:"overlay",onClick:V}),S.jsx("main",{className:"content-area",children:S.jsxs(Ip,{children:[S.jsx(Qi,{path:"/",element:S.jsxs(S.Fragment,{children:[S.jsxs("h2",{className:"section-title",children:[p==="liveDeals"&&"All Live Deals",p==="topDeals"&&"Top Deals",p==="coupons"&&"Deals with Coupons"]}),S.jsx("div",{className:"product-grid",children:M.length>0?M.map(ge=>S.jsx("div",{className:"product-card-wrapper",children:S.jsx(IS,{product:ge})},ge.id)):S.jsx("p",{className:"no-products-message",children:"No products found matching your criteria."})})]})}),S.jsx(Qi,{path:"/login",element:S.jsx(tO,{})}),S.jsx(Qi,{path:"/register",element:S.jsx(nO,{})}),S.jsx(Qi,{path:"/admin",element:S.jsx(iO,{}),children:S.jsx(Qi,{path:"products/*",element:S.jsx(JD,{})})}),S.jsx(Qi,{path:"*",element:S.jsx("h2",{className:"section-title",children:"404: Page Not Found"})})]})}),S.jsxs("footer",{className:"main-footer",children:[" ",new Date().getFullYear()," TopLiveDeals. All rights reserved.",S.jsx("br",{}),"As an Amazon Associate, I learn from qualifying purchases. Other affiliate programs apply."]})]})}const sO=()=>S.jsx(QD,{children:S.jsx(eO,{children:S.jsx(rO,{})})});var sd={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var aO=sd.exports,gE;function oO(){return gE||(gE=1,function(r,e){(function(n,s){r.exports=s()})(aO,function(){const n=new Map,s={set(A,d,v){n.has(A)||n.set(A,new Map);const R=n.get(A);R.has(d)||R.size===0?R.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(R.keys())[0]}.`)},get:(A,d)=>n.has(A)&&n.get(A).get(d)||null,remove(A,d){if(!n.has(A))return;const v=n.get(A);v.delete(d),v.size===0&&n.delete(A)}},o="transitionend",u=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),A),f=A=>{A.dispatchEvent(new Event(o))},p=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),g=A=>p(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(u(A)):null,_=A=>{if(!p(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",v=A.closest("details:not([open])");if(!v)return d;if(v!==A){const R=A.closest("summary");if(R&&R.parentNode!==v||R===null)return!1}return d},T=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),N=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?N(A.parentNode):null},x=()=>{},z=A=>{A.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Y=[],Q=()=>document.documentElement.dir==="rtl",ie=A=>{var d;d=()=>{const v=L();if(v){const R=A.NAME,q=v.fn[R];v.fn[R]=A.jQueryInterface,v.fn[R].Constructor=A,v.fn[R].noConflict=()=>(v.fn[R]=q,A.jQueryInterface)}},document.readyState==="loading"?(Y.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of Y)v()}),Y.push(d)):d()},Z=(A,d=[],v=A)=>typeof A=="function"?A.call(...d):v,de=(A,d,v=!0)=>{if(!v)return void Z(A);const R=(ne=>{if(!ne)return 0;let{transitionDuration:se,transitionDelay:pe}=window.getComputedStyle(ne);const Te=Number.parseFloat(se),we=Number.parseFloat(pe);return Te||we?(se=se.split(",")[0],pe=pe.split(",")[0],1e3*(Number.parseFloat(se)+Number.parseFloat(pe))):0})(d)+5;let q=!1;const H=({target:ne})=>{ne===d&&(q=!0,d.removeEventListener(o,H),Z(A))};d.addEventListener(o,H),setTimeout(()=>{q||f(d)},R)},Ae=(A,d,v,R)=>{const q=A.length;let H=A.indexOf(d);return H===-1?!v&&R?A[q-1]:A[0]:(H+=v?1:-1,R&&(H=(H+q)%q),A[Math.max(0,Math.min(H,q-1))])},Ce=/[^.]*(?=\..*)\.|.*/,Fe=/\..*/,U=/::\d+$/,D={};let M=1;const V={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(A,d){return d&&`${d}::${M++}`||A.uidEvent||M++}function k(A){const d=j(A);return A.uidEvent=d,D[d]=D[d]||{},D[d]}function Pt(A,d,v=null){return Object.values(A).find(R=>R.callable===d&&R.delegationSelector===v)}function Pe(A,d,v){const R=typeof d=="string",q=R?v:d||v;let H=Oe(A);return O.has(H)||(H=A),[R,q,H]}function ee(A,d,v,R,q){if(typeof d!="string"||!A)return;let[H,ne,se]=Pe(d,v,R);d in V&&(ne=(Ye=>function(je){if(!je.relatedTarget||je.relatedTarget!==je.delegateTarget&&!je.delegateTarget.contains(je.relatedTarget))return Ye.call(this,je)})(ne));const pe=k(A),Te=pe[se]||(pe[se]={}),we=Pt(Te,ne,H?v:null);if(we)return void(we.oneOff=we.oneOff&&q);const Ee=j(ne,d.replace(Ce,"")),Ke=H?function(Me,Ye,je){return function Ve(gt){const bt=Me.querySelectorAll(Ye);for(let{target:Ze}=gt;Ze&&Ze!==this;Ze=Ze.parentNode)for(const ct of bt)if(ct===Ze)return oe(gt,{delegateTarget:Ze}),Ve.oneOff&&C.off(Me,gt.type,Ye,je),je.apply(Ze,[gt])}}(A,v,ne):function(Me,Ye){return function je(Ve){return oe(Ve,{delegateTarget:Me}),je.oneOff&&C.off(Me,Ve.type,Ye),Ye.apply(Me,[Ve])}}(A,ne);Ke.delegationSelector=H?v:null,Ke.callable=ne,Ke.oneOff=q,Ke.uidEvent=Ee,Te[Ee]=Ke,A.addEventListener(se,Ke,H)}function me(A,d,v,R,q){const H=Pt(d[v],R,q);H&&(A.removeEventListener(v,H,!!q),delete d[v][H.uidEvent])}function ge(A,d,v,R){const q=d[v]||{};for(const[H,ne]of Object.entries(q))H.includes(R)&&me(A,d,v,ne.callable,ne.delegationSelector)}function Oe(A){return A=A.replace(Fe,""),V[A]||A}const C={on(A,d,v,R){ee(A,d,v,R,!1)},one(A,d,v,R){ee(A,d,v,R,!0)},off(A,d,v,R){if(typeof d!="string"||!A)return;const[q,H,ne]=Pe(d,v,R),se=ne!==d,pe=k(A),Te=pe[ne]||{},we=d.startsWith(".");if(H===void 0){if(we)for(const Ee of Object.keys(pe))ge(A,pe,Ee,d.slice(1));for(const[Ee,Ke]of Object.entries(Te)){const Me=Ee.replace(U,"");se&&!d.includes(Me)||me(A,pe,ne,Ke.callable,Ke.delegationSelector)}}else{if(!Object.keys(Te).length)return;me(A,pe,ne,H,q?v:null)}},trigger(A,d,v){if(typeof d!="string"||!A)return null;const R=L();let q=null,H=!0,ne=!0,se=!1;d!==Oe(d)&&R&&(q=R.Event(d,v),R(A).trigger(q),H=!q.isPropagationStopped(),ne=!q.isImmediatePropagationStopped(),se=q.isDefaultPrevented());const pe=oe(new Event(d,{bubbles:H,cancelable:!0}),v);return se&&pe.preventDefault(),ne&&A.dispatchEvent(pe),pe.defaultPrevented&&q&&q.preventDefault(),pe}};function oe(A,d={}){for(const[v,R]of Object.entries(d))try{A[v]=R}catch{Object.defineProperty(A,v,{configurable:!0,get:()=>R})}return A}function fe(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function he(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const _e={setDataAttribute(A,d,v){A.setAttribute(`data-bs-${he(d)}`,v)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${he(d)}`)},getDataAttributes(A){if(!A)return{};const d={},v=Object.keys(A.dataset).filter(R=>R.startsWith("bs")&&!R.startsWith("bsConfig"));for(const R of v){let q=R.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1),d[q]=fe(A.dataset[R])}return d},getDataAttribute:(A,d)=>fe(A.getAttribute(`data-bs-${he(d)}`))};class $e{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const R=p(v)?_e.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof R=="object"?R:{},...p(v)?_e.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[q,H]of Object.entries(v)){const ne=d[q],se=p(ne)?"element":(R=ne)==null?`${R}`:Object.prototype.toString.call(R).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(H).test(se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${q}" provided type "${se}" but expected type "${H}".`)}var R}}class xe extends $e{constructor(d,v){super(),(d=g(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,R=!0){de(d,v,R)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(g(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const kt=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let v=A.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>u(v)).join(","):null},ve={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(v=>v.matches(d)),parents(A,d){const v=[];let R=A.parentNode.closest(d);for(;R;)v.push(R),R=R.parentNode.closest(d);return v},prev(A,d){let v=A.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(A,d){let v=A.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(v=>!T(v)&&_(v))},getSelectorFromElement(A){const d=kt(A);return d&&ve.findOne(d)?d:null},getElementFromSelector(A){const d=kt(A);return d?ve.findOne(d):null},getMultipleElementsFromSelector(A){const d=kt(A);return d?ve.find(d):[]}},Cn=(A,d="hide")=>{const v=`click.dismiss${A.EVENT_KEY}`,R=A.NAME;C.on(document,v,`[data-bs-dismiss="${R}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),T(this))return;const H=ve.getElementFromSelector(this)||this.closest(`.${R}`);A.getOrCreateInstance(H)[d]()})},xi=".bs.alert",br=`close${xi}`,Rs=`closed${xi}`;class Ni extends xe{static get NAME(){return"alert"}close(){if(C.trigger(this._element,br).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),C.trigger(this._element,Rs),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=Ni.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}Cn(Ni,"close"),ie(Ni);const Qr='[data-bs-toggle="button"]';class Tr extends xe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Tr.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}C.on(document,"click.bs.button.data-api",Qr,A=>{A.preventDefault();const d=A.target.closest(Qr);Tr.getOrCreateInstance(d).toggle()}),ie(Tr);const Ar=".bs.swipe",hi=`touchstart${Ar}`,Vu=`touchmove${Ar}`,Mo=`touchend${Ar}`,Aa=`pointerdown${Ar}`,Is=`pointerup${Ar}`,Lu={endCallback:null,leftCallback:null,rightCallback:null},wa={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Xr extends $e{constructor(d,v){super(),this._element=d,d&&Xr.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Lu}static get DefaultType(){return wa}static get NAME(){return"swipe"}dispose(){C.off(this._element,Ar)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),Z(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&Z(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,Aa,d=>this._start(d)),C.on(this._element,Is,d=>this._end(d)),this._element.classList.add("pointer-event")):(C.on(this._element,hi,d=>this._start(d)),C.on(this._element,Vu,d=>this._move(d)),C.on(this._element,Mo,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Di=".bs.carousel",Vt=".data-api",yt="ArrowLeft",ii="ArrowRight",Ht="next",wr="prev",Wr="left",Wi="right",xs=`slide${Di}`,Sr=`slid${Di}`,Oi=`keydown${Di}`,Sa=`mouseenter${Di}`,Ns=`mouseleave${Di}`,Po=`dragstart${Di}`,ko=`load${Di}${Vt}`,Vo=`click${Di}${Vt}`,Zi="carousel",fi="active",Ca=".active",Mi=".carousel-item",Lo=Ca+Mi,Zr={[yt]:Wi,[ii]:Wr},Ra={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Jr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Cr extends xe{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ve.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Zi&&this.cycle()}static get Default(){return Ra}static get DefaultType(){return Jr}static get NAME(){return"carousel"}next(){this._slide(Ht)}nextWhenVisible(){!document.hidden&&_(this._element)&&this.next()}prev(){this._slide(wr)}pause(){this._isSliding&&f(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?C.one(this._element,Sr,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void C.one(this._element,Sr,()=>this.to(d));const R=this._getItemIndex(this._getActive());if(R===d)return;const q=d>R?Ht:wr;this._slide(q,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&C.on(this._element,Oi,d=>this._keydown(d)),this._config.pause==="hover"&&(C.on(this._element,Sa,()=>this.pause()),C.on(this._element,Ns,()=>this._maybeEnableCycle())),this._config.touch&&Xr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ve.find(".carousel-item img",this._element))C.on(v,Po,R=>R.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Wr)),rightCallback:()=>this._slide(this._directionToOrder(Wi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Xr(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Zr[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ve.findOne(Ca,this._indicatorsElement);v.classList.remove(fi),v.removeAttribute("aria-current");const R=ve.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);R&&(R.classList.add(fi),R.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const R=this._getActive(),q=d===Ht,H=v||Ae(this._getItems(),R,q,this._config.wrap);if(H===R)return;const ne=this._getItemIndex(H),se=Ee=>C.trigger(this._element,Ee,{relatedTarget:H,direction:this._orderToDirection(d),from:this._getItemIndex(R),to:ne});if(se(xs).defaultPrevented||!R||!H)return;const pe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ne),this._activeElement=H;const Te=q?"carousel-item-start":"carousel-item-end",we=q?"carousel-item-next":"carousel-item-prev";H.classList.add(we),z(H),R.classList.add(Te),H.classList.add(Te),this._queueCallback(()=>{H.classList.remove(Te,we),H.classList.add(fi),R.classList.remove(fi,we,Te),this._isSliding=!1,se(Sr)},R,this._isAnimated()),pe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ve.findOne(Lo,this._element)}_getItems(){return ve.find(Mi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return Q()?d===Wr?wr:Ht:d===Wr?Ht:wr}_orderToDirection(d){return Q()?d===wr?Wr:Wi:d===wr?Wi:Wr}static jQueryInterface(d){return this.each(function(){const v=Cr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}C.on(document,Vo,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=ve.getElementFromSelector(this);if(!d||!d.classList.contains(Zi))return;A.preventDefault();const v=Cr.getOrCreateInstance(d),R=this.getAttribute("data-bs-slide-to");return R?(v.to(R),void v._maybeEnableCycle()):_e.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),C.on(window,ko,()=>{const A=ve.find('[data-bs-ride="carousel"]');for(const d of A)Cr.getOrCreateInstance(d)}),ie(Cr);const vt=".bs.collapse",Yt=`show${vt}`,Ft=`shown${vt}`,di=`hide${vt}`,Uo=`hidden${vt}`,Uu=`click${vt}.data-api`,Ji="show",Rr="collapse",er="collapsing",es=`:scope .${Rr} .${Rr}`,Pi='[data-bs-toggle="collapse"]',tr={parent:null,toggle:!0},nr={parent:"(null|element)",toggle:"boolean"};class $t extends xe{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const R=ve.find(Pi);for(const q of R){const H=ve.getSelectorFromElement(q),ne=ve.find(H).filter(se=>se===this._element);H!==null&&ne.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tr}static get DefaultType(){return nr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(q=>q!==this._element).map(q=>$t.getOrCreateInstance(q,{toggle:!1}))),d.length&&d[0]._isTransitioning||C.trigger(this._element,Yt).defaultPrevented)return;for(const q of d)q.hide();const v=this._getDimension();this._element.classList.remove(Rr),this._element.classList.add(er),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const R=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(er),this._element.classList.add(Rr,Ji),this._element.style[v]="",C.trigger(this._element,Ft)},this._element,!0),this._element.style[v]=`${this._element[R]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,di).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,z(this._element),this._element.classList.add(er),this._element.classList.remove(Rr,Ji);for(const v of this._triggerArray){const R=ve.getElementFromSelector(v);R&&!this._isShown(R)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(er),this._element.classList.add(Rr),C.trigger(this._element,Uo)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Ji)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=g(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Pi);for(const v of d){const R=ve.getElementFromSelector(v);R&&this._addAriaAndCollapsedClass([v],this._isShown(R))}}_getFirstLevelChildren(d){const v=ve.find(es,this._config.parent);return ve.find(d,this._config.parent).filter(R=>!v.includes(R))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const R of d)R.classList.toggle("collapsed",!v),R.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const R=$t.getOrCreateInstance(this,v);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d]()}})}}C.on(document,Uu,Pi,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of ve.getMultipleElementsFromSelector(this))$t.getOrCreateInstance(d,{toggle:!1}).toggle()}),ie($t);var nt="top",dn="bottom",sn="right",xt="left",mi="auto",Ir=[nt,dn,sn,xt],ir="start",pi="end",jo="clippingParents",rr="viewport",Pn="popper",an="reference",xr=Ir.reduce(function(A,d){return A.concat([d+"-"+ir,d+"-"+pi])},[]),Ia=[].concat(Ir,[mi]).reduce(function(A,d){return A.concat([d,d+"-"+ir,d+"-"+pi])},[]),sr="beforeRead",Ds="read",Os="afterRead",xa="beforeMain",Ms="main",Rn="afterMain",Na="beforeWrite",bl="write",Ps="afterWrite",Da=[sr,Ds,Os,xa,Ms,Rn,Na,bl,Ps];function In(A){return A?(A.nodeName||"").toLowerCase():null}function kn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function St(A){return A instanceof kn(A).Element||A instanceof Element}function Dt(A){return A instanceof kn(A).HTMLElement||A instanceof HTMLElement}function Nr(A){return typeof ShadowRoot<"u"&&(A instanceof kn(A).ShadowRoot||A instanceof ShadowRoot)}const ar={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(v){var R=d.styles[v]||{},q=d.attributes[v]||{},H=d.elements[v];Dt(H)&&In(H)&&(Object.assign(H.style,R),Object.keys(q).forEach(function(ne){var se=q[ne];se===!1?H.removeAttribute(ne):H.setAttribute(ne,se===!0?"":se)}))})},effect:function(A){var d=A.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(R){var q=d.elements[R],H=d.attributes[R]||{},ne=Object.keys(d.styles.hasOwnProperty(R)?d.styles[R]:v[R]).reduce(function(se,pe){return se[pe]="",se},{});Dt(q)&&In(q)&&(Object.assign(q.style,ne),Object.keys(H).forEach(function(se){q.removeAttribute(se)}))})}},requires:["computeStyles"]};function on(A){return A.split("-")[0]}var st=Math.max,or=Math.min,mn=Math.round;function Dr(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function zo(){return!/^((?!chrome|android).)*safari/i.test(Dr())}function lr(A,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var R=A.getBoundingClientRect(),q=1,H=1;d&&Dt(A)&&(q=A.offsetWidth>0&&mn(R.width)/A.offsetWidth||1,H=A.offsetHeight>0&&mn(R.height)/A.offsetHeight||1);var ne=(St(A)?kn(A):window).visualViewport,se=!zo()&&v,pe=(R.left+(se&&ne?ne.offsetLeft:0))/q,Te=(R.top+(se&&ne?ne.offsetTop:0))/H,we=R.width/q,Ee=R.height/H;return{width:we,height:Ee,top:Te,right:pe+we,bottom:Te+Ee,left:pe,x:pe,y:Te}}function ks(A){var d=lr(A),v=A.offsetWidth,R=A.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-R)<=1&&(R=d.height),{x:A.offsetLeft,y:A.offsetTop,width:v,height:R}}function Tl(A,d){var v=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(v&&Nr(v)){var R=d;do{if(R&&A.isSameNode(R))return!0;R=R.parentNode||R.host}while(R)}return!1}function ki(A){return kn(A).getComputedStyle(A)}function Oa(A){return["table","td","th"].indexOf(In(A))>=0}function xn(A){return((St(A)?A.ownerDocument:A.document)||window.document).documentElement}function Vn(A){return In(A)==="html"?A:A.assignedSlot||A.parentNode||(Nr(A)?A.host:null)||xn(A)}function ur(A){return Dt(A)&&ki(A).position!=="fixed"?A.offsetParent:null}function ri(A){for(var d=kn(A),v=ur(A);v&&Oa(v)&&ki(v).position==="static";)v=ur(v);return v&&(In(v)==="html"||In(v)==="body"&&ki(v).position==="static")?d:v||function(R){var q=/firefox/i.test(Dr());if(/Trident/i.test(Dr())&&Dt(R)&&ki(R).position==="fixed")return null;var H=Vn(R);for(Nr(H)&&(H=H.host);Dt(H)&&["html","body"].indexOf(In(H))<0;){var ne=ki(H);if(ne.transform!=="none"||ne.perspective!=="none"||ne.contain==="paint"||["transform","perspective"].indexOf(ne.willChange)!==-1||q&&ne.willChange==="filter"||q&&ne.filter&&ne.filter!=="none")return H;H=H.parentNode}return null}(A)||d}function Vs(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function $n(A,d,v){return st(A,or(d,v))}function Bo(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function ts(A,d){return d.reduce(function(v,R){return v[R]=A,v},{})}const gi={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,v=A.state,R=A.name,q=A.options,H=v.elements.arrow,ne=v.modifiersData.popperOffsets,se=on(v.placement),pe=Vs(se),Te=[xt,sn].indexOf(se)>=0?"height":"width";if(H&&ne){var we=function(Be,ft){return Bo(typeof(Be=typeof Be=="function"?Be(Object.assign({},ft.rects,{placement:ft.placement})):Be)!="number"?Be:ts(Be,Ir))}(q.padding,v),Ee=ks(H),Ke=pe==="y"?nt:xt,Me=pe==="y"?dn:sn,Ye=v.rects.reference[Te]+v.rects.reference[pe]-ne[pe]-v.rects.popper[Te],je=ne[pe]-v.rects.reference[pe],Ve=ri(H),gt=Ve?pe==="y"?Ve.clientHeight||0:Ve.clientWidth||0:0,bt=Ye/2-je/2,Ze=we[Ke],ct=gt-Ee[Te]-we[Me],ze=gt/2-Ee[Te]/2+bt,be=$n(Ze,ze,ct),Ne=pe;v.modifiersData[R]=((d={})[Ne]=be,d.centerOffset=be-ze,d)}},effect:function(A){var d=A.state,v=A.options.element,R=v===void 0?"[data-popper-arrow]":v;R!=null&&(typeof R!="string"||(R=d.elements.popper.querySelector(R)))&&Tl(d.elements.popper,R)&&(d.elements.arrow=R)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pn(A){return A.split("-")[1]}var Ls={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vi(A){var d,v=A.popper,R=A.popperRect,q=A.placement,H=A.variation,ne=A.offsets,se=A.position,pe=A.gpuAcceleration,Te=A.adaptive,we=A.roundOffsets,Ee=A.isFixed,Ke=ne.x,Me=Ke===void 0?0:Ke,Ye=ne.y,je=Ye===void 0?0:Ye,Ve=typeof we=="function"?we({x:Me,y:je}):{x:Me,y:je};Me=Ve.x,je=Ve.y;var gt=ne.hasOwnProperty("x"),bt=ne.hasOwnProperty("y"),Ze=xt,ct=nt,ze=window;if(Te){var be=ri(v),Ne="clientHeight",Be="clientWidth";be===kn(v)&&ki(be=xn(v)).position!=="static"&&se==="absolute"&&(Ne="scrollHeight",Be="scrollWidth"),(q===nt||(q===xt||q===sn)&&H===pi)&&(ct=dn,je-=(Ee&&be===ze&&ze.visualViewport?ze.visualViewport.height:be[Ne])-R.height,je*=pe?1:-1),q!==xt&&(q!==nt&&q!==dn||H!==pi)||(Ze=sn,Me-=(Ee&&be===ze&&ze.visualViewport?ze.visualViewport.width:be[Be])-R.width,Me*=pe?1:-1)}var ft,Ct=Object.assign({position:se},Te&&Ls),Jt=we===!0?function(Qn,en){var yn=Qn.x,Ei=Qn.y,Xe=en.devicePixelRatio||1;return{x:mn(yn*Xe)/Xe||0,y:mn(Ei*Xe)/Xe||0}}({x:Me,y:je},kn(v)):{x:Me,y:je};return Me=Jt.x,je=Jt.y,pe?Object.assign({},Ct,((ft={})[ct]=bt?"0":"",ft[Ze]=gt?"0":"",ft.transform=(ze.devicePixelRatio||1)<=1?"translate("+Me+"px, "+je+"px)":"translate3d("+Me+"px, "+je+"px, 0)",ft)):Object.assign({},Ct,((d={})[ct]=bt?je+"px":"",d[Ze]=gt?Me+"px":"",d.transform="",d))}const cr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,v=A.options,R=v.gpuAcceleration,q=R===void 0||R,H=v.adaptive,ne=H===void 0||H,se=v.roundOffsets,pe=se===void 0||se,Te={placement:on(d.placement),variation:pn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:q,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Vi(Object.assign({},Te,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ne,roundOffsets:pe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Vi(Object.assign({},Te,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var _i={passive:!0};const Us={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,v=A.instance,R=A.options,q=R.scroll,H=q===void 0||q,ne=R.resize,se=ne===void 0||ne,pe=kn(d.elements.popper),Te=[].concat(d.scrollParents.reference,d.scrollParents.popper);return H&&Te.forEach(function(we){we.addEventListener("scroll",v.update,_i)}),se&&pe.addEventListener("resize",v.update,_i),function(){H&&Te.forEach(function(we){we.removeEventListener("scroll",v.update,_i)}),se&&pe.removeEventListener("resize",v.update,_i)}},data:{}};var hr={left:"right",right:"left",bottom:"top",top:"bottom"};function si(A){return A.replace(/left|right|bottom|top/g,function(d){return hr[d]})}var qo={start:"end",end:"start"};function Qt(A){return A.replace(/start|end/g,function(d){return qo[d]})}function ht(A){var d=kn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function ns(A){return lr(xn(A)).left+ht(A).scrollLeft}function Or(A){var d=ki(A),v=d.overflow,R=d.overflowX,q=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+q+R)}function Ho(A){return["html","body","#document"].indexOf(In(A))>=0?A.ownerDocument.body:Dt(A)&&Or(A)?A:Ho(Vn(A))}function fr(A,d){var v;d===void 0&&(d=[]);var R=Ho(A),q=R===((v=A.ownerDocument)==null?void 0:v.body),H=kn(R),ne=q?[H].concat(H.visualViewport||[],Or(R)?R:[]):R,se=d.concat(ne);return q?se:se.concat(fr(Vn(ne)))}function is(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Li(A,d,v){return d===rr?is(function(R,q){var H=kn(R),ne=xn(R),se=H.visualViewport,pe=ne.clientWidth,Te=ne.clientHeight,we=0,Ee=0;if(se){pe=se.width,Te=se.height;var Ke=zo();(Ke||!Ke&&q==="fixed")&&(we=se.offsetLeft,Ee=se.offsetTop)}return{width:pe,height:Te,x:we+ns(R),y:Ee}}(A,v)):St(d)?function(R,q){var H=lr(R,!1,q==="fixed");return H.top=H.top+R.clientTop,H.left=H.left+R.clientLeft,H.bottom=H.top+R.clientHeight,H.right=H.left+R.clientWidth,H.width=R.clientWidth,H.height=R.clientHeight,H.x=H.left,H.y=H.top,H}(d,v):is(function(R){var q,H=xn(R),ne=ht(R),se=(q=R.ownerDocument)==null?void 0:q.body,pe=st(H.scrollWidth,H.clientWidth,se?se.scrollWidth:0,se?se.clientWidth:0),Te=st(H.scrollHeight,H.clientHeight,se?se.scrollHeight:0,se?se.clientHeight:0),we=-ne.scrollLeft+ns(R),Ee=-ne.scrollTop;return ki(se||H).direction==="rtl"&&(we+=st(H.clientWidth,se?se.clientWidth:0)-pe),{width:pe,height:Te,x:we,y:Ee}}(xn(A)))}function rs(A){var d,v=A.reference,R=A.element,q=A.placement,H=q?on(q):null,ne=q?pn(q):null,se=v.x+v.width/2-R.width/2,pe=v.y+v.height/2-R.height/2;switch(H){case nt:d={x:se,y:v.y-R.height};break;case dn:d={x:se,y:v.y+v.height};break;case sn:d={x:v.x+v.width,y:pe};break;case xt:d={x:v.x-R.width,y:pe};break;default:d={x:v.x,y:v.y}}var Te=H?Vs(H):null;if(Te!=null){var we=Te==="y"?"height":"width";switch(ne){case ir:d[Te]=d[Te]-(v[we]/2-R[we]/2);break;case pi:d[Te]=d[Te]+(v[we]/2-R[we]/2)}}return d}function gn(A,d){d===void 0&&(d={});var v=d,R=v.placement,q=R===void 0?A.placement:R,H=v.strategy,ne=H===void 0?A.strategy:H,se=v.boundary,pe=se===void 0?jo:se,Te=v.rootBoundary,we=Te===void 0?rr:Te,Ee=v.elementContext,Ke=Ee===void 0?Pn:Ee,Me=v.altBoundary,Ye=Me!==void 0&&Me,je=v.padding,Ve=je===void 0?0:je,gt=Bo(typeof Ve!="number"?Ve:ts(Ve,Ir)),bt=Ke===Pn?an:Pn,Ze=A.rects.popper,ct=A.elements[Ye?bt:Ke],ze=function(en,yn,Ei,Xe){var bi=yn==="clippingParents"?function(Tt){var vn=fr(Vn(Tt)),Xn=["absolute","fixed"].indexOf(ki(Tt).position)>=0&&Dt(Tt)?ri(Tt):Tt;return St(Xn)?vn.filter(function(gr){return St(gr)&&Tl(gr,Xn)&&In(gr)!=="body"}):[]}(en):[].concat(yn),Ti=[].concat(bi,[Ei]),ra=Ti[0],tn=Ti.reduce(function(Tt,vn){var Xn=Li(en,vn,Xe);return Tt.top=st(Xn.top,Tt.top),Tt.right=or(Xn.right,Tt.right),Tt.bottom=or(Xn.bottom,Tt.bottom),Tt.left=st(Xn.left,Tt.left),Tt},Li(en,ra,Xe));return tn.width=tn.right-tn.left,tn.height=tn.bottom-tn.top,tn.x=tn.left,tn.y=tn.top,tn}(St(ct)?ct:ct.contextElement||xn(A.elements.popper),pe,we,ne),be=lr(A.elements.reference),Ne=rs({reference:be,element:Ze,placement:q}),Be=is(Object.assign({},Ze,Ne)),ft=Ke===Pn?Be:be,Ct={top:ze.top-ft.top+gt.top,bottom:ft.bottom-ze.bottom+gt.bottom,left:ze.left-ft.left+gt.left,right:ft.right-ze.right+gt.right},Jt=A.modifiersData.offset;if(Ke===Pn&&Jt){var Qn=Jt[q];Object.keys(Ct).forEach(function(en){var yn=[sn,dn].indexOf(en)>=0?1:-1,Ei=[nt,dn].indexOf(en)>=0?"y":"x";Ct[en]+=Qn[Ei]*yn})}return Ct}function Al(A,d){d===void 0&&(d={});var v=d,R=v.placement,q=v.boundary,H=v.rootBoundary,ne=v.padding,se=v.flipVariations,pe=v.allowedAutoPlacements,Te=pe===void 0?Ia:pe,we=pn(R),Ee=we?se?xr:xr.filter(function(Ye){return pn(Ye)===we}):Ir,Ke=Ee.filter(function(Ye){return Te.indexOf(Ye)>=0});Ke.length===0&&(Ke=Ee);var Me=Ke.reduce(function(Ye,je){return Ye[je]=gn(A,{placement:je,boundary:q,rootBoundary:H,padding:ne})[on(je)],Ye},{});return Object.keys(Me).sort(function(Ye,je){return Me[Ye]-Me[je]})}const wl={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name;if(!d.modifiersData[R]._skip){for(var q=v.mainAxis,H=q===void 0||q,ne=v.altAxis,se=ne===void 0||ne,pe=v.fallbackPlacements,Te=v.padding,we=v.boundary,Ee=v.rootBoundary,Ke=v.altBoundary,Me=v.flipVariations,Ye=Me===void 0||Me,je=v.allowedAutoPlacements,Ve=d.options.placement,gt=on(Ve),bt=pe||(gt!==Ve&&Ye?function(Tt){if(on(Tt)===mi)return[];var vn=si(Tt);return[Qt(Tt),vn,Qt(vn)]}(Ve):[si(Ve)]),Ze=[Ve].concat(bt).reduce(function(Tt,vn){return Tt.concat(on(vn)===mi?Al(d,{placement:vn,boundary:we,rootBoundary:Ee,padding:Te,flipVariations:Ye,allowedAutoPlacements:je}):vn)},[]),ct=d.rects.reference,ze=d.rects.popper,be=new Map,Ne=!0,Be=Ze[0],ft=0;ft<Ze.length;ft++){var Ct=Ze[ft],Jt=on(Ct),Qn=pn(Ct)===ir,en=[nt,dn].indexOf(Jt)>=0,yn=en?"width":"height",Ei=gn(d,{placement:Ct,boundary:we,rootBoundary:Ee,altBoundary:Ke,padding:Te}),Xe=en?Qn?sn:xt:Qn?dn:nt;ct[yn]>ze[yn]&&(Xe=si(Xe));var bi=si(Xe),Ti=[];if(H&&Ti.push(Ei[Jt]<=0),se&&Ti.push(Ei[Xe]<=0,Ei[bi]<=0),Ti.every(function(Tt){return Tt})){Be=Ct,Ne=!1;break}be.set(Ct,Ti)}if(Ne)for(var ra=function(Tt){var vn=Ze.find(function(Xn){var gr=be.get(Xn);if(gr)return gr.slice(0,Tt).every(function(En){return En})});if(vn)return Be=vn,"break"},tn=Ye?3:1;tn>0&&ra(tn)!=="break";tn--);d.placement!==Be&&(d.modifiersData[R]._skip=!0,d.placement=Be,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ss(A,d,v){return v===void 0&&(v={x:0,y:0}),{top:A.top-d.height-v.y,right:A.right-d.width+v.x,bottom:A.bottom-d.height+v.y,left:A.left-d.width-v.x}}function js(A){return[nt,sn,dn,xt].some(function(d){return A[d]>=0})}const Ma={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,v=A.name,R=d.rects.reference,q=d.rects.popper,H=d.modifiersData.preventOverflow,ne=gn(d,{elementContext:"reference"}),se=gn(d,{altBoundary:!0}),pe=ss(ne,R),Te=ss(se,q,H),we=js(pe),Ee=js(Te);d.modifiersData[v]={referenceClippingOffsets:pe,popperEscapeOffsets:Te,isReferenceHidden:we,hasPopperEscaped:Ee},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":we,"data-popper-escaped":Ee})}},zs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,v=A.options,R=A.name,q=v.offset,H=q===void 0?[0,0]:q,ne=Ia.reduce(function(we,Ee){return we[Ee]=function(Ke,Me,Ye){var je=on(Ke),Ve=[xt,nt].indexOf(je)>=0?-1:1,gt=typeof Ye=="function"?Ye(Object.assign({},Me,{placement:Ke})):Ye,bt=gt[0],Ze=gt[1];return bt=bt||0,Ze=(Ze||0)*Ve,[xt,sn].indexOf(je)>=0?{x:Ze,y:bt}:{x:bt,y:Ze}}(Ee,d.rects,H),we},{}),se=ne[d.placement],pe=se.x,Te=se.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=pe,d.modifiersData.popperOffsets.y+=Te),d.modifiersData[R]=ne}},Pa={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,v=A.name;d.modifiersData[v]=rs({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Bs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,R=A.name,q=v.mainAxis,H=q===void 0||q,ne=v.altAxis,se=ne!==void 0&&ne,pe=v.boundary,Te=v.rootBoundary,we=v.altBoundary,Ee=v.padding,Ke=v.tether,Me=Ke===void 0||Ke,Ye=v.tetherOffset,je=Ye===void 0?0:Ye,Ve=gn(d,{boundary:pe,rootBoundary:Te,padding:Ee,altBoundary:we}),gt=on(d.placement),bt=pn(d.placement),Ze=!bt,ct=Vs(gt),ze=ct==="x"?"y":"x",be=d.modifiersData.popperOffsets,Ne=d.rects.reference,Be=d.rects.popper,ft=typeof je=="function"?je(Object.assign({},d.rects,{placement:d.placement})):je,Ct=typeof ft=="number"?{mainAxis:ft,altAxis:ft}:Object.assign({mainAxis:0,altAxis:0},ft),Jt=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Qn={x:0,y:0};if(be){if(H){var en,yn=ct==="y"?nt:xt,Ei=ct==="y"?dn:sn,Xe=ct==="y"?"height":"width",bi=be[ct],Ti=bi+Ve[yn],ra=bi-Ve[Ei],tn=Me?-Be[Xe]/2:0,Tt=bt===ir?Ne[Xe]:Be[Xe],vn=bt===ir?-Be[Xe]:-Ne[Xe],Xn=d.elements.arrow,gr=Me&&Xn?ks(Xn):{width:0,height:0},En=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},zt=En[yn],Vl=En[Ei],ms=$n(0,Ne[Xe],gr[Xe]),Ll=Ze?Ne[Xe]/2-tn-ms-zt-Ct.mainAxis:Tt-ms-zt-Ct.mainAxis,fc=Ze?-Ne[Xe]/2+tn+ms+Vl+Ct.mainAxis:vn+ms+Vl+Ct.mainAxis,Hi=d.elements.arrow&&ri(d.elements.arrow),Ul=Hi?ct==="y"?Hi.clientTop||0:Hi.clientLeft||0:0,jl=(en=Jt==null?void 0:Jt[ct])!=null?en:0,dc=bi+fc-jl,mc=$n(Me?or(Ti,bi+Ll-jl-Ul):Ti,bi,Me?st(ra,dc):ra);be[ct]=mc,Qn[ct]=mc-bi}if(se){var pc,Zh=ct==="x"?nt:xt,Jh=ct==="x"?dn:sn,ps=be[ze],sl=ze==="y"?"height":"width",zl=ps+Ve[Zh],gc=ps-Ve[Jh],_c=[nt,xt].indexOf(gt)!==-1,yc=(pc=Jt==null?void 0:Jt[ze])!=null?pc:0,vc=_c?zl:ps-Ne[sl]-Be[sl]-yc+Ct.altAxis,Ec=_c?ps+Ne[sl]+Be[sl]-yc-Ct.altAxis:gc,Bl=Me&&_c?function(ef,tf,ql){var bc=$n(ef,tf,ql);return bc>ql?ql:bc}(vc,ps,Ec):$n(Me?vc:zl,ps,Me?Ec:gc);be[ze]=Bl,Qn[ze]=Bl-ps}d.modifiersData[R]=Qn}},requiresIfExists:["offset"]};function ju(A,d,v){v===void 0&&(v=!1);var R,q,H=Dt(d),ne=Dt(d)&&function(Ee){var Ke=Ee.getBoundingClientRect(),Me=mn(Ke.width)/Ee.offsetWidth||1,Ye=mn(Ke.height)/Ee.offsetHeight||1;return Me!==1||Ye!==1}(d),se=xn(d),pe=lr(A,ne,v),Te={scrollLeft:0,scrollTop:0},we={x:0,y:0};return(H||!H&&!v)&&((In(d)!=="body"||Or(se))&&(Te=(R=d)!==kn(R)&&Dt(R)?{scrollLeft:(q=R).scrollLeft,scrollTop:q.scrollTop}:ht(R)),Dt(d)?((we=lr(d,!0)).x+=d.clientLeft,we.y+=d.clientTop):se&&(we.x=ns(se))),{x:pe.left+Te.scrollLeft-we.x,y:pe.top+Te.scrollTop-we.y,width:pe.width,height:pe.height}}function Fo(A){var d=new Map,v=new Set,R=[];function q(H){v.add(H.name),[].concat(H.requires||[],H.requiresIfExists||[]).forEach(function(ne){if(!v.has(ne)){var se=d.get(ne);se&&q(se)}}),R.push(H)}return A.forEach(function(H){d.set(H.name,H)}),A.forEach(function(H){v.has(H.name)||q(H)}),R}var as={placement:"bottom",modifiers:[],strategy:"absolute"};function $o(){for(var A=arguments.length,d=new Array(A),v=0;v<A;v++)d[v]=arguments[v];return!d.some(function(R){return!(R&&typeof R.getBoundingClientRect=="function")})}function qs(A){A===void 0&&(A={});var d=A,v=d.defaultModifiers,R=v===void 0?[]:v,q=d.defaultOptions,H=q===void 0?as:q;return function(ne,se,pe){pe===void 0&&(pe=H);var Te,we,Ee={placement:"bottom",orderedModifiers:[],options:Object.assign({},as,H),modifiersData:{},elements:{reference:ne,popper:se},attributes:{},styles:{}},Ke=[],Me=!1,Ye={state:Ee,setOptions:function(Ve){var gt=typeof Ve=="function"?Ve(Ee.options):Ve;je(),Ee.options=Object.assign({},H,Ee.options,gt),Ee.scrollParents={reference:St(ne)?fr(ne):ne.contextElement?fr(ne.contextElement):[],popper:fr(se)};var bt,Ze,ct=function(ze){var be=Fo(ze);return Da.reduce(function(Ne,Be){return Ne.concat(be.filter(function(ft){return ft.phase===Be}))},[])}((bt=[].concat(R,Ee.options.modifiers),Ze=bt.reduce(function(ze,be){var Ne=ze[be.name];return ze[be.name]=Ne?Object.assign({},Ne,be,{options:Object.assign({},Ne.options,be.options),data:Object.assign({},Ne.data,be.data)}):be,ze},{}),Object.keys(Ze).map(function(ze){return Ze[ze]})));return Ee.orderedModifiers=ct.filter(function(ze){return ze.enabled}),Ee.orderedModifiers.forEach(function(ze){var be=ze.name,Ne=ze.options,Be=Ne===void 0?{}:Ne,ft=ze.effect;if(typeof ft=="function"){var Ct=ft({state:Ee,name:be,instance:Ye,options:Be});Ke.push(Ct||function(){})}}),Ye.update()},forceUpdate:function(){if(!Me){var Ve=Ee.elements,gt=Ve.reference,bt=Ve.popper;if($o(gt,bt)){Ee.rects={reference:ju(gt,ri(bt),Ee.options.strategy==="fixed"),popper:ks(bt)},Ee.reset=!1,Ee.placement=Ee.options.placement,Ee.orderedModifiers.forEach(function(ft){return Ee.modifiersData[ft.name]=Object.assign({},ft.data)});for(var Ze=0;Ze<Ee.orderedModifiers.length;Ze++)if(Ee.reset!==!0){var ct=Ee.orderedModifiers[Ze],ze=ct.fn,be=ct.options,Ne=be===void 0?{}:be,Be=ct.name;typeof ze=="function"&&(Ee=ze({state:Ee,options:Ne,name:Be,instance:Ye})||Ee)}else Ee.reset=!1,Ze=-1}}},update:(Te=function(){return new Promise(function(Ve){Ye.forceUpdate(),Ve(Ee)})},function(){return we||(we=new Promise(function(Ve){Promise.resolve().then(function(){we=void 0,Ve(Te())})})),we}),destroy:function(){je(),Me=!0}};if(!$o(ne,se))return Ye;function je(){Ke.forEach(function(Ve){return Ve()}),Ke=[]}return Ye.setOptions(pe).then(function(Ve){!Me&&pe.onFirstUpdate&&pe.onFirstUpdate(Ve)}),Ye}}var Go=qs(),Hs=qs({defaultModifiers:[Us,Pa,cr,ar]}),ka=qs({defaultModifiers:[Us,Pa,cr,ar,zs,wl,Bs,gi,Ma]});const Fs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Rn,afterRead:Os,afterWrite:Ps,applyStyles:ar,arrow:gi,auto:mi,basePlacements:Ir,beforeMain:xa,beforeRead:sr,beforeWrite:Na,bottom:dn,clippingParents:jo,computeStyles:cr,createPopper:ka,createPopperBase:Go,createPopperLite:Hs,detectOverflow:gn,end:pi,eventListeners:Us,flip:wl,hide:Ma,left:xt,main:Ms,modifierPhases:Da,offset:zs,placements:Ia,popper:Pn,popperGenerator:qs,popperOffsets:Pa,preventOverflow:Bs,read:Ds,reference:an,right:sn,start:ir,top:nt,variationPlacements:xr,viewport:rr,write:bl},Symbol.toStringTag,{value:"Module"})),Ko="dropdown",Ui=".bs.dropdown",ji=".data-api",Sl="ArrowUp",Yo="ArrowDown",Cl=`hide${Ui}`,Rl=`hidden${Ui}`,Va=`show${Ui}`,Ln=`shown${Ui}`,Qo=`click${Ui}${ji}`,Xo=`keydown${Ui}${ji}`,dr=`keyup${Ui}${ji}`,c="show",y='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',E=`${y}.${c}`,I=".dropdown-menu",$=Q()?"top-end":"top-start",te=Q()?"top-start":"top-end",ye=Q()?"bottom-end":"bottom-start",at=Q()?"bottom-start":"bottom-end",Xt=Q()?"left-start":"right-start",ot=Q()?"right-start":"left-start",ln={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zt extends xe{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ve.next(this._element,I)[0]||ve.prev(this._element,I)[0]||ve.findOne(I,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ln}static get DefaultType(){return Wt}static get NAME(){return Ko}toggle(){return this._isShown()?this.hide():this.show()}show(){if(T(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!C.trigger(this._element,Va,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))C.on(v,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(c),this._element.classList.add(c),C.trigger(this._element,Ln,d)}}hide(){if(T(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!C.trigger(this._element,Cl,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))C.off(v,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(c),this._element.classList.remove(c),this._element.setAttribute("aria-expanded","false"),_e.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Rl,d),this._element.focus()}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!p(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Ko.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(Fs===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:p(this._config.reference)?d=g(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=ka(d,this._menu,v)}_isShown(){return this._menu.classList.contains(c)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return Xt;if(d.classList.contains("dropstart"))return ot;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?te:$:v?at:ye}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(_e.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...Z(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:v}){const R=ve.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>_(q));R.length&&Ae(R,v,d===Yo,!R.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=Zt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ve.find(E);for(const R of v){const q=Zt.getInstance(R);if(!q||q._config.autoClose===!1)continue;const H=d.composedPath(),ne=H.includes(q._menu);if(H.includes(q._element)||q._config.autoClose==="inside"&&!ne||q._config.autoClose==="outside"&&ne||q._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const se={relatedTarget:q._element};d.type==="click"&&(se.clickEvent=d),q._completeHide(se)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),R=d.key==="Escape",q=[Sl,Yo].includes(d.key);if(!q&&!R||v&&!R)return;d.preventDefault();const H=this.matches(y)?this:ve.prev(this,y)[0]||ve.next(this,y)[0]||ve.findOne(y,d.delegateTarget.parentNode),ne=Zt.getOrCreateInstance(H);if(q)return d.stopPropagation(),ne.show(),void ne._selectMenuItem(d);ne._isShown()&&(d.stopPropagation(),ne.hide(),H.focus())}}C.on(document,Xo,y,Zt.dataApiKeydownHandler),C.on(document,Xo,I,Zt.dataApiKeydownHandler),C.on(document,Qo,Zt.clearMenus),C.on(document,dr,Zt.clearMenus),C.on(document,Qo,y,function(A){A.preventDefault(),Zt.getOrCreateInstance(this).toggle()}),ie(Zt);const un="backdrop",zi="show",La=`mousedown.bs.${un}`,Il={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Dh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zu extends $e{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Il}static get DefaultType(){return Dh}static get NAME(){return un}show(d){if(!this._config.isVisible)return void Z(d);this._append();const v=this._getElement();this._config.isAnimated&&z(v),v.classList.add(zi),this._emulateAnimation(()=>{Z(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(zi),this._emulateAnimation(()=>{this.dispose(),Z(d)})):Z(d)}dispose(){this._isAppended&&(C.off(this._element,La),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=g(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),C.on(d,La,()=>{Z(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){de(d,this._getElement(),this._config.isAnimated)}}const Ua=".bs.focustrap",Bu=`focusin${Ua}`,Oh=`keydown.tab${Ua}`,qu="backward",Mh={autofocus:!0,trapElement:null},Wd={autofocus:"boolean",trapElement:"element"};class Ph extends $e{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Mh}static get DefaultType(){return Wd}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Ua),C.on(document,Bu,d=>this._handleFocusin(d)),C.on(document,Oh,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Ua))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const R=ve.focusableChildren(v);R.length===0?v.focus():this._lastTabNavDirection===qu?R[R.length-1].focus():R[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?qu:"forward")}}const kh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Vh=".sticky-top",xl="padding-right",Gn="margin-right";class $s{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xl,v=>v+d),this._setElementAttributes(kh,xl,v=>v+d),this._setElementAttributes(Vh,Gn,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xl),this._resetElementAttributes(kh,xl),this._resetElementAttributes(Vh,Gn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,R){const q=this.getWidth();this._applyManipulationCallback(d,H=>{if(H!==this._element&&window.innerWidth>H.clientWidth+q)return;this._saveInitialAttribute(H,v);const ne=window.getComputedStyle(H).getPropertyValue(v);H.style.setProperty(v,`${R(Number.parseFloat(ne))}px`)})}_saveInitialAttribute(d,v){const R=d.style.getPropertyValue(v);R&&_e.setDataAttribute(d,v,R)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,R=>{const q=_e.getDataAttribute(R,v);q!==null?(_e.removeDataAttribute(R,v),R.style.setProperty(v,q)):R.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(p(d))v(d);else for(const R of ve.find(d,this._element))v(R)}}const ai=".bs.modal",Lh=`hide${ai}`,Uh=`hidePrevented${ai}`,Hu=`hidden${ai}`,Nl=`show${ai}`,Zd=`shown${ai}`,ja=`resize${ai}`,Fu=`click.dismiss${ai}`,Wo=`mousedown.dismiss${ai}`,$u=`keydown.dismiss${ai}`,jh=`click${ai}.data-api`,os="modal-open",Gs="show",Zo="modal-static",zh={backdrop:!0,focus:!0,keyboard:!0},Ks={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ls extends xe{constructor(d,v){super(d,v),this._dialog=ve.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $s,this._addEventListeners()}static get Default(){return zh}static get DefaultType(){return Ks}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||C.trigger(this._element,Nl,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(os),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(C.trigger(this._element,Lh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Gs),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){C.off(window,ai),C.off(this._dialog,ai),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ph({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ve.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),z(this._element),this._element.classList.add(Gs),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,Zd,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,$u,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),C.on(window,ja,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,Wo,d=>{C.one(this._element,Fu,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(os),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,Hu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(C.trigger(this._element,Uh).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(Zo)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Zo),this._queueCallback(()=>{this._element.classList.remove(Zo),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),R=v>0;if(R&&!d){const q=Q()?"paddingLeft":"paddingRight";this._element.style[q]=`${v}px`}if(!R&&d){const q=Q()?"paddingRight":"paddingLeft";this._element.style[q]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const R=ls.getOrCreateInstance(this,d);if(typeof d=="string"){if(R[d]===void 0)throw new TypeError(`No method named "${d}"`);R[d](v)}})}}C.on(document,jh,'[data-bs-toggle="modal"]',function(A){const d=ve.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),C.one(d,Nl,R=>{R.defaultPrevented||C.one(d,Hu,()=>{_(this)&&this.focus()})});const v=ve.findOne(".modal.show");v&&ls.getInstance(v).hide(),ls.getOrCreateInstance(d).toggle(this)}),Cn(ls),ie(ls);const mr=".bs.offcanvas",Gu=".data-api",Jd=`load${mr}${Gu}`,Bh="show",qh="showing",Ku="hiding",Yu=".offcanvas.show",Qu=`show${mr}`,Bi=`shown${mr}`,Hh=`hide${mr}`,oi=`hidePrevented${mr}`,li=`hidden${mr}`,za=`resize${mr}`,Xu=`click${mr}${Gu}`,Dl=`keydown.dismiss${mr}`,Ol={backdrop:!0,keyboard:!0,scroll:!1},Wu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Kn extends xe{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ol}static get DefaultType(){return Wu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||C.trigger(this._element,Qu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new $s().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Bh),this._element.classList.remove(qh),C.trigger(this._element,Bi,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(C.trigger(this._element,Hh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ku),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Bh,Ku),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $s().reset(),C.trigger(this._element,li)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new zu({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():C.trigger(this._element,oi)}:null})}_initializeFocusTrap(){return new Ph({trapElement:this._element})}_addEventListeners(){C.on(this._element,Dl,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():C.trigger(this._element,oi))})}static jQueryInterface(d){return this.each(function(){const v=Kn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}C.on(document,Xu,'[data-bs-toggle="offcanvas"]',function(A){const d=ve.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),T(this))return;C.one(d,li,()=>{_(this)&&this.focus()});const v=ve.findOne(Yu);v&&v!==d&&Kn.getInstance(v).hide(),Kn.getOrCreateInstance(d).toggle(this)}),C.on(window,Jd,()=>{for(const A of ve.find(Yu))Kn.getOrCreateInstance(A).show()}),C.on(window,za,()=>{for(const A of ve.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&Kn.getOrCreateInstance(A).hide()}),Cn(Kn),ie(Kn);const Zu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ml=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ba=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,em=(A,d)=>{const v=A.nodeName.toLowerCase();return d.includes(v)?!Ml.has(v)||!!Ba.test(A.nodeValue):d.filter(R=>R instanceof RegExp).some(R=>R.test(v))},ui={allowList:Zu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ju={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Mr={entry:"(string|element|function|null)",selector:"(string|element)"};class Fh extends $e{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return ui}static get DefaultType(){return Ju}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[q,H]of Object.entries(this._config.content))this._setContent(d,H,q);const v=d.children[0],R=this._resolvePossibleFunction(this._config.extraClass);return R&&v.classList.add(...R.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,R]of Object.entries(d))super._typeCheckConfig({selector:v,entry:R},Mr)}_setContent(d,v,R){const q=ve.findOne(R,d);q&&((v=this._resolvePossibleFunction(v))?p(v)?this._putElementInTemplate(g(v),q):this._config.html?q.innerHTML=this._maybeSanitize(v):q.textContent=v:q.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,R,q){if(!v.length)return v;if(q&&typeof q=="function")return q(v);const H=new window.DOMParser().parseFromString(v,"text/html"),ne=[].concat(...H.body.querySelectorAll("*"));for(const se of ne){const pe=se.nodeName.toLowerCase();if(!Object.keys(R).includes(pe)){se.remove();continue}const Te=[].concat(...se.attributes),we=[].concat(R["*"]||[],R[pe]||[]);for(const Ee of Te)em(Ee,we)||se.removeAttribute(Ee.nodeName)}return H.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return Z(d,[void 0,this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const Pl=new Set(["sanitize","allowList","sanitizeFn"]),Pr="fade",qa="show",ec=".tooltip-inner",Ys=".modal",Qs="hide.bs.modal",us="hover",Ha="focus",Yn="click",yi={AUTO:"auto",TOP:"top",RIGHT:Q()?"left":"right",BOTTOM:"bottom",LEFT:Q()?"right":"left"},Xs={allowList:Zu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},kr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Un extends xe{constructor(d,v){if(Fs===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xs}static get DefaultType(){return kr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(Ys),Qs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=C.trigger(this._element,this.constructor.eventName("show")),v=(N(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const R=this._getTipElement();this._element.setAttribute("aria-describedby",R.getAttribute("id"));const{container:q}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(q.append(R),C.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(R),R.classList.add(qa),"ontouchstart"in document.documentElement)for(const H of[].concat(...document.body.children))C.on(H,"mouseover",x);this._queueCallback(()=>{C.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!C.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(qa),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))C.off(d,"mouseover",x);this._activeTrigger[Yn]=!1,this._activeTrigger[Ha]=!1,this._activeTrigger[us]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Pr,qa),v.classList.add(`bs-${this.constructor.NAME}-auto`);const R=(q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q})(this.constructor.NAME).toString();return v.setAttribute("id",R),this._isAnimated()&&v.classList.add(Pr),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new Fh({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ec]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Pr)}_isShown(){return this.tip&&this.tip.classList.contains(qa)}_createPopper(d){const v=Z(this._config.placement,[this,d,this._element]),R=yi[v.toUpperCase()];return ka(this._element,d,this._getPopperConfig(R))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return Z(d,[this._element,this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:R=>{this._getTipElement().setAttribute("data-popper-placement",R.state.placement)}}]};return{...v,...Z(this._config.popperConfig,[void 0,v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")C.on(this._element,this.constructor.eventName("click"),this._config.selector,R=>{const q=this._initializeOnDelegatedTarget(R);q._activeTrigger[Yn]=!(q._isShown()&&q._activeTrigger[Yn]),q.toggle()});else if(v!=="manual"){const R=v===us?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),q=v===us?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");C.on(this._element,R,this._config.selector,H=>{const ne=this._initializeOnDelegatedTarget(H);ne._activeTrigger[H.type==="focusin"?Ha:us]=!0,ne._enter()}),C.on(this._element,q,this._config.selector,H=>{const ne=this._initializeOnDelegatedTarget(H);ne._activeTrigger[H.type==="focusout"?Ha:us]=ne._element.contains(H.relatedTarget),ne._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(Ys),Qs,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=_e.getDataAttributes(this._element);for(const R of Object.keys(v))Pl.has(R)&&delete v[R];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:g(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,R]of Object.entries(this._config))this.constructor.Default[v]!==R&&(d[v]=R);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Un.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}ie(Un);const Ws=".popover-header",$h=".popover-body",tc={...Un.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nc={...Un.DefaultType,content:"(null|string|element|function)"};class cn extends Un{static get Default(){return tc}static get DefaultType(){return nc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Ws]:this._getTitle(),[$h]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=cn.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}ie(cn);const Ot=".bs.scrollspy",pt=`activate${Ot}`,cs=`click${Ot}`,pr=`load${Ot}.data-api`,hs="active",Vr="[href]",ic=".nav-link",Gh=`${ic}, .nav-item > ${ic}, .list-group-item`,Jo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},el={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Fa extends xe{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Jo}static get DefaultType(){return el}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=g(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,cs),C.on(this._config.target,cs,Vr,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const R=this._rootElement||window,q=v.offsetTop-this._element.offsetTop;if(R.scrollTo)return void R.scrollTo({top:q,behavior:"smooth"});R.scrollTop=q}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=ne=>this._targetLinks.get(`#${ne.target.id}`),R=ne=>{this._previousScrollData.visibleEntryTop=ne.target.offsetTop,this._process(v(ne))},q=(this._rootElement||document.documentElement).scrollTop,H=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const ne of d){if(!ne.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(ne));continue}const se=ne.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(H&&se){if(R(ne),!q)return}else H||se||R(ne)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ve.find(Vr,this._config.target);for(const v of d){if(!v.hash||T(v))continue;const R=ve.findOne(decodeURI(v.hash),this._element);_(R)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,R))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(hs),this._activateParents(d),C.trigger(this._element,pt,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ve.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(hs);else for(const v of ve.parents(d,".nav, .list-group"))for(const R of ve.prev(v,Gh))R.classList.add(hs)}_clearActiveClass(d){d.classList.remove(hs);const v=ve.find(`${Vr}.${hs}`,d);for(const R of v)R.classList.remove(hs)}static jQueryInterface(d){return this.each(function(){const v=Fa.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}C.on(window,pr,()=>{for(const A of ve.find('[data-bs-spy="scroll"]'))Fa.getOrCreateInstance(A)}),ie(Fa);const qi=".bs.tab",rc=`hide${qi}`,Zs=`hidden${qi}`,Lr=`show${qi}`,fs=`shown${qi}`,Ur=`click${qi}`,sc=`keydown${qi}`,ac=`load${qi}`,tl="ArrowLeft",nl="ArrowRight",Js="ArrowUp",_n="ArrowDown",$a="Home",oc="End",ea="active",Kh="fade",lc="show",Gt=".dropdown-toggle",il=`:not(${Gt})`,Ga='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ta=`.nav-link${il}, .list-group-item${il}, [role="tab"]${il}, ${Ga}`,uc=`.${ea}[data-bs-toggle="tab"], .${ea}[data-bs-toggle="pill"], .${ea}[data-bs-toggle="list"]`;class vi extends xe{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,sc,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),R=v?C.trigger(v,rc,{relatedTarget:d}):null;C.trigger(d,Lr,{relatedTarget:v}).defaultPrevented||R&&R.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(ea),this._activate(ve.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),C.trigger(d,fs,{relatedTarget:v})):d.classList.add(lc)},d,d.classList.contains(Kh)))}_deactivate(d,v){d&&(d.classList.remove(ea),d.blur(),this._deactivate(ve.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),C.trigger(d,Zs,{relatedTarget:v})):d.classList.remove(lc)},d,d.classList.contains(Kh)))}_keydown(d){if(![tl,nl,Js,_n,$a,oc].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(q=>!T(q));let R;if([$a,oc].includes(d.key))R=v[d.key===$a?0:v.length-1];else{const q=[nl,_n].includes(d.key);R=Ae(v,d.target,q,!0)}R&&(R.focus({preventScroll:!0}),vi.getOrCreateInstance(R).show())}_getChildren(){return ve.find(ta,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const R of v)this._setInitialAttributesOnChild(R)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),R=this._getOuterElement(d);d.setAttribute("aria-selected",v),R!==d&&this._setAttributeIfNotExists(R,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ve.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const R=this._getOuterElement(d);if(!R.classList.contains("dropdown"))return;const q=(H,ne)=>{const se=ve.findOne(H,R);se&&se.classList.toggle(ne,v)};q(Gt,ea),q(".dropdown-menu",lc),R.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,R){d.hasAttribute(v)||d.setAttribute(v,R)}_elemIsActive(d){return d.classList.contains(ea)}_getInnerElement(d){return d.matches(ta)?d:ve.findOne(ta,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=vi.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}C.on(document,Ur,Ga,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),T(this)||vi.getOrCreateInstance(this).show()}),C.on(window,ac,()=>{for(const A of ve.find(uc))vi.getOrCreateInstance(A)}),ie(vi);const ci=".bs.toast",tm=`mouseover${ci}`,Yh=`mouseout${ci}`,nm=`focusin${ci}`,Qh=`focusout${ci}`,na=`hide${ci}`,cc=`hidden${ci}`,kl=`show${ci}`,Xh=`shown${ci}`,Ka="hide",rl="show",ia="showing",hc={animation:"boolean",autohide:"boolean",delay:"number"},Wh={animation:!0,autohide:!0,delay:5e3};class ds extends xe{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Wh}static get DefaultType(){return hc}static get NAME(){return"toast"}show(){C.trigger(this._element,kl).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ka),z(this._element),this._element.classList.add(rl,ia),this._queueCallback(()=>{this._element.classList.remove(ia),C.trigger(this._element,Xh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(C.trigger(this._element,na).defaultPrevented||(this._element.classList.add(ia),this._queueCallback(()=>{this._element.classList.add(Ka),this._element.classList.remove(ia,rl),C.trigger(this._element,cc)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rl),super.dispose()}isShown(){return this._element.classList.contains(rl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const R=d.relatedTarget;this._element===R||this._element.contains(R)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,tm,d=>this._onInteraction(d,!0)),C.on(this._element,Yh,d=>this._onInteraction(d,!1)),C.on(this._element,nm,d=>this._onInteraction(d,!0)),C.on(this._element,Qh,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=ds.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return Cn(ds),ie(ds),{Alert:Ni,Button:Tr,Carousel:Cr,Collapse:$t,Dropdown:Zt,Modal:ls,Offcanvas:Kn,Popover:cn,ScrollSpy:Fa,Tab:vi,Toast:ds,Tooltip:Un}})}(sd)),sd.exports}oO();CA.createRoot(document.getElementById("root")).render(S.jsx(_o.StrictMode,{children:S.jsx($w,{children:S.jsx(sO,{})})}));
